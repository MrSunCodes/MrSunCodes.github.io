<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬äºŒè¯¾ä½œä¸š</title>
    <url>/2020/03/19/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E8%AF%BE%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<p>ç¬¬äºŒä¸ªä½œä¸šï¼Œæ˜¯å…³äºé€»è¾‘å›å½’çš„ï¼Œé€»è¾‘å›å½’å¯ä»¥çœ‹åšæ˜¯çº¿æ€§å›å½’çš„æ‹“å±•ã€‚è¿˜æ˜¯å°†æ­¥éª¤åˆ†ä¸º7æ­¥ï¼Œå®é™…ä¸Šæˆ‘ç¬¬ä¸€éåšçš„æ—¶å€™ç±»ä¼¼ç¬¬ä¸€æ¬¡ä½œä¸šå†™çš„ä»£ç ï¼Œè·å¾—çš„æ­£ç¡®ç‡å¤§æ¦‚æ˜¯80%ï¼Œè¯´å®è¯æœ‰ç‚¹ä½ï¼Œäºæ˜¯å‚è€ƒäº†ä¸€ä¸‹è€å¸ˆçš„ä»£ç ï¼Œå¹¶ä¼˜åŒ–äº†ä¸€ä¸‹ï¼Œæœ€åçš„æ­£ç¡®ç‡ä»å¤§æ¦‚æ˜¯87.89%ã€‚è¿™ç¯‡åšå®¢ä¾¿æ˜¯å°†ä½œä¸šæ€è·¯åšä¸€ä¸‹æ€»ç»“ã€‚</p>
<a id="more"></a>

<h1 id="Step1ï¼šæ˜ç¡®ç›®æ ‡"><a href="#Step1ï¼šæ˜ç¡®ç›®æ ‡" class="headerlink" title="Step1ï¼šæ˜ç¡®ç›®æ ‡"></a><strong>Step1ï¼šæ˜ç¡®ç›®æ ‡</strong></h1><img src="/2020/03/19/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E8%AF%BE%E4%BD%9C%E4%B8%9A/1.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬äºŒè¯¾ä½œä¸š]">  
<img src="/2020/03/19/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E8%AF%BE%E4%BD%9C%E4%B8%9A/2.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬äºŒè¯¾ä½œä¸š]">  

<p>ç»™æˆ‘ä»¬çš„ä¸€å…±æ˜¯å…­ä¸ªï¼šè¾“å‡ºç»“æœçš„æ ¼å¼ï¼Œéœ€è¦ä½ é¢„æµ‹çš„ä¸å¸¦æ ‡ç­¾çš„æµ‹è¯•é›†ï¼Œè®­ç»ƒé›†ï¼ŒX_train,Y_train,X_testã€‚å®é™…ä¸Šé€šè¿‡è§‚å¯Ÿåä¸‰ä¸ªæ–‡ä»¶ï¼Œå‘ç°åªéœ€è¦åä¸‰ä¸ªæ–‡ä»¶å³å¯ï¼Œåä¸‰ä¸ªæ–‡ä»¶æ˜¯è€å¸ˆäº‹å…ˆå¸®æˆ‘ä»¬å°†æ•°æ®æ•´ç†æˆcsvæ ¼å¼å¹¶ä¸”å…¨éƒ½æ˜¯æ•°å­—çš„æ•°æ®ã€‚ç»è¿‡è§‚å¯Ÿæˆ‘ä»¬å¯ä»¥å‘ç°<br>è®­ç»ƒæ•°æ®å…±54256ä¸ªï¼Œæµ‹è¯•é›†å¤§æ¦‚20000å¤šä¸ªï¼Œç„¶åå‚æ•°å…±510ä¸ªã€‚é‚£ä¹ˆå¯ä»¥å¾—å‡ºç»“è®º</p>
<ul>
<li><input disabled="" type="checkbox"> æ¨¡å‹çš„è¾“å…¥æ˜¯510ç»´</li>
<li><input disabled="" type="checkbox"> æ¨¡å‹è¾“å‡ºæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºé¢„æµ‹çš„æ˜¯æˆ–ä¸æ˜¯ã€‚<br>æ‰€ä»¥æœ€é€‚åˆçš„æ¨¡å‹æ˜¯<strong>Logistic Regression model</strong>ã€‚</li>
</ul>
<h1 id="Step2ï¼šæ•°æ®é¢„å¤„ç†"><a href="#Step2ï¼šæ•°æ®é¢„å¤„ç†" class="headerlink" title="Step2ï¼šæ•°æ®é¢„å¤„ç†"></a><strong>Step2ï¼šæ•°æ®é¢„å¤„ç†</strong></h1><p>è€å¸ˆå·²ç»å°†æ•°æ®å¸®æˆ‘ä»¬å¤„ç†å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è·å–å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ•°æ®é¢„å¤„ç†ï¼Œå°†è¯»åˆ°çš„æ•°æ®åˆ†åˆ«å­˜å…¥X_trainï¼ŒY_train,X_testä¸­</span><br><span class="line">np.random.seed(0)</span><br><span class="line">X_train_fpath &#x3D; &#39;.&#x2F;dataset&#x2F;X_train&#39;</span><br><span class="line">Y_train_fpath &#x3D; &#39;.&#x2F;dataset&#x2F;Y_train&#39;</span><br><span class="line">X_test_fpath &#x3D; &#39;.&#x2F;dataset&#x2F;X_test&#39;</span><br><span class="line">output_fpath &#x3D; &#39;.&#x2F;output_&#123;&#125;.csv&#39;</span><br><span class="line"></span><br><span class="line"># Parse csv files to numpy array</span><br><span class="line">with open(X_train_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    X_train &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1:] for line in f], dtype&#x3D;float)</span><br><span class="line">with open(Y_train_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    Y_train &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1] for line in f], dtype&#x3D;float)</span><br><span class="line">with open(X_test_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    X_test &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1:] for line in f], dtype&#x3D;float)</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šåšå®Œä¹‹åï¼Œæˆ‘ä»¬å°±æŒ‰æ­¥éª¤ç»§ç»­è¿›è¡Œã€‚</p>
<h1 id="Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»å³å…¶ä»–åç»­è®­ç»ƒæ‰€ç”¨åˆ°çš„å‡½æ•°å®šä¹‰"><a href="#Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»å³å…¶ä»–åç»­è®­ç»ƒæ‰€ç”¨åˆ°çš„å‡½æ•°å®šä¹‰" class="headerlink" title="Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»å³å…¶ä»–åç»­è®­ç»ƒæ‰€ç”¨åˆ°çš„å‡½æ•°å®šä¹‰"></a><strong>Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»å³å…¶ä»–åç»­è®­ç»ƒæ‰€ç”¨åˆ°çš„å‡½æ•°å®šä¹‰</strong></h1><p>Normalizeçš„æ–¹æ³•è¿˜æ˜¯ä½¿ç”¨æ ‡å‡†å·®æ ‡å‡†åŒ–æ–¹æ³•ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸€æ¬¡æˆ‘ä»¬å°†æ‰€æœ‰å°†ä¼šç”¨åˆ°çš„æ“ä½œå…¨éƒ¨å†™è¿›å‡½æ•°ï¼Œæ‰€ä»¥æ³¨æ„å‡½æ•°çš„å‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Normalizeå‡½æ•°ï¼Œå¯¹æ•°æ®è¿›è¡Œæ­£è§„åŒ–</span><br><span class="line">def _normalize(X, train&#x3D;True, specified_column&#x3D;None, X_mean&#x3D;None, X_std&#x3D;None):  # å‡½æ•°å†…å®šä¹‰çš„éƒ½æ˜¯é»˜è®¤çš„å‚æ•°ï¼Œå‚æ•°çš„æ„ä¹‰åº•ä¸‹æœ‰è¯´æ˜</span><br><span class="line">    # This function normalizes specific columns of X.</span><br><span class="line">    # The mean and standard variance of training data will be reused when processing testing data.</span><br><span class="line">    #</span><br><span class="line">    # Arguments:</span><br><span class="line">    #     X: data to be processed</span><br><span class="line">    #     train: &#39;True&#39; when processing training data, &#39;False&#39; for testing data</span><br><span class="line">    #     specific_column: indexes of the columns that will be normalized. If &#39;None&#39;, all columns</span><br><span class="line">    #         will be normalized.</span><br><span class="line">    #     X_mean: mean value of training data, used when train &#x3D; &#39;False&#39;</span><br><span class="line">    #     X_std: standard deviation of training data, used when train &#x3D; &#39;False&#39;</span><br><span class="line">    # Outputs:</span><br><span class="line">    #     X: normalized data</span><br><span class="line">    #     X_mean: computed mean value of training data</span><br><span class="line">    #     X_std: computed standard deviation of training data</span><br><span class="line"></span><br><span class="line">    if specified_column &#x3D;&#x3D; None:  # å¦‚æœç­‰äºNoneçš„è¯ï¼Œæ„å‘³ç€æ‰€æœ‰åˆ—éƒ½éœ€è¦æ­£è§„åŒ–</span><br><span class="line">        specified_column &#x3D; np.arange(X.shape[1])  # æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œæ˜¯0-X.shape[1]å³0-509</span><br><span class="line">    if train:  # å¦‚æœtrainä¸ºTrueï¼Œé‚£ä¹ˆè¡¨ç¤ºå¤„ç†training dataï¼Œå¦åˆ™å°±å¤„ç†testing data,å³ä¸å†å¦ç®—X_meanå’ŒX_std</span><br><span class="line">        X_mean &#x3D; np.mean(X[:, specified_column], 0).reshape(1, -1)  # å¯¹Xçš„æ‰€æœ‰è¡Œä»¥åŠç‰¹å®šåˆ—çš„æ•°ç»„ä¸­æ±‚å„åˆ—çš„å¹³å‡å€¼ï¼ˆå› ä¸ºaxisçš„å‚æ•°ä¸º0ï¼‰ï¼Œç„¶åé‡ç»„ä¸ºä¸€è¡Œçš„æ•°ç»„</span><br><span class="line">        X_std &#x3D; np.std(X[:, specified_column], 0).reshape(1, -1)  # åŒX_mean</span><br><span class="line"></span><br><span class="line">    X[:, specified_column] &#x3D; (X[:, specified_column] - X_mean) &#x2F; (X_std + 1e-8)  # X_stdåŠ å…¥ä¸€ä¸ªå¾ˆå°çš„æ•°é˜²æ­¢åˆ†æ¯é™¤ä»¥0</span><br><span class="line"></span><br><span class="line">    return X, X_mean, X_std</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æ˜¯å°†è®­ç»ƒæ•°æ®æŒ‰æ¯”ä¾‹æ‹†æˆè®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®ã€‚è¿™æ ·çš„å¥½å¤„ä¸Šä¸€æ¬¡ä½œä¸šæˆ‘æœ‰è®²è¿‡ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†è®­ç»ƒé›†æ‹†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œé»˜è®¤å€¼æ˜¯0.25ï¼Œå¯ä»¥è°ƒ</span><br><span class="line">def _train_dev_split(X, Y, dev_ratio&#x3D;0.25):</span><br><span class="line">    # This function spilts data into training set and development set.</span><br><span class="line">    train_size &#x3D; int(len(X) * (1 - dev_ratio))</span><br><span class="line">    return X[:train_size], Y[:train_size], X[train_size:], Y[train_size:]</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°å®šä¹‰å®Œäº†ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨å‡½æ•°è¿›è¡Œå¤„ç†å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Normalize training and testing data</span><br><span class="line">X_train, X_mean, X_std &#x3D; _normalize(X_train, train&#x3D;True)</span><br><span class="line">X_test, _, _ &#x3D; _normalize(X_test, train&#x3D;False, X_mean&#x3D;X_mean, X_std&#x3D;X_std)</span><br><span class="line"></span><br><span class="line"># Split data into training set and development setï¼ŒæŒ‰9:1è¿›è¡Œæ‹†åˆ†</span><br><span class="line">dev_ratio &#x3D; 0.1</span><br><span class="line">X_train, Y_train, X_dev, Y_dev &#x3D; _train_dev_split(X_train, Y_train, dev_ratio&#x3D;dev_ratio)</span><br><span class="line"></span><br><span class="line"># ç”¨æ¥çœ‹çœ‹æ‹†å¼€çš„æ•°æ®ï¼Œä»¥åŠæ•°æ®å‚æ•°ç»´åº¦æ˜¯å¦æ­£ç¡®</span><br><span class="line">train_size &#x3D; X_train.shape[0]</span><br><span class="line">dev_size &#x3D; X_dev.shape[0]</span><br><span class="line">test_size &#x3D; X_test.shape[0]</span><br><span class="line">data_dim &#x3D; X_train.shape[1]</span><br><span class="line">print(&#39;Size of training set: &#123;&#125;&#39;.format(train_size))</span><br><span class="line">print(&#39;Size of development set: &#123;&#125;&#39;.format(dev_size))</span><br><span class="line">print(&#39;Size of testing set: &#123;&#125;&#39;.format(test_size))</span><br><span class="line">print(&#39;Dimension of data: &#123;&#125;&#39;.format(data_dim))</span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢å®šä¹‰çš„å‡½æ•°ï¼Œè®­ç»ƒä¸­ä¼šç”¨åˆ°ï¼Œå…·ä½“çš„ç”¨æ³•çœ‹æˆ‘å†™çš„æ³¨é‡Šå³å¯ï¼Œå·²ç»éå¸¸æ˜ç™½äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æŒ‰é¡ºåºæ‰“ä¹±Xå’ŒYï¼Œå³æ‰“ä¹±åï¼ŒX[i]å¯¹åº”çš„ä»æ˜¯Y[i]</span><br><span class="line">def _shuffle(X, Y):</span><br><span class="line">    # This function shuffles two equal-length list&#x2F;array, X and Y, together.</span><br><span class="line">    randomize &#x3D; np.arange(len(X))  # å»ºç«‹ä¸€ä¸ª0-Xçš„è¡Œ-1çš„æ•°ç»„</span><br><span class="line">    np.random.shuffle(randomize)  # ç”Ÿæˆå¤§å°ä¸ºrandomizeçš„éšæœºåˆ—è¡¨ï¼Œ</span><br><span class="line">    return (X[randomize], Y[randomize])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å®šä¹‰sigmoidå‡½æ•°</span><br><span class="line">def _sigmoid(z):</span><br><span class="line">    # Sigmoid function can be used to calculate probability.</span><br><span class="line">    # To avoid overflow, minimum&#x2F;maximum output value is set.</span><br><span class="line">    # ä¸ºé¿å…æº¢å‡ºï¼Œè®¾ç½®äº†æœ€å¤§æœ€å°å€¼ï¼Œå³å¦‚æœsigmoidå‡½æ•°çš„æœ€å°å€¼æ¯”1e-8å°ï¼Œåªä¼šè¾“å‡º1e-8ï¼›è€Œæ¯”1 - (1e-8)å¤§ï¼Œåˆ™åªè¾“å‡º1 - (1e-8)</span><br><span class="line">    return np.clip(1 &#x2F; (1.0 + np.exp(-z)), 1e-8, 1 - (1e-8))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># é€»è¾‘å›å½’çš„æ–¹ç¨‹ï¼Œè¾“å…¥æ˜¯Xï¼Œå‚æ•°æ˜¯wï¼Œbiasæ˜¯bï¼Œæ³¨æ„Xä¸wéƒ½æ˜¯æ•°ç»„ï¼Œè€Œbæ˜¯ä¸€ä¸ªæ•°</span><br><span class="line"># å®é™…ä¸Šè¿™è·Ÿåœ¨Xä¸­æ–°åŠ ä¸€åˆ—å…¨1ä½œä¸ºbçš„ç›¸ä¹˜æ•°çš„ç»“æœæ˜¯ä¸€æ ·çš„</span><br><span class="line">def _f(X, w, b):</span><br><span class="line">    # This is the logistic regression function, parameterized by w and b</span><br><span class="line">    #</span><br><span class="line">    # Arguements:</span><br><span class="line">    #     X: input data, shape &#x3D; [batch_size, data_dimension]</span><br><span class="line">    #     w: weight vector, shape &#x3D; [data_dimension, ]</span><br><span class="line">    #     b: bias, scalar</span><br><span class="line">    # Output:</span><br><span class="line">    #     predicted probability of each row of X being positively labeled, shape &#x3D; [batch_size, ]</span><br><span class="line">    # åœ¨np.matmul(X, w)çš„åŸºç¡€ä¸Šï¼Œæ•°åˆ—ä¸­çš„æ¯ä¸ªå€¼éƒ½åŠ bå¾—åˆ°æœ€ç»ˆçš„æ•°åˆ— matmul&#x3D;dot</span><br><span class="line">    return _sigmoid(np.matmul(X, w) + b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å°†sigmoidä¸­è·å¾—çš„å€¼å››èˆäº”å…¥è½¬æ¢æˆ0æˆ–1(intå‹)ï¼Œæ³¨æ„å¦‚æœæ­£å¥½ä¸º0.5ï¼Œ(è™½ç„¶å‡ ç‡å¾ˆå°)ç»“æœæ˜¯0</span><br><span class="line"># å®é™…ä¸Š</span><br><span class="line">def _predict(X, w, b):</span><br><span class="line">    # This function returns a truth value prediction for each row of X</span><br><span class="line">    # by rounding the result of logistic regression function.</span><br><span class="line">    return np.round(_f(X, w, b)).astype(np.int)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è¿”å›æ¨¡å‹æ­£ç¡®ç‡</span><br><span class="line">def _accuracy(Y_pred, Y_label):</span><br><span class="line">    # This function calculates prediction accuracy</span><br><span class="line">    acc &#x3D; 1 - np.mean(np.abs(</span><br><span class="line">        Y_pred - Y_label))  # np.abs(Y_pred - Y_label) å¦‚æœé¢„æµ‹æ­£ç¡®ï¼Œåˆ™ç»“æœæ˜¯0ï¼Œå¦åˆ™ç»“æœæ˜¯1ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ±‚meanå¹³å‡å€¼çš„è¯æ‰€å¾—å€¼æ˜¯1çš„æ¦‚ç‡(meanç›¸å½“äº 1çš„ä¸ªæ•°&#x2F;æ€»ä¸ªæ•°),é‚£ä¹ˆæˆ‘ä»¬æ±‚0çš„æ¦‚ç‡å°±æ˜¯1-itã€‚è¿™æ¯”æˆ‘çš„æ–¹æ³•ä¸¤ä¸ªforå¾ªç¯å¿«å¤šäº†</span><br><span class="line">    return acc</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># äº¤å‰ç†µ</span><br><span class="line">def _cross_entropy_loss(y_pred, Y_label):</span><br><span class="line">    # This function computes the cross entropy.</span><br><span class="line">    #</span><br><span class="line">    # Arguements:</span><br><span class="line">    #     y_pred: probabilistic predictions, float vectorï¼Œå³è¿˜æœªæ”¾å…¥_predictå‡½æ•°ä¸­çš„_få‡½æ•°çš„ç»“æœ</span><br><span class="line">    #     Y_label: ground truth labels, bool vector çœŸæ­£çš„ç»“æœï¼Œåªæœ‰0å’Œ1ä¸¤ä¸ªå…ƒç´ </span><br><span class="line">    # Output:</span><br><span class="line">    #     cross entropy, scalar è¾“å‡ºæ˜¯äº¤å‰ç†µæ˜¯ä¸€ä¸ªæ•°,å…·ä½“å…¬å¼ä¸æ¨å¯¼å¯çœ‹ç¬”è®°æˆ–Logistic Regression ppt11é¡µ</span><br><span class="line">    cross_entropy &#x3D; -np.dot(Y_label, np.log(y_pred)) - np.dot((1 - Y_label), np.log(1 - y_pred))</span><br><span class="line">    return cross_entropy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># è¿”å›è¦è°ƒæ•´çš„wå‚æ•°çš„gradientä¸bå‚æ•°çš„gradientï¼Œå…·ä½“å…¬å¼ä¸æ¨å¯¼è¯·çœ‹ç¬”è®°æˆ–Logistic Regression ppt11é¡µ</span><br><span class="line">def _gradient(X, Y_label, w, b):</span><br><span class="line">    # This function computes the gradient of cross entropy loss with respect to weight w and bias b.</span><br><span class="line">    y_pred &#x3D; _f(X, w, b)  # é¢„æµ‹å€¼ï¼Œæ˜¯floatç±»å‹è€Œä¸æ˜¯bool</span><br><span class="line">    pred_error &#x3D; Y_label - y_pred  # çœŸå®å€¼-é¢„æµ‹å€¼ï¼Œå³è¯¯å·®</span><br><span class="line">    w_grad &#x3D; -np.sum(pred_error * X.T, 1)  # X.Tå°±æ˜¯Xçš„è½¬ç½®ï¼Œaxiså–å€¼ä¸º1æ—¶ä»£è¡¨å°†æ¯ä¸€è¡Œçš„å…ƒç´ ç›¸åŠ ï¼Œå®é™…ä¸Šè¿”å›çš„æ˜¯1è¡Œ510åˆ—çš„æ•°ç»„</span><br><span class="line">    b_grad &#x3D; -np.sum(pred_error)  # å¯¹bæ±‚åå¾®åˆ†åçš„ç»“æœï¼Œé»‘æ¿ä¸Šæ²¡æœ‰ï¼Œä½†å› ä¸ºé€»è¾‘å›å½’å’Œçº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°ç›¸ä¼¼ï¼Œå¯ç”±çº¿æ€§å›å½’å¯¹bè¿›è¡Œæ±‚åå¾®åˆ†å¾—åˆ°</span><br><span class="line">    return w_grad, b_grad</span><br></pre></td></tr></table></figure>

<h1 id="Step4ï¼šè®­ç»ƒæ¨¡å‹"><a href="#Step4ï¼šè®­ç»ƒæ¨¡å‹" class="headerlink" title="Step4ï¼šè®­ç»ƒæ¨¡å‹"></a><strong>Step4ï¼šè®­ç»ƒæ¨¡å‹</strong></h1><p>è¿™æ¬¡æˆ‘ä»¬è®­ç»ƒçš„æ–¹æ³•ä½¿ç”¨å°æ‰¹æ¬¡å¾ªç¯è®­ç»ƒã€‚ä½¿ç”¨å°æ‰¹æ¬¡è¿›è¡Œè®­ç»ƒæ—¶ï¼Œå½“æ•´ä¸ªè®­ç»ƒé›†çš„æ‰€æœ‰å°æ‰¹æ¬¡éƒ½ç”¨è¿‡åï¼Œå°†æ‰€æœ‰è®­ç»ƒé›†æ‰“æ•£å¹¶é‡æ–°åˆ†æˆå¾ˆå¤šå°æ‰¹æ¬¡ï¼Œç»§ç»­è¿›è¡Œä¸€æ¬¡ï¼ŒçŸ¥é“ç‰¹å®šçš„æ¬¡æ•°ç»“æŸä¸ºæ­¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"># Zero initialization for weights ans bias</span><br><span class="line"># ä½¿ç”¨0åˆå§‹åŒ–wå’Œbå‚æ•°</span><br><span class="line">w &#x3D; np.zeros((data_dim,))</span><br><span class="line">b &#x3D; np.zeros((1,))</span><br><span class="line"></span><br><span class="line"># Some parameters for training</span><br><span class="line">max_iter &#x3D; 20  # è¿­ä»£æ¬¡æ•°</span><br><span class="line">batch_size &#x3D; 8  # è®­ç»ƒçš„æ‰¹æ¬¡ä¸­çš„æ•°æ®ä¸ªæ•°</span><br><span class="line">learning_rate &#x3D; 0.05  # å­¦ä¹ ç‡</span><br><span class="line"></span><br><span class="line"># Keep the loss and accuracy at every iteration for plotting</span><br><span class="line"># å°†æ¯æ¬¡è¿­ä»£çš„æŸå¤±å’Œæ­£ç¡®ç‡éƒ½ä¿å­˜ï¼Œä»¥æ–¹ä¾¿ç”»å‡ºæ¥</span><br><span class="line">train_loss &#x3D; []  # è®­ç»ƒé›†æŸå¤±</span><br><span class="line">dev_loss &#x3D; []  # éªŒè¯é›†æŸå¤±</span><br><span class="line">train_acc &#x3D; []  # è®­ç»ƒé›†æ­£ç¡®ç‡</span><br><span class="line">dev_acc &#x3D; []  # éªŒè¯é›†æ­£ç¡®ç‡</span><br><span class="line"></span><br><span class="line"># Calcuate the number of parameter updates</span><br><span class="line"># è®°å½•å‚æ•°æ›´æ–°çš„æ¬¡æ•°</span><br><span class="line">step &#x3D; 1</span><br><span class="line"></span><br><span class="line"># Iterative training</span><br><span class="line">for epoch in range(max_iter):  # max_iterè¿­ä»£æ¬¡æ•°</span><br><span class="line">    # Random shuffle at the begging of each epoch</span><br><span class="line">    # éšæœºçš„å°†è®­ç»ƒé›†Xå’ŒYæŒ‰é¡ºåºæ‰“ä¹±</span><br><span class="line">    X_train, Y_train &#x3D; _shuffle(X_train, Y_train)</span><br><span class="line"></span><br><span class="line">    # Mini-batch training</span><br><span class="line">    for idx in range(int(np.floor(train_size &#x2F; batch_size))):  # æ¯ä¸ªæ‰¹æ¬¡8ä¸ªæ•°æ®ï¼Œä¸€å…±48830ä¸ªæ•°æ®ï¼Œå…±48830&#x2F;8&#x3D;6103æ¬¡æ‰¹æ¬¡</span><br><span class="line">        X &#x3D; X_train[idx * batch_size:(idx + 1) * batch_size]  # åˆ†åˆ«å–Xå’ŒYä¸­çš„å¯¹åº”8ä¸ªæ•°æ®(æ¯ä¸ªæ‰¹æ¬¡8ä¸ªæ•°æ®)</span><br><span class="line">        Y &#x3D; Y_train[idx * batch_size:(idx + 1) * batch_size]</span><br><span class="line"></span><br><span class="line">        # Compute the gradient</span><br><span class="line">        # è®¡ç®—wå‚æ•°å’Œbå‚æ•°çš„æ¢¯åº¦</span><br><span class="line">        w_grad, b_grad &#x3D; _gradient(X, Y, w, b)</span><br><span class="line"></span><br><span class="line">        # gradient descent update</span><br><span class="line">        # learning rate decay with time</span><br><span class="line">        # æ›´æ–°å‚æ•°ï¼Œè‡ªé€‚åº”å­¦ä¹ ç‡è¿™æ¬¡ä½¿ç”¨çš„æ˜¯éå¸¸ç®€å•çš„å­¦ä¹ ç‡é™¤ä»¥æ›´æ–°æ¬¡æ•°çš„æ ¹</span><br><span class="line">        w &#x3D; w - learning_rate &#x2F; np.sqrt(step) * w_grad</span><br><span class="line">        b &#x3D; b - learning_rate &#x2F; np.sqrt(step) * b_grad</span><br><span class="line"></span><br><span class="line">        step &#x3D; step + 1  # æ›´æ–°æ¬¡æ•°+1</span><br><span class="line"></span><br><span class="line">    # Compute loss and accuracy of training set and development set</span><br><span class="line">    y_train_pred &#x3D; _f(X_train, w, b)  # è®¡ç®—é¢„æµ‹çš„å€¼ï¼Œæ³¨æ„æ­¤æ—¶æ•°æ®æ ¼å¼ä¸ºfloat</span><br><span class="line">    Y_train_pred &#x3D; np.round(y_train_pred)  # å°†æ•°æ®æ ¼å¼è½¬æ¢ä¸ºboolç±»å‹</span><br><span class="line">    train_acc.append(_accuracy(Y_train_pred, Y_train))  # å°†è¿™ä¸€è½®è¿­ä»£çš„æ­£ç¡®ç‡è®°å½•ä¸‹æ¥</span><br><span class="line">    train_loss.append(_cross_entropy_loss(y_train_pred, Y_train) &#x2F; train_size)  # å°†è¿™ä¸€æ¬¡è¿­ä»£çš„æŸå¤±è®°å½•ä¸‹æ¥</span><br><span class="line"></span><br><span class="line">    y_dev_pred &#x3D; _f(X_dev, w, b)  # åŒæ ·çš„æ–¹æ³•å¤„ç†éªŒè¯é›†</span><br><span class="line">    Y_dev_pred &#x3D; np.round(y_dev_pred)</span><br><span class="line">    dev_acc.append(_accuracy(Y_dev_pred, Y_dev))</span><br><span class="line">    dev_loss.append(_cross_entropy_loss(y_dev_pred, Y_dev) &#x2F; dev_size)</span><br><span class="line"></span><br><span class="line">print(&#39;Training loss: &#123;&#125;&#39;.format(train_loss[-1]))  # è¾“å‡ºæœ€åä¾æ¬¡è¿­ä»£çš„ç»“æœ</span><br><span class="line">print(&#39;Development loss: &#123;&#125;&#39;.format(dev_loss[-1]))</span><br><span class="line">print(&#39;Training accuracy: &#123;&#125;&#39;.format(train_acc[-1]))</span><br><span class="line">print(&#39;Development accuracy: &#123;&#125;&#39;.format(dev_acc[-1]))</span><br><span class="line"></span><br><span class="line">np.save(&#39;weight_hw2.npy&#39;, w)  # å°†å‚æ•°ä¿å­˜ä¸‹æ¥</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†è®­ç»ƒé›†ä¸éªŒè¯é›†çš„losså’Œaccuracyç”»å‡ºæ¥ï¼Œè¿™æ ·æ›´ç›´è§‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># Loss curve</span><br><span class="line">plt.plot(train_loss)</span><br><span class="line">plt.plot(dev_loss)</span><br><span class="line">plt.title(&#39;Loss&#39;)</span><br><span class="line">plt.legend([&#39;train&#39;, &#39;dev&#39;])</span><br><span class="line">plt.savefig(&#39;loss.png&#39;)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># Accuracy curve</span><br><span class="line">plt.plot(train_acc)</span><br><span class="line">plt.plot(dev_acc)</span><br><span class="line">plt.title(&#39;Accuracy&#39;)</span><br><span class="line">plt.legend([&#39;train&#39;, &#39;dev&#39;])</span><br><span class="line">plt.savefig(&#39;acc.png&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="/2020/03/19/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E8%AF%BE%E4%BD%9C%E4%B8%9A/3.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬äºŒè¯¾ä½œä¸š]">  
<img src="/2020/03/19/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%BA%8C%E8%AF%BE%E4%BD%9C%E4%B8%9A/4.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬äºŒè¯¾ä½œä¸š]">  

<h1 id="Step5ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ"><a href="#Step5ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ" class="headerlink" title="Step5ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ"></a><strong>Step5ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ</strong></h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">w &#x3D; np.load(&#39;weight_hw2.npy&#39;)  # åŠ è½½å‚æ•°</span><br><span class="line"></span><br><span class="line"># Predict testing labels</span><br><span class="line">predictions &#x3D; _predict(X_test, w, b)</span><br><span class="line">with open(output_fpath.format(&#39;logistic&#39;), &#39;w&#39;) as f:</span><br><span class="line">    f.write(&#39;id,label\n&#39;)</span><br><span class="line">    for i, label in enumerate(predictions):</span><br><span class="line">        f.write(&#39;&#123;&#125;,&#123;&#125;\n&#39;.format(i, label))</span><br><span class="line">        </span><br><span class="line"># Print out the most significant weights</span><br><span class="line"># æ‰¾åˆ°æƒé‡ä¸­æœ€å¤§çš„å‰åé¡¹ï¼Œå³å…³è”ç»“æœçš„æœ€ç´§å¯†çš„å‚æ•°</span><br><span class="line">ind &#x3D; np.argsort(np.abs(w))[::-1] #å°†æ•°ç»„ä»å°åˆ°å¤§æ’å¥½åä»æœ€åå¾€å‰å–</span><br><span class="line">with open(X_test_fpath) as f:</span><br><span class="line">    content &#x3D; f.readline().strip(&#39;\n&#39;).split(&#39;,&#39;)</span><br><span class="line">features &#x3D; np.array(content)</span><br><span class="line">for i in ind[0:10]:</span><br><span class="line">    print(features[i], w[i])</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€æ­¥çš„æ„æ€æ˜¯ï¼Œæ‰¾åˆ°å½±å“æœ€åç»“æœæœ€ç›´æ¥çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·çœ‹èµ·æ¥æ›´ç›´è§‚ä¸€ç‚¹ã€‚æ’åºçš„è§„åˆ™å°±æ˜¯çœ‹wå‚æ•°çš„å¤§å°ä»å¤§åˆ°å°æ’åºã€‚</p>
<h1 id="Step6ï¼šgenerative-modelçš„äºŒå…ƒåˆ†ç±»å™¨"><a href="#Step6ï¼šgenerative-modelçš„äºŒå…ƒåˆ†ç±»å™¨" class="headerlink" title="Step6ï¼šgenerative modelçš„äºŒå…ƒåˆ†ç±»å™¨"></a><strong>Step6ï¼šgenerative modelçš„äºŒå…ƒåˆ†ç±»å™¨</strong></h1><p>è€å¸ˆä¸Šè¯¾å…±è®²äº†ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯é€»è¾‘å›å½’ï¼Œä¸€ç§æ˜¯generative modelçš„äºŒå…ƒåˆ†ç±»å™¨ã€‚åªä¸è¿‡generative modelçš„äºŒå…ƒåˆ†ç±»å™¨çš„wå’Œbæ˜¯å¯ä»¥é€šè¿‡å¹³å‡å€¼å’Œåæ–¹å·®ç›´æ¥æ±‚å‡ºæ¥ï¼Œè€Œä¸éœ€è¦æ¢¯åº¦ä¸‹é™è¿›è¡Œæ”¶æ•›è·å¾—ã€‚ä½†æœ€åç»“æœgenerative modelçš„äºŒå…ƒåˆ†ç±»å™¨åº”è¯¥ä¸ä¼šæ¯”é€»è¾‘å›å½’æ›´å¥½ï¼Œä½†è¿™ç§æ–¹æ³•æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™ä¸‹æ¥ï¼Œå…·ä½“æ­¥éª¤å’Œç”¨åˆ°çš„Normalizeå‡½æ•°å’Œåˆ†ç±»å‡½æ•°éƒ½ä¸€æ ·ï¼Œå°±ä¸åœ¨èµ˜è¿°äº†ï¼Œæ³¨é‡Šä¹Ÿå†™çš„å¾ˆè¯¦ç»†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;&quot;&quot;</span><br><span class="line">æ•°æ®é¢„å¤„ç†ä¸æ­£è§„åŒ–</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"># Parse csv files to numpy array</span><br><span class="line">with open(X_train_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    X_train &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1:] for line in f], dtype&#x3D;float)</span><br><span class="line">with open(Y_train_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    Y_train &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1] for line in f], dtype&#x3D;float)</span><br><span class="line">with open(X_test_fpath) as f:</span><br><span class="line">    next(f)</span><br><span class="line">    X_test &#x3D; np.array([line.strip(&#39;\n&#39;).split(&#39;,&#39;)[1:] for line in f], dtype&#x3D;float)</span><br><span class="line"></span><br><span class="line"># Normalize training and testing data</span><br><span class="line">X_train, X_mean, X_std &#x3D; _normalize(X_train, train&#x3D;True)</span><br><span class="line">X_test, _, _ &#x3D; _normalize(X_test, train&#x3D;False, specified_column&#x3D;None, X_mean&#x3D;X_mean, X_std&#x3D;X_std)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">æˆ‘ä»¬éœ€è¦åˆ†åˆ«è®¡ç®—ä¸¤ä¸ªç±»åˆ«å†…çš„æ•°æ®å¹³å‡å€¼ğ1ï¼Œğ2ä¸åæ–¹å·®çŸ©é˜µğœ®1ï¼Œğœ®2ã€‚Classfication ppt15é¡µ</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"># Compute in-class mean</span><br><span class="line"># åˆ†åˆ«å°†æ•°æ®ä¸­çš„ä¸¤ä¸ªç±»åˆ«çš„æ•°æ®åˆ†å¼€ï¼Œè¿™æ ·æ‰å¯ä»¥è®¡ç®—ä¸¤ä¸ªç±»åˆ«çš„æ•°æ®å¹³å‡å€¼ğ1ï¼Œğ2</span><br><span class="line">X_train_0 &#x3D; np.array([x for x, y in zip(X_train, Y_train) if y &#x3D;&#x3D; 0])  # è®­ç»ƒé›†ä¸­å±äºç±»åˆ«0çš„æ•°æ®</span><br><span class="line">X_train_1 &#x3D; np.array([x for x, y in zip(X_train, Y_train) if y &#x3D;&#x3D; 1])  # è®­ç»ƒé›†ä¸­å±äºç±»åˆ«1çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">mean_0 &#x3D; np.mean(X_train_0, axis&#x3D;0)  # ğ1</span><br><span class="line">mean_1 &#x3D; np.mean(X_train_1, axis&#x3D;0)  # ğ2</span><br><span class="line"></span><br><span class="line"># Compute in-class covariance</span><br><span class="line"># è®¡ç®—åæ–¹å·®çŸ©é˜µğœ®1ï¼Œğœ®2</span><br><span class="line"># å…ˆç”¨0åˆå§‹åŒ–æ•°ç»„</span><br><span class="line">cov_0 &#x3D; np.zeros((data_dim, data_dim))  # ğœ®1</span><br><span class="line">cov_1 &#x3D; np.zeros((data_dim, data_dim))  # ğœ®2</span><br><span class="line"></span><br><span class="line"># å…¬å¼å¯çœ‹https:&#x2F;&#x2F;blog.csdn.net&#x2F;mr_hhh&#x2F;article&#x2F;details&#x2F;78490576</span><br><span class="line">for x in X_train_0:</span><br><span class="line">    cov_0 +&#x3D; np.dot(np.transpose([x - mean_0]), [x - mean_0]) &#x2F; X_train_0.shape[0]</span><br><span class="line">for x in X_train_1:</span><br><span class="line">    cov_1 +&#x3D; np.dot(np.transpose([x - mean_1]), [x - mean_1]) &#x2F; X_train_1.shape[0]</span><br><span class="line"></span><br><span class="line"># print(cov_0)</span><br><span class="line"># print(cov_1)</span><br><span class="line"></span><br><span class="line"># Shared covariance is taken as a weighted average of individual in-class covariance.</span><br><span class="line"># ä¸ºäº†å‡å°‘å‚æ•°çš„ä¸ªæ•°ï¼Œé‡‡ç”¨åŒæ ·çš„ğœ®ä½¿å…¶åœ¨ä¸¤ä¸ªç±»åˆ«ä¸Šé€šç”¨ã€‚  Classfication ppt22é¡µï¼Œå…¬å¼æ˜¯23é¡µ</span><br><span class="line">cov &#x3D; (cov_0 * X_train_0.shape[0] + cov_1 * X_train_1.shape[0]) &#x2F; (X_train_0.shape[0] + X_train_1.shape[0])</span><br><span class="line"># print(cov)</span><br><span class="line"></span><br><span class="line"># æœ‰äº†æ•°æ®å¹³å‡å€¼å’Œåæ–¹å·®çŸ©é˜µï¼Œå¯ä»¥ç›´æ¥å°†å”¯ä¸€çš„æƒé‡çŸ©é˜µä¸åå·®å‘é‡è®¡ç®—å‡ºæ¥ Classfication ppt33é¡µ</span><br><span class="line"># Compute inverse of covariance matrix.</span><br><span class="line"># Since covariance matrix may be nearly singular, np.linalg.inv() may give a large numerical error.</span><br><span class="line"># Via SVD decomposition, one can get matrix inverse efficiently and accurately.</span><br><span class="line"># è®¡ç®—å‡ºåæ–¹å·®çŸ©é˜µçš„é€†ï¼Œç”¨invè¡¨ç¤º</span><br><span class="line">u, s, v &#x3D; np.linalg.svd(cov, full_matrices&#x3D;False)</span><br><span class="line">inv &#x3D; np.matmul(v.T * 1 &#x2F; s, u.T)</span><br><span class="line">#</span><br><span class="line"># # Directly compute weights and bias  å…¬å¼åœ¨33é¡µ</span><br><span class="line">w &#x3D; np.dot(inv, mean_0 - mean_1)</span><br><span class="line">b &#x3D; (-0.5) * np.dot(mean_0, np.dot(inv, mean_0)) + 0.5 * np.dot(mean_1, np.dot(inv, mean_1)) + np.log(float(X_train_0.shape[0]) &#x2F; X_train_1.shape[0])</span><br><span class="line"></span><br><span class="line">np.save(&#39;weight_hw2_generative.npy&#39;, w)  # å°†å‚æ•°ä¿å­˜ä¸‹æ¥</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">w &#x3D; np.load(&#39;weight_hw2_generative.npy&#39;)  # åŠ è½½å‚æ•°</span><br><span class="line"># Compute accuracy on training set</span><br><span class="line">Y_train_pred &#x3D; 1 - _predict(X_train, w, b)</span><br><span class="line">print(&#39;Training accuracy: &#123;&#125;&#39;.format(_accuracy(Y_train_pred, Y_train))) #0.8735</span><br><span class="line"></span><br><span class="line"># Predict testing labels</span><br><span class="line">predictions &#x3D; 1 - _predict(X_test, w, b)</span><br><span class="line">with open(output_fpath.format(&#39;generative&#39;), &#39;w&#39;) as f:</span><br><span class="line">    f.write(&#39;id,label\n&#39;)</span><br><span class="line">    for i, label in enumerate(predictions):</span><br><span class="line">        f.write(&#39;&#123;&#125;,&#123;&#125;\n&#39;.format(i, label))</span><br><span class="line"></span><br><span class="line"># Print out the most significant weights</span><br><span class="line">ind &#x3D; np.argsort(np.abs(w))[::-1]</span><br><span class="line">with open(X_test_fpath) as f:</span><br><span class="line">    content &#x3D; f.readline().strip(&#39;\n&#39;).split(&#39;,&#39;)</span><br><span class="line">features &#x3D; np.array(content)</span><br><span class="line">for i in ind[0:10]:</span><br><span class="line">    print(features[i], w[i])</span><br></pre></td></tr></table></figure>

<h1 id="Step7ï¼šæ€»ç»“å³ä¼˜åŒ–"><a href="#Step7ï¼šæ€»ç»“å³ä¼˜åŒ–" class="headerlink" title="Step7ï¼šæ€»ç»“å³ä¼˜åŒ–"></a><strong>Step7ï¼šæ€»ç»“å³ä¼˜åŒ–</strong></h1><p>ä»¥ä¸Šï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä½œä¸š2çš„æ‰€æœ‰å†…å®¹ã€‚è¿˜æ˜¯æŒ‰é“ç†å¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼Œä½¿ç”¨æ­£åˆ™é¡¹ï¼Œä½†è¿™é‡Œæˆ‘å°±æ²¡å†å†™ã€‚<br>è°ƒå‚ç»“æœï¼šå¯¹ç›¸åŒçš„æ‰¹æ¬¡(8)ï¼Œç›¸åŒçš„è¿­ä»£æ¬¡æ•°(10)æ—¶ï¼Œå­¦ä¹ ç‡0.05æœ€å¥½ 0.8765 loss 0.2837<br>ç›¸åŒè¿­ä»£æ¬¡æ•°10ï¼Œå­¦ä¹ ç‡0.05ï¼Œæ‰¹æ¬¡ä¸º10æ—¶ï¼Œç»“æœ0.8759ï¼Œloss0.2837<br>å­¦ä¹ ç‡0.05ï¼Œæ‰¹æ¬¡ä¸º8æ—¶,è¿­ä»£æ¬¡æ•°20 ï¼Œç»“æœ0.8789ï¼Œloss0.2834<br>å¯ä»¥çœ‹å‡ºï¼Œæœ€å¥½çš„æ­£ç¡®ç‡å¤§æ¦‚æ˜¯0.8789å·¦å³ã€‚æœ¬æ¥æƒ³æäº¤åˆ°kaggleä¸Šçœ‹çœ‹æ˜¯å¦å¾—åˆ†ä¼šæé«˜ï¼Œä½†ä¸çŸ¥ä¸ºå•¥å°±ç®—æŒ‚äº†æ¢¯å­å®ƒä¹Ÿæäº¤ä¸ä¸Šå»ï¼Œä¼°è®¡äººå¤ªå¤šäº†å§ï¼Œä¸‹æ¬¡å†è¯•è¯•ã€‚<br>æˆ‘è‡ªå·±ç¬¬ä¸€éå†™çš„ä»£ç ä»¥åŠæœ€åè·å¾—çš„ä¸¤ä¸ªå‚æ•°æ–‡ä»¶å¯ä»¥é‚®ç®±ç§èŠæ‰¾æˆ‘è·å–ã€‚å™¶æ²¹ï¼</p>
]]></content>
      <categories>
        <category>Machine Learning</category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Logistic Regression</tag>
      </tags>
  </entry>
  <entry>
    <title>æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š</title>
    <url>/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨çœ‹2020æå®æ¯…è€å¸ˆçš„æœºå™¨å­¦ä¹ ï¼Œå‘ç°çœŸçš„æ˜¯å®è—è€å¸ˆï¼è®²çš„æ¦‚å¿µå¾ˆå®¹æ˜“è®©æˆ‘ä»¬ææ‡‚ï¼Œè€Œä¸”æ•°å­¦ç†è®ºæ–¹é¢ä¹Ÿè®²å¾—å¾ˆæ¸…æ™°ã€‚ä½†æ˜¯u1s1ä»–çš„å®éªŒè¯¾ç¬¬ä¸€ä¸ªä½œä¸šå°±éš¾å€’æˆ‘äº†ã€‚å› ä¸ºæˆ‘ä¹‹å‰æœ€å¤šä½¿ç”¨ä¸ªpaddlepaddleæ¡†æ¶ï¼Œå¯èƒ½å®ç°ä¸ªæ‰‹å†™æ•°å­—è¯†åˆ«è¿˜æŒºç®€å•ï¼Œä¸€äº›åŸºæœ¬çš„æ­¥éª¤è¿˜æ˜¯éƒ½ä¼šçš„ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªçº¿æ€§å›å½’çš„å®éªŒå°±æœ‰å¾ˆå¤šéš¾ç‚¹ï¼Œä¸€æ˜¯æ•°æ®é›†ç»™ä½ ä½†ä½ éœ€è¦è‡ªå·±æ•´ç†å‡ºæœ‰æ•ˆæ•°æ®ï¼ŒäºŒæ˜¯Normalizeè¿˜æœ‰Gradient Desentéœ€è¦è‡ªå·±å®ç°ï¼Œè€Œæˆ‘ä¹‹å‰æ²¡æœ‰æ¥è§¦è¿‡pythonå¯¹çŸ©é˜µè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥å¾ˆå¤šnumpyçš„apiéƒ½æ˜¯å…ˆä»ç½‘ä¸Šå»æŸ¥ï¼Œå¯¼è‡´çœ‹çš„å¾ˆæ…¢ï¼Œä¸¤å¤©æ‰ç®—å®Œå…¨çœ‹å®Œï¼Œç°åœ¨æŠŠæˆ‘è¿™ä¸ªä½œä¸šçš„æ€è·¯å’Œåæ€å¥½å¥½å†™ä¸‹æ¥ä»¥ä½œå‚è€ƒã€‚</p>
<a id="more"></a>

<h1 id="Step1ï¼šæ˜ç¡®ç›®æ ‡"><a href="#Step1ï¼šæ˜ç¡®ç›®æ ‡" class="headerlink" title="Step1ï¼šæ˜ç¡®ç›®æ ‡"></a><strong>Step1ï¼šæ˜ç¡®ç›®æ ‡</strong></h1><img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/1.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/2.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>è®²é“ç†çœ‹åˆ°è¿™é‡Œæˆ‘å°±æœ‰ç‚¹è’™äº†ï¼Œè¿™å¯å’‹æ•´ï¼Œå®é™…ä¸Šæˆ‘ä»¬æ…¢æ…¢æ¥ã€‚<br>ç»™æˆ‘ä»¬çš„ä¸€å…±æ˜¯ä¸¤ä¸ªï¼šæ•°æ®é›†å’Œæµ‹è¯•é›†ã€‚<br>å¤§æ¦‚çš„å†…å®¹æ˜¯æ•°æ®é›†ä¸­è®°å½•äº†++12ä¸ªæœˆçš„å‰20å¤©æ¯å¤©24ä¸ªå°æ—¶çš„18ä¸ªæ•°æ®++çš„èµ„æ–™ï¼Œç„¶åæµ‹è¯•é›†å°±æ˜¯å‰©ä½™çš„æ•°æ®ä¸­å†å–çš„ã€‚ä»ä¸Šè¿°æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ç»“è®ºï¼š</p>
<ul>
<li><input disabled="" type="checkbox"> æ¨¡å‹çš„è¾“å…¥æ˜¯å‰9ä¸ªå°æ—¶çš„æ‰€æœ‰è§‚æµ‹æ•°æ®ï¼Œå³9*18çš„å‚æ•°å€¼ï¼Œ</li>
<li><input disabled="" type="checkbox"> æ¨¡å‹è¾“å‡ºæ˜¯ä¸€ä¸ªå€¼è¡¨ç¤ºé¢„æµ‹çš„ç¬¬10ä¸ªå°æ—¶çš„PM2.5å«é‡ã€‚<br>æ‰€ä»¥æœ€é€‚åˆçš„æ¨¡å‹æ˜¯<strong>Regression model</strong>ã€‚</li>
</ul>
<h1 id="Step2ï¼šæ•°æ®é¢„å¤„ç†"><a href="#Step2ï¼šæ•°æ®é¢„å¤„ç†" class="headerlink" title="Step2ï¼šæ•°æ®é¢„å¤„ç†"></a><strong>Step2ï¼šæ•°æ®é¢„å¤„ç†</strong></h1><p>è®­ç»ƒé›†æ˜¯é…±çš„ï¼š  </p>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/3.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>å¤§æ¦‚å°±æ˜¯ç¬¬ä¸€è¡Œæ˜¯è¯´æ˜ï¼Œåˆ†åˆ«æ˜¯æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œå„ç©ºæ°”ä¸­ç‰©è´¨çš„åç§°ï¼Œä»¥åŠ0-23æ—¶ä»–ä»¬çš„æµ“åº¦ã€‚<br>æ³¨æ„RAINFALLå‚æ•°çš„å€¼æ˜¯NRï¼Œè¡¨ç¤ºæ²¡æœ‰ä¸‹é›¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°†å®ƒçš„å€¼æ”¹ä¸º0è¿™æ ·ä¾¿äºå¤„ç†ã€‚<br>æˆ‘ä»¬ç¬¬ä¸€æ­¥è‚¯å®šæ˜¯æ•°æ®é¢„å¤„ç†å•¦ï¼Œå› ä¸ºåœ¨pythonä¸­æ•°æ®æ˜¯é€šè¿‡çŸ©é˜µæ¥ä¿å­˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€æ­¥å°±æ˜¯åˆ å‡æ‰ä¸éœ€è¦çš„è¡Œä¸åˆ—ï¼Œç„¶åå°†å…¶ä¿å­˜åˆ°çŸ©é˜µä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å¼•å…¥å¿…è¦çš„åŒ…</span><br><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">data &#x3D; pd.read_csv(&#39;.&#x2F;dataset&#x2F;train.csv&#39;, encoding&#x3D;&#39;big5&#39;) # è¯»å–æ•°æ®ä¿å­˜åˆ°dataä¸­ï¼Œè·¯å¾„æ ¹æ®ä½ ä¿å­˜çš„train.csvä½ç½®è€Œæœ‰å˜åŒ–</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">data &#x3D; data.iloc[:, 3:]  # è¡Œä¿ç•™æ‰€æœ‰ï¼Œåˆ—ä»ç¬¬ä¸‰åˆ—å¼€å§‹å¾€åæ‰ä¿ç•™ï¼Œè¿™æ ·å»é™¤äº†æ•°æ®ä¸­çš„æ—¶é—´ã€åœ°ç‚¹ã€å‚æ•°ç­‰ä¿¡æ¯</span><br><span class="line"># print(data)</span><br><span class="line">data[data &#x3D;&#x3D; &#39;NR&#39;] &#x3D; 0  # å°†æ‰€æœ‰NRçš„å€¼å…¨éƒ¨ç½®ä¸º0æ–¹ä¾¿ä¹‹åå¤„ç†</span><br><span class="line"># print(data)</span><br><span class="line">raw_data &#x3D; data.to_numpy()  # å°†dataçš„æ‰€æœ‰æ•°æ®è½¬æ¢ä¸ºäºŒç»´æ•°æ®å¹¶ç”¨raw_dataæ¥ä¿å­˜</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šæ­¥éª¤åšå®Œï¼Œå°±å·²ç»å°†csvæ–‡ä»¶ä¸­çš„æ•°æ®ä¿å­˜åˆ°çŸ©é˜µä¸­äº†ã€‚<br>ç„¶åæè€å¸ˆçš„ä¸‹ä¸€ä¸ªæ­¥éª¤æ˜¯è¿™æ ·å¤„ç†æ•°æ®çš„ï¼š<br>å°†æ¯ä¸€ä¸ªæœˆçš„æ•°æ®æ”¾åˆ°ä¸€å¤§è¡Œä¸­(æˆ‘è¿™æ ·è¯´å¯èƒ½ä¸å¥½ç†è§£ï¼Œæˆ‘é€šä¿—ç‚¹è®²ï¼Œå› ä¸ºæ¯ä¸€å¤©æ˜¯ä¸€å…±æœ‰18è¡Œçš„ï¼Œç¬¬ä¸€å¤©æ˜¯0-17è¡Œï¼Œç¬¬äºŒå¤©æ˜¯18-35è¡Œä»¥æ­¤ç±»æ¨ã€‚è€Œæˆ‘ä»¬éœ€è¦çš„æ¨¡å‹çš„è¾“å…¥å¹¶æœªåœ¨ä¸Šé¢ä½“ç°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è‡ªå·±å°†å…¶åˆ†ç¦»å‡ºæ¥ï¼Œæ€ä¹ˆåˆ†ç¦»å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å‰ä¹ä¸ªå°æ—¶çš„æ‰€æœ‰å‚æ•°å€¼ï¼Œä»è€Œå¾—å‡ºç¬¬10ä¸ªå°æ—¶çš„PM2.5çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†ä¸€ä¸ªæœˆçš„ç¬¬ä¸€å¤©åˆ°ç¬¬äºŒåå¤©æ¨ªå‘æ’åºï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£çš„æ€æƒ³ï¼Œå–å¤§å°ä¸º9çš„çª—å£ï¼Œä»ç¬¬ä¸€å¤©çš„ç¬¬0æ—¶ä¸€ç›´å¯ä»¥åˆ’åˆ°ç¬¬20å¤©çš„ç¬¬14æ—¶[ä¸ºä»€ä¹ˆæ˜¯14æ—¶ï¼Œå› ä¸º14+9=23ï¼Œæœ€åä¸€ä¸ªå°æ—¶çš„PM2.5æ•°æ®éœ€è¦å¾—åˆ°ï¼Œæ‰€ä»¥è¿™æ ·å¤„ç†å¯ä»¥æœ€å¤§åŒ–çš„åˆ©ç”¨å·²çŸ¥è®­ç»ƒé›†ä»è€Œå¾—åˆ°æ›´å¤šçš„æ•°æ®])  </p>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/6.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/7.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æ­¥éª¤æ¥å°†æ¯ä¸€ä¸ªæœˆçš„æ•°æ®æ”¾åˆ°ä¸€ä¸ªå¤§è¡Œä¸­  </p>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/4.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/5.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">month_data &#x3D; &#123;&#125;</span><br><span class="line">for month in range(12):  # month ä»0-11 å…±12ä¸ªæœˆ</span><br><span class="line">    sample &#x3D; np.empty([18, 480])  # è¿”å›ä¸€ä¸ª18è¡Œ480åˆ—çš„æ•°ç»„ï¼Œç”¨æ¥ä¿å­˜ä¸€ä¸ªæœˆçš„æ•°æ®ï¼ˆä¸€ä¸ªæœˆåªæœ‰20å¤©ï¼Œä¸€å¤©24ä¸ªå°æ—¶ï¼‰</span><br><span class="line">    for day in range(20):  # dayä»0-19 å…±20å¤©</span><br><span class="line">        sample[:, day * 24: (day + 1) * 24] &#x3D; raw_data[18 * (20 * month + day): 18 * (20 * month + day + 1),</span><br><span class="line">                                              :]  # rawçš„è¡Œæ¯æ¬¡å–18è¡Œï¼Œåˆ—å–å…¨éƒ¨åˆ—ã€‚é€åˆ°sampleä¸­ï¼ˆsampleæ˜¯18è¡Œ480åˆ—ï¼‰è¡Œç»™å…¨éƒ¨è¡Œï¼Œåˆ—åªç»™24åˆ—ï¼Œç„¶ååˆ—å¾€åå¢åŠ </span><br><span class="line">    month_data[month] &#x3D; sample</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ¯ä¸ªæœˆçš„æ•°æ®å°±æ˜¯18è¡Œ480(24*20)åˆ—,ä¸€å…±12ä¸ªæœˆçš„æ•°æ®<br>ç„¶åç»§ç»­å¯¹æˆ‘ä¸Šè¿°æ‰€è¯´çš„è¿›è¡Œæå–æ•°æ®ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x &#x3D; np.empty([12 * 471, 18 * 9],</span><br><span class="line">             dtype&#x3D;float)  # ä¸€å…±480ä¸ªå°æ—¶ï¼Œæ¯9ä¸ªå°æ—¶ä¸€ä¸ªæ•°æ®ï¼ˆ480åˆ—æœ€åä¸€åˆ—ä¸å¯ä»¥è®¡å…¥ï¼Œå› ä¸ºå¦‚æœå–åˆ°æœ€åä¸€è¡Œé‚£ä¹ˆæœ€åä¸€ä¸ªæ•°æ®ä¾¿æ²¡æœ‰äº†ç»“æœ&#123;éœ€è¦9ä¸ªå°æ—¶çš„è¾“å…¥å’Œç¬¬10ä¸ªå°æ—¶çš„ç¬¬10è¡Œä½œä¸ºç»“æœ&#125;ï¼‰ï¼Œ480-1-9+1&#x3D;471ã€‚471*12ä¸ªæ•°æ®é›†æŒ‰è¡Œæ’åˆ—ï¼Œæ¯ä¸€è¡Œä¸€ä¸ªæ•°æ®ï¼›æ•°æ®æ˜¯ä¸€ä¸ªå°æ—¶æœ‰18ä¸ªç‰¹å¾ï¼Œè€Œæ¯ä¸ªæ•°æ®9ä¸ªå°æ—¶ï¼Œä¸€å…±18*9åˆ—</span><br><span class="line">y &#x3D; np.empty([12 * 471, 1], dtype&#x3D;float)  # ç»“æœæ˜¯471*12ä¸ªæ•°æ®ï¼Œæ¯ä¸ªæ•°æ®å¯¹åº”ä¸€ä¸ªç»“æœï¼Œå³ç¬¬10å°æ—¶çš„PM2.5æµ“åº¦</span><br><span class="line">for month in range(12):  # month 0-11</span><br><span class="line">    for day in range(20):  # day 0-19</span><br><span class="line">        for hour in range(24):  # hour 0-23</span><br><span class="line">            if day &#x3D;&#x3D; 19 and hour &gt; 14:  # å–åˆ°raw_dataä¸­çš„æœ€åä¸€å—è¡Œä¸º18ï¼Œåˆ—ä¸º9çš„å—ä¹‹åï¼Œå°±ä¸å¯ä»¥å†å–äº†ï¼Œå†å–å°±ä¼šè¶…è¿‡ç•Œé™äº†ï¼Œå…·ä½“çœ‹ä¸‹å›¾</span><br><span class="line">                continue</span><br><span class="line">            x[month * 471 + day * 24 + hour, :] &#x3D; month_data[month][:, day * 24 + hour: day * 24 + hour + 9].reshape(1,</span><br><span class="line">                                                                                                                     # å–å¯¹åº”monthï¼šè¡Œéƒ½è¦å–ï¼Œåˆ—å–9ä¸ªï¼Œä¾æ¬¡è¿›è¡Œï¼Œæœ€åå°†æ•´ä¸ªæ•°æ®reshapeæˆä¸€è¡Œæ•°æ®(åˆ—æ•°æ— æ‰€è°“)ã€‚ç„¶åèµ‹ç»™xï¼Œxå†…çš„åæ ‡åªæ˜¯ä¸ºäº†ä¿è¯å…¶ä»0-471*12</span><br><span class="line">                                                                                                                     -1)  # vector dim:18*9 (9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9 9)</span><br><span class="line">            y[month * 471 + day * 24 + hour, 0] &#x3D; month_data[month][</span><br><span class="line">                9, day * 24 + hour + 9]  # value,ç»“æœå¯¹åº”çš„è¡Œæ•°ä¸€ç›´æ˜¯ç¬¬9åˆ—ï¼ˆå³ç¬¬10è¡ŒPM2.5ï¼‰ç„¶ååˆ—æ•°éšç€å–å¾—æ•°æ®ä¾æ¬¡å¾€åè¿›è¡Œ</span><br></pre></td></tr></table></figure>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/8.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>ä¸Šè¿°æ‰€æœ‰å·¥ä½œåšå®Œä¹‹åï¼ŒXå°±æ˜¯åŒ…å«æ‰€æœ‰æ•°æ®çš„æ•°ç»„ï¼ŒYå°±æ˜¯æ‰€æœ‰æ•°æ®çš„ç»“æœï¼Œä½†æ­¤æ—¶è¿˜ä¸å¯ä»¥è¿›è¡Œè®­ç»ƒï¼Œè¿˜éœ€è¦ä¸¤ä¸ªæ­¥éª¤æ‰å¯ä»¥ã€‚</p>
<h1 id="Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»"><a href="#Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»" class="headerlink" title="Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»"></a><strong>Step3ï¼šNormalizeä¸è®­ç»ƒé›†åˆ†ç±»</strong></h1><p>Normalizeçš„æ–¹æ³•æˆ‘ä»¬é€‰ç”¨æœ€å¸¸ç”¨çš„æ ‡å‡†å·®æ ‡å‡†åŒ–æ–¹æ³•è¿™æ˜¯è¯´æ˜ï¼š</p>
<blockquote>
<p>æ•°æ®çš„æ ‡å‡†åŒ–ï¼ˆnormalizationï¼‰æ˜¯å°†æ•°æ®æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä½¿ä¹‹è½å…¥ä¸€ä¸ªå°çš„ç‰¹å®šåŒºé—´ã€‚<br>åœ¨æŸäº›æ¯”è¾ƒå’Œè¯„ä»·çš„æŒ‡æ ‡å¤„ç†ä¸­ç»å¸¸ä¼šç”¨åˆ°ï¼Œå»é™¤æ•°æ®çš„å•ä½é™åˆ¶ï¼Œå°†å…¶è½¬åŒ–ä¸ºæ— é‡çº²çš„çº¯æ•°å€¼ï¼Œ<br>ä¾¿äºä¸åŒå•ä½æˆ–é‡çº§çš„æŒ‡æ ‡èƒ½å¤Ÿè¿›è¡Œæ¯”è¾ƒå’ŒåŠ æƒã€‚<br>æœ€å¸¸è§çš„æ ‡å‡†åŒ–æ–¹æ³•å°±æ˜¯Zæ ‡å‡†åŒ–ï¼Œä¹Ÿæ˜¯SPSSä¸­æœ€ä¸ºå¸¸ç”¨çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼Œspssé»˜è®¤çš„æ ‡å‡†åŒ–æ–¹æ³•å°±æ˜¯z-scoreæ ‡å‡†åŒ–ã€‚<br>ä¹Ÿå«æ ‡å‡†å·®æ ‡å‡†åŒ–ï¼Œè¿™ç§æ–¹æ³•ç»™äºˆåŸå§‹æ•°æ®çš„å‡å€¼ï¼ˆmeanï¼‰å’Œæ ‡å‡†å·®ï¼ˆstandard deviationï¼‰è¿›è¡Œæ•°æ®çš„æ ‡å‡†åŒ–ã€‚<br>ç»è¿‡å¤„ç†çš„æ•°æ®ç¬¦åˆæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼Œæ³¨æ„ï¼Œä¸€èˆ¬æ¥è¯´z-scoreä¸æ˜¯å½’ä¸€åŒ–ï¼Œè€Œæ˜¯æ ‡å‡†åŒ–ï¼Œå½’ä¸€åŒ–åªæ˜¯æ ‡å‡†åŒ–çš„ä¸€ç§[lz]ã€‚<br>å…¶è½¬åŒ–å‡½æ•°ä¸ºï¼š<br>x* = (x - Î¼ ) / Ïƒ<br>å…¶ä¸­Î¼ä¸ºæ‰€æœ‰æ ·æœ¬æ•°æ®çš„å‡å€¼ï¼ŒÏƒä¸ºæ‰€æœ‰æ ·æœ¬æ•°æ®çš„æ ‡å‡†å·®ã€‚<br>å…·ä½“å¯çœ‹è¿™ä¸ª<a href="https://www.cnblogs.com/chenyusheng0803/p/9867579.html">https://www.cnblogs.com/chenyusheng0803/p/9867579.html</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mean_x &#x3D; np.mean(x, axis&#x3D;0)  # 18 * 9 æ±‚å‡å€¼ï¼Œaxis &#x3D; 0è¡¨ç¤ºå¯¹å„åˆ—æ±‚å‡å€¼ï¼Œè¿”å› 1* åˆ—æ•° çš„çŸ©é˜µ</span><br><span class="line">std_x &#x3D; np.std(x, axis&#x3D;0)  # 18 * 9 æ±‚æ ‡å‡†å·®ï¼Œaxis &#x3D; 0è¡¨ç¤ºå¯¹å„åˆ—æ±‚å‡å€¼ï¼Œè¿”å› 1* åˆ—æ•° çš„çŸ©é˜µ</span><br><span class="line">for i in range(len(x)):  # 12 * 471</span><br><span class="line">    for j in range(len(x[0])):  # 18 * 9</span><br><span class="line">        if std_x[j] !&#x3D; 0:</span><br><span class="line">            x[i][j] &#x3D; (x[i][j] - mean_x[j]) &#x2F; std_x[j]</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æ˜¯å°†è®­ç»ƒæ•°æ®æŒ‰8:2æ‹†æˆè®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯å› ä¸ºæœ€ç»ˆåªç»™æˆ‘ä»¬test dataçš„è¾“å…¥è€Œæ²¡æœ‰ç»™æˆ‘ä»¬è¾“å‡ºï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•å®šé‡æˆ‘ä»¬æ¨¡å‹çš„å¥½åï¼Œè€Œä½¿ç”¨éªŒè¯æ•°æ®å¯ä»¥ç®€å•éªŒè¯æˆ‘ä»¬æ¨¡å‹çš„å¥½åï¼Œè®©æˆ‘ä»¬è‡ªå·±å¿ƒé‡Œæœ‰æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†è®­ç»ƒæ•°æ®æ‹†æˆè®­ç»ƒæ•°æ®ï¼šéªŒè¯æ•°æ®&#x3D;8:2ï¼Œè¿™æ ·ç”¨æ¥éªŒè¯</span><br><span class="line">import math</span><br><span class="line"></span><br><span class="line">x_train_set &#x3D; x[: math.floor(len(x) * 0.8), :]</span><br><span class="line">y_train_set &#x3D; y[: math.floor(len(y) * 0.8), :]</span><br><span class="line">x_validation &#x3D; x[math.floor(len(x) * 0.8):, :]</span><br><span class="line">y_validation &#x3D; y[math.floor(len(y) * 0.8):, :]</span><br><span class="line">print(x_train_set)</span><br><span class="line">print(y_train_set)</span><br><span class="line">print(x_validation)</span><br><span class="line">print(y_validation)</span><br><span class="line">print(len(x_train_set))</span><br><span class="line">print(len(y_train_set))</span><br><span class="line">print(len(x_validation))</span><br><span class="line">print(len(y_validation))</span><br></pre></td></tr></table></figure>

<h1 id="Step4ï¼šè®­ç»ƒæ¨¡å‹"><a href="#Step4ï¼šè®­ç»ƒæ¨¡å‹" class="headerlink" title="Step4ï¼šè®­ç»ƒæ¨¡å‹"></a><strong>Step4ï¼šè®­ç»ƒæ¨¡å‹</strong></h1><p>ç»ˆäºåˆ°äº†æœ€å…³é”®çš„ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€å›°éš¾çš„ä¸€æ­¥ï¼Œå†³å®šæˆ‘ä»¬æ¨¡å‹å¥½åçš„å°±æ˜¯è®­ç»ƒçš„æˆæœï¼Œé¦–å…ˆæ˜ç¡®ï¼Œæˆ‘ä»¬è®­ç»ƒä½¿ç”¨çš„Loss functionå’Œæ¢¯åº¦ä¸‹é™ç®—æ³•ã€‚<br>ç›´æ¥çœ‹æ³¨é‡Šå³å¯ï¼Œå·²ç»å†™å¾—å¾ˆæ¸…æ¥šäº†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">dim &#x3D; 18 * 9 + 1  # ç”¨æ¥åšå‚æ•°vectorçš„ç»´æ•°ï¼ŒåŠ 1æ˜¯ä¸ºäº†å¯¹biaså¥½å¤„ç†ï¼ˆè¿˜æœ‰ä¸ªè¯¯å·®é¡¹ï¼‰ã€‚å³æœ€åçš„h(x)&#x3D;w1x1+w2x2+&#39;&#39;&#39;+WnXn+b</span><br><span class="line">w &#x3D; np.ones([dim, 1])  # ç”Ÿæˆä¸€ä¸ªdimè¡Œ1åˆ—çš„æ•°ç»„ç”¨æ¥ä¿å­˜å‚æ•°å€¼ï¼Œå¯¹æ¯”æºç æˆ‘è¿™é‡Œæ”¹æˆäº†onesè€Œä¸æ˜¯zeros</span><br><span class="line">x &#x3D; np.concatenate((np.ones([12 * 471, 1]), x), axis&#x3D;1).astype(</span><br><span class="line">    float)  # np.onesæ¥ç”Ÿæˆ12*471è¡Œ1åˆ—çš„å…¨1æ•°ç»„ï¼Œnp.concatenateï¼Œaxis&#x3D;1è¡¨ç¤ºæŒ‰åˆ—å°†ä¸¤ä¸ªæ•°ç»„æ‹¼æ¥èµ·æ¥ï¼Œå³åœ¨xæœ€å‰é¢æ–°åŠ ä¸€åˆ—å†…å®¹ï¼Œä¹‹å‰xæ˜¯12*471è¡Œ18*9åˆ—çš„æ•°ç»„ï¼Œæ–°åŠ ä¸€åˆ—ä¹‹åå˜ä¸º12*471è¡Œ18*9+1åˆ—çš„æ•°ç»„</span><br><span class="line">learning_rate &#x3D; 100  # å­¦ä¹ ç‡</span><br><span class="line">iter_time &#x3D; 10000  # è¿­ä»£æ¬¡æ•°</span><br><span class="line">adagrad &#x3D; np.zeros([dim, 1])  # ç”Ÿæˆdimè¡Œå³163è¡Œ1åˆ—çš„æ•°ç»„ï¼Œç”¨æ¥ä½¿ç”¨adagradç®—æ³•æ›´æ–°å­¦ä¹ ç‡</span><br><span class="line">eps &#x3D; 0.0000000001  # å› ä¸ºæ–°çš„å­¦ä¹ ç‡æ˜¯learning_rate&#x2F;sqrt(sum_of_pre_grads**2),è€Œadagrad&#x3D;sum_of_grads**2,æ‰€ä»¥å¤„åœ¨åˆ†æ¯ä¸Šè€Œè¿­ä»£æ—¶adagradå¯èƒ½ä¸º0ï¼Œæ‰€ä»¥åŠ ä¸Šä¸€ä¸ªæå°æ•°ï¼Œä½¿å…¶ä¸é™¤0</span><br><span class="line">for t in range(iter_time):</span><br><span class="line">    loss &#x3D; np.sqrt(np.sum(np.power(np.dot(x, w) - y,</span><br><span class="line">                                   2)) &#x2F; 471 &#x2F; 12)  # rmse losså‡½æ•°æ˜¯ä»0-nçš„(X*W-Y)**2ä¹‹å’Œ&#x2F;(471*12)å†å¼€æ ¹å·ï¼Œå³ä½¿ç”¨å‡æ–¹æ ¹è¯¯å·®(root mean square error),å…·ä½“å¯ç™¾åº¦å…¶å…¬å¼ï¼Œ&#x2F;471&#x2F;12å³&#x2F;N(æ¬¡æ•°)</span><br><span class="line">    if (t % 100 &#x3D;&#x3D; 0):  # æ¯ä¸€ç™¾æ¬¡è¿­ä»£å°±è¾“å‡ºå…¶æŸå¤±</span><br><span class="line">        print(str(t) + &quot;:&quot; + str(loss))</span><br><span class="line">    gradient &#x3D; 2 * np.dot(x.transpose(), np.dot(x,</span><br><span class="line">                                                w) - y)  # dim*1 x.transposeå³xçš„è½¬ç½®ï¼Œåé¢æ˜¯X*W-Y,å³2*(xçš„è½¬ç½®*(X*W-Y))æ˜¯æ¢¯åº¦ï¼Œå…·ä½“å¯ç”±h(x)æ±‚åå¾®åˆ†è·å¾—.æœ€åç”Ÿæˆ1è¡Œ18*9+1åˆ—çš„æ•°ç»„ã€‚è½¬ç½®åçš„Xï¼Œå…¶æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªå‚æ•°ï¼Œä¸h(x)-yçš„å€¼ç›¸ä¹˜ä¹‹åæ˜¯å‚æ•°W0çš„ä¿®æ­£å€¼ï¼ŒåŒç†å¯å¾—W0-Wnçš„ä¿®æ­£å€¼ä¿å­˜åˆ°1è¡Œ18*9+1åˆ—çš„æ•°ç»„ä¸­ï¼Œå³gradient</span><br><span class="line">    adagrad +&#x3D; gradient ** 2  # adagradç”¨äºä¿å­˜å‰é¢ä½¿ç”¨åˆ°çš„æ‰€æœ‰gradientçš„å¹³æ–¹ï¼Œè¿›è€Œåœ¨æ›´æ–°æ—¶ç”¨äºè°ƒæ•´å­¦ä¹ ç‡</span><br><span class="line">    w &#x3D; w - learning_rate * gradient &#x2F; np.sqrt(adagrad + eps)  # æ›´æ–°æƒé‡</span><br><span class="line">np.save(&#39;weight.npy&#39;, w)  # å°†å‚æ•°ä¿å­˜ä¸‹æ¥</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„çš„æ˜¯ï¼Œloss functionæˆ‘ä»¬é€‰æ‹©çš„æ˜¯Root Mean Square Errorï¼Œå³ä¸‹å›¾æ‰€ç¤ºçš„å…¬å¼ï¼š  </p>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/9.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>è‡³äºå­¦ä¹ ç‡ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯å›ºå®šå­¦ä¹ ç‡ï¼Œæ¯æ¬¡è¿­ä»£çš„å­¦ä¹ ç‡éƒ½ç›¸åŒï¼Œä½†è¿™æ ·æ•ˆæœä¹Ÿä¼šå¾ˆå·®ï¼Œè‰¯å¥½çš„å­¦ä¹ ç‡åº”éšè¿­ä»£æ¬¡æ•°ä¾æ¬¡å‡å°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨è‡ªé€‚åº”å­¦ä¹ ç‡çš„adagradç®—æ³•ï¼Œå³æ¯æ¬¡å­¦ä¹ ç‡éƒ½ç­‰äºå…¶é™¤ä»¥ä¹‹å‰æ‰€æœ‰çš„æ¢¯åº¦å¹³æ–¹å’Œå†å¼€æ ¹å·ï¼Œå³ä¸‹å›¾æ‰€ç¤ºçš„å…¬å¼:  </p>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/10.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<p>gradientå°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå°±æ˜¯ä¸€ä¸ªå¯¹Losså‡½æ•°è¿›è¡Œæ¯ä¸ªå‚æ•°çš„åå¾®åˆ†è€Œå¾—åˆ°çš„çŸ©é˜µã€‚</p>
<h1 id="Step5ï¼šè½½å…¥éªŒè¯é›†è¿›è¡ŒéªŒè¯"><a href="#Step5ï¼šè½½å…¥éªŒè¯é›†è¿›è¡ŒéªŒè¯" class="headerlink" title="Step5ï¼šè½½å…¥éªŒè¯é›†è¿›è¡ŒéªŒè¯"></a><strong>Step5ï¼šè½½å…¥éªŒè¯é›†è¿›è¡ŒéªŒè¯</strong></h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">w &#x3D; np.load(&#39;weight.npy&#39;)</span><br><span class="line"># ä½¿ç”¨x_validationå’Œy_validationæ¥è®¡ç®—æ¨¡å‹çš„å‡†ç¡®ç‡ï¼Œå› ä¸ºXå·²ç»normalizeäº†ï¼Œæ‰€ä»¥ä¸éœ€è¦å†æ¥ä¸€éï¼Œåªéœ€åœ¨x_validationä¸Šæ·»åŠ æ–°çš„ä¸€åˆ—ä½œä¸ºbiasçš„ä¹˜æ•°å³å¯</span><br><span class="line">x_validation &#x3D; np.concatenate((np.ones([1131, 1]), x_validation), axis&#x3D;1).astype(float)</span><br><span class="line">ans_y &#x3D; np.dot(x_validation, w)</span><br><span class="line">loss &#x3D; np.sqrt(np.sum(np.power(ans_y - y_validation, 2)) &#x2F; 1131)</span><br><span class="line">print(loss)</span><br></pre></td></tr></table></figure>
<p>ç»†å¿ƒçš„ä½ è‚¯å®šæ³¨æ„åˆ°äº†ï¼Œæˆ‘åœ¨ç¬¬å››æ­¥è¿›è¡Œè®­ç»ƒä½¿ç”¨çš„è®­ç»ƒé›†æ˜¯æ•´ä¸ªXï¼Œè€Œæ²¡ä½¿ç”¨æˆ‘åˆ†å¼€å¥½çš„x_train_set,è¿™æ˜¯å› ä¸ºä½¿ç”¨äº†æ•´ä¸ªXè®­ç»ƒä¹‹åå°±ç›´æ¥å¯ä»¥é¢„æµ‹testdataä¸­çš„å€¼å¹¶è¾“å‡ºäº†ï¼Œè€Œä½¿ç”¨x_train_setè¿›è¡Œè®­ç»ƒå†ä½¿ç”¨x_validationå’Œy_validationè¿›è¡ŒéªŒè¯æ˜¯ä¸ºäº†é¢„ä¼°æ¨¡å‹çš„å¥½åã€‚ä½†æˆ‘è¿˜æ˜¯ä½¿ç”¨äº†ä¸¤ç§è®­ç»ƒé›†åˆ†åˆ«è¿›è¡Œè®­ç»ƒï¼Œå¹¶éƒ½ç”¨x_validationå’Œy_validationè¿›è¡ŒéªŒè¯ï¼Œç»“æœå¦‚ä¸‹ï¼š  </p>
<ul>
<li><input disabled="" type="checkbox"> ä½¿ç”¨å…¨éƒ¨Xè¿›è¡Œè®­ç»ƒï¼Œå¹¶é€šè¿‡x_validationå’Œy_validationè¿›è¡ŒéªŒè¯ï¼Œç»“æœæ˜¯<br>è®­ç»ƒé›†ä¸­æœ€åä¸€æ¬¡è¿­ä»£çš„lossä¸º5.68   æµ‹è¯•é›†ä¸­lossä¸º5.42</li>
</ul>
<p>++ä½†ä¸Šè¿°æƒ…å†µæ˜¯å› ä¸ºx_validationæœ¬èº«åŒ…æ‹¬åœ¨è®­ç»ƒé›†ä¸­ï¼Œæ‰€ä»¥lossæ¯”ä¸‹é¢æ–¹æ³•æ›´ä½åœ¨æ„æ–™ä¹‹ä¸­++</p>
<ul>
<li><input disabled="" type="checkbox"> ä½¿ç”¨x_train_setè¿›è¡Œè®­ç»ƒï¼Œå¹¶é€šè¿‡x_validationå’Œy_validationè¿›è¡ŒéªŒè¯ï¼Œç»“æœæ˜¯<br>è®­ç»ƒé›†ä¸­æœ€åä¸€æ¬¡è¿­ä»£çš„lossä¸º5.72   æµ‹è¯•é›†ä¸­lossä¸º5.66</li>
</ul>
<p>è¿™æ ·çœ‹æ¥ï¼Œæˆ‘ä»¬çš„æ¨¡å‹è¿˜ç®—å¯ä»¥ï¼Œæ‰€ä»¥å°±å¯ä»¥è¿›è¡Œæœ€åä¸€æ­¥é¢„æµ‹test dataäº†<br>è¿˜éœ€è¦è¡¥å……çš„æ˜¯ï¼Œloss functionä¸€å®šå’Œè®­ç»ƒçš„loss functionä¸€è‡´æ‰å¯ä»¥é€šè¿‡æ¯”è¾ƒå®ƒä¿©losså¤§å°æ¥è¯„ä¼°æ¨¡å‹å¥½åã€‚ç„¶åå°±æ˜¯å¦‚æœä½¿ç”¨x_validationè¿›è¡Œè®­ç»ƒæ—¶ï¼Œå°†è®­ç»ƒæ­¥éª¤çš„Xå…¨éƒ¨æ¢æˆx_validationï¼Œå¹¶ä¸”åœ¨â€/471/12â€çš„æ—¶å€™é™¤çš„æ˜¯x_validationçš„å¤§å°ï¼Œå³471<em>12</em>0.8</p>
<h1 id="Step6ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ"><a href="#Step6ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ" class="headerlink" title="Step6ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ"></a><strong>Step6ï¼šé¢„æµ‹testdataå¾—åˆ°é¢„æµ‹ç»“æœ</strong></h1><p>å› ä¸ºä¹‹å‰å¯¹æ•°æ®é¢„å¤„ç†ã€Normalizeç­‰ç­‰æ­¥éª¤æˆ‘ä»¬å·²ç»åšè¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä¾¿ä¸å†èµ˜è¿°ï¼Œç›´æ¥çœ‹ä»£ç çš„æ³¨é‡Šå³å¯ï¼Œåº”è¯¥æ˜¯éå¸¸è¯¦ç»†äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">testdata &#x3D; pd.read_csv(&#39;.&#x2F;dataset&#x2F;test.csv&#39;, header&#x3D;None, encoding&#x3D;&#39;big5&#39;)</span><br><span class="line">test_data &#x3D; testdata.iloc[:, 2:]  # å–csvæ–‡ä»¶ä¸­çš„å…¨è¡Œæ•°å³ç¬¬3åˆ—åˆ°ç»“æŸçš„åˆ—æ•°æ‰€åŒ…å«çš„æ•°æ®</span><br><span class="line">test_data[test_data &#x3D;&#x3D; &#39;NR&#39;] &#x3D; 0  # å°†testdataä¸­çš„NRæ›¿æ¢ä¸º0</span><br><span class="line">test_data &#x3D; test_data.to_numpy()  # å°†å…¶è½¬æ¢ä¸ºæ•°ç»„</span><br><span class="line">test_x &#x3D; np.empty([240, 18 * 9], dtype&#x3D;float)  # åˆ›å»ºä¸€ä¸ª240è¡Œ18*9åˆ—çš„ç©ºæ•°åˆ—ç”¨äºä¿å­˜textdataçš„è¾“å…¥</span><br><span class="line">for i in range(240):  # å…±240ä¸ªæµ‹è¯•è¾“å…¥æ•°æ®</span><br><span class="line">    test_x[i, :] &#x3D; test_data[18 * i: 18 * (i + 1), :].reshape(1, -1)</span><br><span class="line"># ä¸‹é¢æ˜¯Normalize,ä¸”å¿…é¡»è·Ÿtraining dataæ˜¯åŒä¸€ç§æ–¹æ³•è¿›è¡ŒNormalize</span><br><span class="line">for i in range(len(test_x)):</span><br><span class="line">    for j in range(len(test_x[0])):</span><br><span class="line">        if std_x[j] !&#x3D; 0:</span><br><span class="line">            test_x[i][j] &#x3D; (test_x[i][j] - mean_x[j]) &#x2F; std_x[j]</span><br><span class="line">test_x &#x3D; np.concatenate((np.ones([240, 1]), test_x), axis&#x3D;1).astype(float)  # åœ¨test_xå‰é¢æ‹¼æ¥ä¸€åˆ—å…¨1æ•°ç»„ï¼Œæ„æˆ240è¡Œï¼Œ163åˆ—æ•°æ®</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># è¿›è¡Œé¢„æµ‹ </span><br><span class="line">w &#x3D; np.load(&#39;weight.npy&#39;)</span><br><span class="line">ans_y &#x3D; np.dot(test_x, w)  # test dataçš„é¢„æµ‹å€¼ans_y&#x3D;test_xä¸Wçš„ç§¯</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># å°†é¢„æµ‹ç»“æœå¡«å…¥æ–‡ä»¶å½“ä¸­</span><br><span class="line">import csv</span><br><span class="line"></span><br><span class="line">with open(&#39;submit.csv&#39;, mode&#x3D;&#39;w&#39;, newline&#x3D;&#39;&#39;) as submit_file:</span><br><span class="line">    csv_writer &#x3D; csv.writer(submit_file)</span><br><span class="line">    header &#x3D; [&#39;id&#39;, &#39;value&#39;]</span><br><span class="line">    print(header)</span><br><span class="line">    csv_writer.writerow(header)</span><br><span class="line">    for i in range(240):</span><br><span class="line">        row &#x3D; [&#39;id_&#39; + str(i), ans_y[i][0]]</span><br><span class="line">        csv_writer.writerow(row)</span><br><span class="line">        print(row)</span><br></pre></td></tr></table></figure>
<img src="/2020/03/15/%E6%9D%8E%E5%AE%8F%E6%AF%85%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E7%AC%AC%E4%B8%80%E8%AF%BE%E4%BD%9C%E4%B8%9A/11.png" class="" title="[æå®æ¯…æœºå™¨å­¦ä¹ -ç¬¬ä¸€è¯¾ä½œä¸š]">  
<h1 id="Step7ï¼šæ€»ç»“å³ä¼˜åŒ–"><a href="#Step7ï¼šæ€»ç»“å³ä¼˜åŒ–" class="headerlink" title="Step7ï¼šæ€»ç»“å³ä¼˜åŒ–"></a><strong>Step7ï¼šæ€»ç»“å³ä¼˜åŒ–</strong></h1><p>ä»¥ä¸Šï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä½œä¸š1çš„æ‰€æœ‰å†…å®¹ã€‚å®é™…ä¸Šï¼Œå¯ä¸å¯ä»¥ä½¿æˆ‘ä»¬çš„æ¨¡å‹æ›´å¥½äº›ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œæˆ‘ä»¬åœ¨loss functionä¸­å¯ä»¥åŠ å…¥æ­£åˆ™é¡¹ï¼Œè¿™æ ·è‚¯å®šä¼šä½¿æ¨¡å‹çš„å‡†ç¡®åº¦æ›´å¥½äº›ï¼Œä½†è¿™é‡Œä¸å†ç»§ç»­å†™äº†ã€‚<br>å†™åˆ°è¿™é‡Œæˆ‘çš„å¿ƒæƒ…æ˜¯éå¸¸æ¿€åŠ¨çš„ï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªæˆ‘è‡ªå·±æ ¹æ®è€å¸ˆçš„æŒ‡å¯¼ï¼Œå®Œå®Œå…¨å…¨å¼„æ‡‚å®Œæˆçš„ç¬¬ä¸€ä¸ªå®éªŒï¼Œç¡®å®ç»™äº†æˆ‘å¾ˆå¤šå¯å‘ä¸ç†è§£ï¼Œåªèƒ½è¯´è€å¸ˆæ°´å¹³å¾ˆé«˜å§ã€‚æœç„¶å¥½å¤§å­¦çš„å®éªŒè¯¾æ‰æ˜¯ç²¾åï¼Œè¯¾ç¨‹åªæ˜¯é”¦ä¸Šæ·»èŠ±å“‡ã€‚</p>
]]></content>
      <categories>
        <category>Machine Learning</category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>Regression</tag>
      </tags>
  </entry>
  <entry>
    <title>DL-æ‰‹å†™æ•°å­—è¯†åˆ«</title>
    <url>/2020/03/09/DL-%E6%89%8B%E5%86%99%E6%95%B0%E5%AD%97%E8%AF%86%E5%88%AB/</url>
    <content><![CDATA[<p>æœ¬å®è·µä½¿ç”¨å¤šå±‚æ„ŸçŸ¥å™¨è®­ç»ƒï¼ˆDNNï¼‰æ¨¡å‹ï¼Œç”¨äºé¢„æµ‹æ‰‹å†™æ•°å­—å›¾ç‰‡ã€‚</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/ba26eac845334208851e72c7a2dfef5e1eec566894ba430aba7492e72c49cacd" alt=""></p>
<a id="more"></a>

<p> å®è·µæ€»ä½“è¿‡ç¨‹å’Œæ­¥éª¤å¦‚ä¸‹å›¾</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/daa656fb63c54dec8e0e468ba8f65e1c94ccd7debd314d8ca6d179f12f13883d" alt=""></p>
<p>é¦–å…ˆå¯¼å…¥å¿…è¦çš„åŒ…</p>
<p>numpyâ€”â€”â€”-&gt;pythonç¬¬ä¸‰æ–¹åº“ï¼Œç”¨äºè¿›è¡Œç§‘å­¦è®¡ç®—</p>
<p>PILâ€”â€”â€”â€”&gt; Python Image Library,pythonç¬¬ä¸‰æ–¹å›¾åƒå¤„ç†åº“</p>
<p>matplotlibâ€”â€“&gt;pythonçš„ç»˜å›¾åº“ pyplot:matplotlibçš„ç»˜å›¾æ¡†æ¶</p>
<p>osâ€”â€”â€”â€”-&gt;æä¾›äº†ä¸°å¯Œçš„æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶å’Œç›®å½•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#å¯¼å…¥éœ€è¦çš„åŒ…</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> paddle <span class="keyword">as</span> paddle</span><br><span class="line"><span class="keyword">import</span> paddle.fluid <span class="keyword">as</span> fluid</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></table></figure>

<h1 id="Step1ï¼šå‡†å¤‡æ•°æ®ã€‚"><a href="#Step1ï¼šå‡†å¤‡æ•°æ®ã€‚" class="headerlink" title="Step1ï¼šå‡†å¤‡æ•°æ®ã€‚"></a><strong>Step1ï¼šå‡†å¤‡æ•°æ®ã€‚</strong></h1><p>(1)æ•°æ®é›†ä»‹ç»</p>
<p>MNISTæ•°æ®é›†åŒ…å«60000ä¸ªè®­ç»ƒé›†å’Œ10000æµ‹è¯•æ•°æ®é›†ã€‚åˆ†ä¸ºå›¾ç‰‡å’Œæ ‡ç­¾ï¼Œå›¾ç‰‡æ˜¯28*28çš„åƒç´ çŸ©é˜µï¼Œæ ‡ç­¾ä¸º0~9å…±10ä¸ªæ•°å­—ã€‚</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/fc73217ae57f451a89badc801a903bb742e42eabd9434ecc8089efe19a66c076" alt=""></p>
<p>(2)train_readerå’Œtest_reader</p>
<p>paddle.dataset.mnist.train()å’Œtest()åˆ†åˆ«ç”¨äºè·å–mnistè®­ç»ƒé›†å’Œæµ‹è¯•é›†</p>
<p>paddle.reader.shuffle()è¡¨ç¤ºæ¯æ¬¡ç¼“å­˜BUF_SIZEä¸ªæ•°æ®é¡¹ï¼Œå¹¶è¿›è¡Œæ‰“ä¹±</p>
<p>paddle.batch()è¡¨ç¤ºæ¯BATCH_SIZEç»„æˆä¸€ä¸ªbatch</p>
<p>ï¼ˆ3ï¼‰æ‰“å°çœ‹ä¸‹æ•°æ®æ˜¯ä»€ä¹ˆæ ·çš„ï¼ŸPaddlePaddleæ¥å£æä¾›çš„æ•°æ®å·²ç»ç»è¿‡äº†å½’ä¸€åŒ–ã€å±…ä¸­ç­‰å¤„ç†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">BUF_SIZE=<span class="number">512</span></span><br><span class="line">BATCH_SIZE=<span class="number">128</span></span><br><span class="line"><span class="comment">#ç”¨äºè®­ç»ƒçš„æ•°æ®æä¾›å™¨ï¼Œæ¯æ¬¡ä»ç¼“å­˜ä¸­éšæœºè¯»å–æ‰¹æ¬¡å¤§å°çš„æ•°æ®</span></span><br><span class="line">train_reader = paddle.batch(</span><br><span class="line">    paddle.reader.shuffle(paddle.dataset.mnist.train(),</span><br><span class="line">                          buf_size=BUF_SIZE),</span><br><span class="line">    batch_size=BATCH_SIZE)</span><br><span class="line"><span class="comment">#ç”¨äºè®­ç»ƒçš„æ•°æ®æä¾›å™¨ï¼Œæ¯æ¬¡ä»ç¼“å­˜ä¸­éšæœºè¯»å–æ‰¹æ¬¡å¤§å°çš„æ•°æ®</span></span><br><span class="line">test_reader = paddle.batch(</span><br><span class="line">    paddle.reader.shuffle(paddle.dataset.mnist.test(),</span><br><span class="line">                          buf_size=BUF_SIZE),</span><br><span class="line">    batch_size=BATCH_SIZE)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#ç”¨äºæ‰“å°ï¼ŒæŸ¥çœ‹mnistæ•°æ®</span></span><br><span class="line">train_data=paddle.dataset.mnist.train();</span><br><span class="line">sampledata=next(train_data())</span><br><span class="line">print(sampledata)</span><br></pre></td></tr></table></figure>

<pre><code>[==================================================]t/train-images-idx3-ubyte.gz not found, downloading http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz
[==================================================]t/train-labels-idx1-ubyte.gz not found, downloading http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz
[==================================================]t/t10k-images-idx3-ubyte.gz not found, downloading http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz
[==================================================]t/t10k-labels-idx1-ubyte.gz not found, downloading http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz




(array([-1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -0.9764706 , -0.85882354, -0.85882354,
       -0.85882354, -0.01176471,  0.06666672,  0.37254906, -0.79607844,
        0.30196083,  1.        ,  0.9372549 , -0.00392157, -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -0.7647059 , -0.7176471 , -0.26274508,  0.20784318,
        0.33333337,  0.9843137 ,  0.9843137 ,  0.9843137 ,  0.9843137 ,
        0.9843137 ,  0.7647059 ,  0.34901965,  0.9843137 ,  0.8980392 ,
        0.5294118 , -0.4980392 , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -0.6156863 ,  0.8666667 ,
        0.9843137 ,  0.9843137 ,  0.9843137 ,  0.9843137 ,  0.9843137 ,
        0.9843137 ,  0.9843137 ,  0.9843137 ,  0.96862745, -0.27058822,
       -0.35686272, -0.35686272, -0.56078434, -0.69411767, -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -0.85882354,  0.7176471 ,  0.9843137 ,  0.9843137 ,
        0.9843137 ,  0.9843137 ,  0.9843137 ,  0.5529412 ,  0.427451  ,
        0.9372549 ,  0.8901961 , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -0.372549  ,  0.22352946, -0.1607843 ,  0.9843137 ,  0.9843137 ,
        0.60784316, -0.9137255 , -1.        , -0.6627451 ,  0.20784318,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -0.8901961 ,
       -0.99215686,  0.20784318,  0.9843137 , -0.29411763, -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        ,  0.09019613,
        0.9843137 ,  0.4901961 , -0.9843137 , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -0.9137255 ,  0.4901961 ,  0.9843137 ,
       -0.45098037, -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -0.7254902 ,  0.8901961 ,  0.7647059 ,  0.254902  ,
       -0.15294117, -0.99215686, -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -0.36470586,  0.88235295,  0.9843137 ,  0.9843137 , -0.06666666,
       -0.8039216 , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -0.64705884,
        0.45882356,  0.9843137 ,  0.9843137 ,  0.17647064, -0.7882353 ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -0.8745098 , -0.27058822,
        0.9764706 ,  0.9843137 ,  0.4666667 , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        ,  0.9529412 ,  0.9843137 ,
        0.9529412 , -0.4980392 , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -0.6392157 ,  0.0196079 ,
        0.43529415,  0.9843137 ,  0.9843137 ,  0.62352943, -0.9843137 ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -0.69411767,
        0.16078436,  0.79607844,  0.9843137 ,  0.9843137 ,  0.9843137 ,
        0.9607843 ,  0.427451  , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -0.8117647 , -0.10588235,  0.73333335,  0.9843137 ,  0.9843137 ,
        0.9843137 ,  0.9843137 ,  0.5764706 , -0.38823527, -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -0.81960785, -0.4823529 ,  0.67058825,  0.9843137 ,
        0.9843137 ,  0.9843137 ,  0.9843137 ,  0.5529412 , -0.36470586,
       -0.9843137 , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -0.85882354,  0.3411765 ,  0.7176471 ,
        0.9843137 ,  0.9843137 ,  0.9843137 ,  0.9843137 ,  0.5294118 ,
       -0.372549  , -0.92941177, -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -0.5686275 ,  0.34901965,
        0.77254903,  0.9843137 ,  0.9843137 ,  0.9843137 ,  0.9843137 ,
        0.9137255 ,  0.04313731, -0.9137255 , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        ,  0.06666672,  0.9843137 ,  0.9843137 ,  0.9843137 ,
        0.6627451 ,  0.05882359,  0.03529418, -0.8745098 , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        , -1.        ,
       -1.        , -1.        , -1.        , -1.        ], dtype=float32), 5)</code></pre><h1 id="Step2-ç½‘ç»œé…ç½®"><a href="#Step2-ç½‘ç»œé…ç½®" class="headerlink" title="Step2.ç½‘ç»œé…ç½®"></a><strong>Step2.ç½‘ç»œé…ç½®</strong></h1><p>ä»¥ä¸‹çš„ä»£ç åˆ¤æ–­å°±æ˜¯å®šä¹‰ä¸€ä¸ªç®€å•çš„å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œä¸€å…±æœ‰ä¸‰å±‚ï¼Œä¸¤ä¸ªå¤§å°ä¸º100çš„éšå±‚å’Œä¸€ä¸ªå¤§å°ä¸º10çš„è¾“å‡ºå±‚ï¼Œå› ä¸ºMNISTæ•°æ®é›†æ˜¯æ‰‹å†™0åˆ°9çš„ç°åº¦å›¾åƒï¼Œç±»åˆ«æœ‰10ä¸ªï¼Œæ‰€ä»¥æœ€åçš„è¾“å‡ºå¤§å°æ˜¯10ã€‚æœ€åè¾“å‡ºå±‚çš„æ¿€æ´»å‡½æ•°æ˜¯Softmaxï¼Œæ‰€ä»¥æœ€åçš„è¾“å‡ºå±‚ç›¸å½“äºä¸€ä¸ªåˆ†ç±»å™¨ã€‚åŠ ä¸Šä¸€ä¸ªè¾“å…¥å±‚çš„è¯ï¼Œå¤šå±‚æ„ŸçŸ¥å™¨çš„ç»“æ„æ˜¯ï¼šè¾“å…¥å±‚â€“&gt;&gt;éšå±‚â€“&gt;&gt;éšå±‚â€“&gt;&gt;è¾“å‡ºå±‚ã€‚</p>
<p><img src="https://ai-studio-static-online.cdn.bcebos.com/cb69f928778c4299b75814179607a89eea770bdc409d4e08a87e2975cb96b19b" alt=""></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰å¤šå±‚æ„ŸçŸ¥å™¨ </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multilayer_perceptron</span><span class="params">(input)</span>:</span> </span><br><span class="line">    <span class="comment"># ç¬¬ä¸€ä¸ªå…¨è¿æ¥å±‚ï¼Œæ¿€æ´»å‡½æ•°ä¸ºReLU </span></span><br><span class="line">    hidden1 = fluid.layers.fc(input=input, size=<span class="number">100</span>, act=<span class="string">'relu'</span>) </span><br><span class="line">    <span class="comment"># ç¬¬äºŒä¸ªå…¨è¿æ¥å±‚ï¼Œæ¿€æ´»å‡½æ•°ä¸ºReLU </span></span><br><span class="line">    hidden2 = fluid.layers.fc(input=hidden1, size=<span class="number">100</span>, act=<span class="string">'relu'</span>) </span><br><span class="line">    <span class="comment"># ä»¥softmaxä¸ºæ¿€æ´»å‡½æ•°çš„å…¨è¿æ¥è¾“å‡ºå±‚ï¼Œè¾“å‡ºå±‚çš„å¤§å°å¿…é¡»ä¸ºæ•°å­—çš„ä¸ªæ•°10 </span></span><br><span class="line">    prediction = fluid.layers.fc(input=hidden2, size=<span class="number">10</span>, act=<span class="string">'softmax'</span>) </span><br><span class="line">    <span class="keyword">return</span> prediction</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å®šä¹‰æ•°æ®å±‚</p>
<p>è¾“å…¥çš„æ˜¯å›¾åƒæ•°æ®ã€‚å›¾åƒæ˜¯ 28 * 28 çš„ç°åº¦å›¾ï¼Œæ‰€ä»¥è¾“å…¥çš„å½¢çŠ¶æ˜¯[1, 28, 28]ï¼Œå¦‚æœå›¾åƒæ˜¯32*32çš„å½©è‰²å›¾ï¼Œé‚£ä¹ˆè¾“å…¥çš„å½¢çŠ¶æ˜¯[3. 32, 32]ï¼Œå› ä¸ºç°åº¦å›¾åªæœ‰ä¸€ä¸ªé€šé“ï¼Œè€Œå½©è‰²å›¾æœ‰RGBä¸‰ä¸ªé€šé“ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¾“å…¥çš„åŸå§‹å›¾åƒæ•°æ®ï¼Œå¤§å°ä¸º1*28*28</span></span><br><span class="line">image = fluid.layers.data(name=<span class="string">'image'</span>, shape=[<span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>], dtype=<span class="string">'float32'</span>)<span class="comment">#å•é€šé“ï¼Œ28*28åƒç´ å€¼</span></span><br><span class="line"><span class="comment"># æ ‡ç­¾ï¼Œåç§°ä¸ºlabel,å¯¹åº”è¾“å…¥å›¾ç‰‡çš„ç±»åˆ«æ ‡ç­¾</span></span><br><span class="line">label = fluid.layers.data(name=<span class="string">'label'</span>, shape=[<span class="number">1</span>], dtype=<span class="string">'int64'</span>)          <span class="comment">#å›¾ç‰‡æ ‡ç­¾</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰è·å–åˆ†ç±»å™¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è·å–åˆ†ç±»å™¨</span></span><br><span class="line">predict = multilayer_perceptron(image)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰å®šä¹‰æŸå¤±å‡½æ•°å’Œå‡†ç¡®ç‡</p>
<p>è¿™æ¬¡ä½¿ç”¨çš„æ˜¯äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨åˆ†ç±»ä»»åŠ¡ä¸Šæ¯”è¾ƒå¸¸ç”¨ã€‚</p>
<p>å®šä¹‰äº†ä¸€ä¸ªæŸå¤±å‡½æ•°ä¹‹åï¼Œè¿˜æœ‰å¯¹å®ƒæ±‚å¹³å‡å€¼ï¼Œè®­ç»ƒç¨‹åºå¿…é¡»è¿”å›å¹³å‡æŸå¤±ä½œä¸ºç¬¬ä¸€ä¸ªè¿”å›å€¼ï¼Œå› ä¸ºå®ƒä¼šè¢«åé¢åå‘ä¼ æ’­ç®—æ³•æ‰€ç”¨åˆ°ã€‚ã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥å®šä¹‰ä¸€ä¸ªå‡†ç¡®ç‡å‡½æ•°ï¼Œè¿™ä¸ªå¯ä»¥åœ¨æˆ‘ä»¬è®­ç»ƒçš„æ—¶å€™è¾“å‡ºåˆ†ç±»çš„å‡†ç¡®ç‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#ä½¿ç”¨äº¤å‰ç†µæŸå¤±å‡½æ•°,æè¿°çœŸå®æ ·æœ¬æ ‡ç­¾å’Œé¢„æµ‹æ¦‚ç‡ä¹‹é—´çš„å·®å€¼</span></span><br><span class="line">cost = fluid.layers.cross_entropy(input=predict, label=label)  </span><br><span class="line"><span class="comment"># ä½¿ç”¨ç±»äº¤å‰ç†µå‡½æ•°è®¡ç®—predictå’Œlabelä¹‹é—´çš„æŸå¤±å‡½æ•°</span></span><br><span class="line">avg_cost = fluid.layers.mean(cost)</span><br><span class="line"><span class="comment"># è®¡ç®—åˆ†ç±»å‡†ç¡®ç‡</span></span><br><span class="line">acc = fluid.layers.accuracy(input=predict, label=label)</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ5ï¼‰å®šä¹‰ä¼˜åŒ–å‡½æ•°</p>
<p>è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯Adamä¼˜åŒ–æ–¹æ³•ï¼ŒåŒæ—¶æŒ‡å®šå­¦ä¹ ç‡ä¸º0.001</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"> <span class="comment">#ä½¿ç”¨Adamç®—æ³•è¿›è¡Œä¼˜åŒ–, learning_rate æ˜¯å­¦ä¹ ç‡(å®ƒçš„å¤§å°ä¸ç½‘ç»œçš„è®­ç»ƒæ”¶æ•›é€Ÿåº¦æœ‰å…³ç³»)</span></span><br><span class="line">optimizer = fluid.optimizer.AdamOptimizer(learning_rate=<span class="number">0.001</span>)  </span><br><span class="line">opts = optimizer.minimize(avg_cost)</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°æ¨¡å‹é…ç½®å®Œæ¯•åï¼Œå¾—åˆ°ä¸¤ä¸ªfluid.Programï¼šfluid.default_startup_program() ä¸fluid.default_main_program() é…ç½®å®Œæ¯•äº†ã€‚</p>
<p>å‚æ•°åˆå§‹åŒ–æ“ä½œä¼šè¢«å†™å…¥fluid.default_startup_program()</p>
<p>fluid.default_main_program()ç”¨äºè·å–é»˜è®¤æˆ–å…¨å±€main program(ä¸»ç¨‹åº)ã€‚è¯¥ä¸»ç¨‹åºç”¨äºè®­ç»ƒå’Œæµ‹è¯•æ¨¡å‹ã€‚fluid.layers ä¸­çš„æ‰€æœ‰layerå‡½æ•°å¯ä»¥å‘ default_main_program ä¸­æ·»åŠ ç®—å­å’Œå˜é‡ã€‚default_main_program æ˜¯fluidçš„è®¸å¤šç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰çš„Programå‚æ•°çš„ç¼ºçœå€¼ã€‚ä¾‹å¦‚,å½“ç”¨æˆ·programæ²¡æœ‰ä¼ å…¥çš„æ—¶å€™ï¼Œ Executor.run() ä¼šé»˜è®¤æ‰§è¡Œ default_main_program ã€‚</p>
<h1 id="Step3-æ¨¡å‹è®­ç»ƒ-and-Step4-æ¨¡å‹è¯„ä¼°"><a href="#Step3-æ¨¡å‹è®­ç»ƒ-and-Step4-æ¨¡å‹è¯„ä¼°" class="headerlink" title="Step3.æ¨¡å‹è®­ç»ƒ and Step4.æ¨¡å‹è¯„ä¼°"></a><strong>Step3.æ¨¡å‹è®­ç»ƒ and Step4.æ¨¡å‹è¯„ä¼°</strong></h1><p>ï¼ˆ1ï¼‰åˆ›å»ºè®­ç»ƒçš„Executor</p>
<p>é¦–å…ˆå®šä¹‰è¿ç®—åœºæ‰€ fluid.CPUPlace()å’Œ fluid.CUDAPlace(0)åˆ†åˆ«è¡¨ç¤ºè¿ç®—åœºæ‰€ä¸ºCPUå’ŒGPU</p>
<p>Executor:æ¥æ”¶ä¼ å…¥çš„programï¼Œé€šè¿‡run()æ–¹æ³•è¿è¡Œprogramã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ä½¿ç”¨CPUè¿˜æ˜¯GPUï¼Œä½¿ç”¨CPUæ—¶use_cuda = False,ä½¿ç”¨GPUæ—¶use_cuda = True</span></span><br><span class="line">use_cuda = <span class="literal">False</span></span><br><span class="line">place = fluid.CUDAPlace(<span class="number">0</span>) <span class="keyword">if</span> use_cuda <span class="keyword">else</span> fluid.CPUPlace()</span><br><span class="line"><span class="comment"># è·å–æµ‹è¯•ç¨‹åº</span></span><br><span class="line">test_program = fluid.default_main_program().clone(for_test=<span class="literal">True</span>)</span><br><span class="line">exe = fluid.Executor(place)</span><br><span class="line">exe.run(fluid.default_startup_program())</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰å‘ŠçŸ¥ç½‘ç»œä¼ å…¥çš„æ•°æ®åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯imageå€¼ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯labelå€¼</p>
<p>DataFeederè´Ÿè´£å°†æ•°æ®æä¾›å™¨ï¼ˆtrain_reader,test_readerï¼‰è¿”å›çš„æ•°æ®è½¬æˆä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œä½¿å…¶å¯ä»¥è¾“å…¥åˆ°Executorä¸­ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">feeder = fluid.DataFeeder(place=place, feed_list=[image, label])</span><br></pre></td></tr></table></figure>

<p>(3)å±•ç¤ºæ¨¡å‹è®­ç»ƒæ›²çº¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">all_train_iter=<span class="number">0</span></span><br><span class="line">all_train_iters=[]</span><br><span class="line">all_train_costs=[]</span><br><span class="line">all_train_accs=[]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">draw_train_process</span><span class="params">(title,iters,costs,accs,label_cost,lable_acc)</span>:</span></span><br><span class="line">    plt.title(title, fontsize=<span class="number">24</span>)</span><br><span class="line">    plt.xlabel(<span class="string">"iter"</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">    plt.ylabel(<span class="string">"cost/acc"</span>, fontsize=<span class="number">20</span>)</span><br><span class="line">    plt.plot(iters, costs,color=<span class="string">'red'</span>,label=label_cost) </span><br><span class="line">    plt.plot(iters, accs,color=<span class="string">'green'</span>,label=lable_acc) </span><br><span class="line">    plt.legend()</span><br><span class="line">    plt.grid()</span><br><span class="line">    plt.show()</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ4ï¼‰è®­ç»ƒå¹¶ä¿å­˜æ¨¡å‹</p>
<p>è®­ç»ƒéœ€è¦æœ‰ä¸€ä¸ªè®­ç»ƒç¨‹åºå’Œä¸€äº›å¿…è¦å‚æ•°ï¼Œå¹¶æ„å»ºäº†ä¸€ä¸ªè·å–è®­ç»ƒè¿‡ç¨‹ä¸­æµ‹è¯•è¯¯å·®çš„å‡½æ•°ã€‚å¿…è¦å‚æ•°æœ‰executor,program,reader,feeder,fetch_listã€‚</p>
<p><strong>executor</strong>è¡¨ç¤ºä¹‹å‰åˆ›å»ºçš„æ‰§è¡Œå™¨</p>
<p><strong>program</strong>è¡¨ç¤ºæ‰§è¡Œå™¨æ‰€æ‰§è¡Œçš„programï¼Œæ˜¯ä¹‹å‰åˆ›å»ºçš„programï¼Œå¦‚æœè¯¥é¡¹å‚æ•°æ²¡æœ‰ç»™å®šçš„è¯åˆ™é»˜è®¤ä½¿ç”¨defalut_main_program</p>
<p><strong>reader</strong>è¡¨ç¤ºè¯»å–åˆ°çš„æ•°æ®</p>
<p><strong>feeder</strong>è¡¨ç¤ºå‰å‘è¾“å…¥çš„å˜é‡</p>
<p><strong>fetch_list</strong>è¡¨ç¤ºç”¨æˆ·æƒ³å¾—åˆ°çš„å˜é‡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">EPOCH_NUM=<span class="number">2</span></span><br><span class="line">model_save_dir = <span class="string">"/home/aistudio/work/hand.inference.model"</span></span><br><span class="line"><span class="keyword">for</span> pass_id <span class="keyword">in</span> range(EPOCH_NUM):</span><br><span class="line">    <span class="comment"># è¿›è¡Œè®­ç»ƒ</span></span><br><span class="line">    <span class="keyword">for</span> batch_id, data <span class="keyword">in</span> enumerate(train_reader()):                         <span class="comment">#éå†train_reader</span></span><br><span class="line">        train_cost, train_acc = exe.run(program=fluid.default_main_program(),<span class="comment">#è¿è¡Œä¸»ç¨‹åº</span></span><br><span class="line">                                        feed=feeder.feed(data),              <span class="comment">#ç»™æ¨¡å‹å–‚å…¥æ•°æ®</span></span><br><span class="line">                                        fetch_list=[avg_cost, acc])          <span class="comment">#fetch è¯¯å·®ã€å‡†ç¡®ç‡  </span></span><br><span class="line">        </span><br><span class="line">        all_train_iter=all_train_iter+BATCH_SIZE</span><br><span class="line">        all_train_iters.append(all_train_iter)</span><br><span class="line">        </span><br><span class="line">        all_train_costs.append(train_cost[<span class="number">0</span>])</span><br><span class="line">        all_train_accs.append(train_acc[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># æ¯200ä¸ªbatchæ‰“å°ä¸€æ¬¡ä¿¡æ¯  è¯¯å·®ã€å‡†ç¡®ç‡</span></span><br><span class="line">        <span class="keyword">if</span> batch_id % <span class="number">200</span> == <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">'Pass:%d, Batch:%d, Cost:%0.5f, Accuracy:%0.5f'</span> %</span><br><span class="line">                  (pass_id, batch_id, train_cost[<span class="number">0</span>], train_acc[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿›è¡Œæµ‹è¯•</span></span><br><span class="line">    test_accs = []</span><br><span class="line">    test_costs = []</span><br><span class="line">    <span class="comment">#æ¯è®­ç»ƒä¸€è½® è¿›è¡Œä¸€æ¬¡æµ‹è¯•</span></span><br><span class="line">    <span class="keyword">for</span> batch_id, data <span class="keyword">in</span> enumerate(test_reader()):                         <span class="comment">#éå†test_reader</span></span><br><span class="line">        test_cost, test_acc = exe.run(program=test_program, <span class="comment">#æ‰§è¡Œè®­ç»ƒç¨‹åº</span></span><br><span class="line">                                      feed=feeder.feed(data),               <span class="comment">#å–‚å…¥æ•°æ®</span></span><br><span class="line">                                      fetch_list=[avg_cost, acc])           <span class="comment">#fetch è¯¯å·®ã€å‡†ç¡®ç‡</span></span><br><span class="line">        test_accs.append(test_acc[<span class="number">0</span>])                                       <span class="comment">#æ¯ä¸ªbatchçš„å‡†ç¡®ç‡</span></span><br><span class="line">        test_costs.append(test_cost[<span class="number">0</span>])                                     <span class="comment">#æ¯ä¸ªbatchçš„è¯¯å·®</span></span><br><span class="line">        </span><br><span class="line">       </span><br><span class="line">    <span class="comment"># æ±‚æµ‹è¯•ç»“æœçš„å¹³å‡å€¼</span></span><br><span class="line">    test_cost = (sum(test_costs) / len(test_costs))                         <span class="comment">#æ¯è½®çš„å¹³å‡è¯¯å·®</span></span><br><span class="line">    test_acc = (sum(test_accs) / len(test_accs))                            <span class="comment">#æ¯è½®çš„å¹³å‡å‡†ç¡®ç‡</span></span><br><span class="line">    print(<span class="string">'Test:%d, Cost:%0.5f, Accuracy:%0.5f'</span> % (pass_id, test_cost, test_acc))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#ä¿å­˜æ¨¡å‹</span></span><br><span class="line">    <span class="comment"># å¦‚æœä¿å­˜è·¯å¾„ä¸å­˜åœ¨å°±åˆ›å»º</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(model_save_dir):</span><br><span class="line">    os.makedirs(model_save_dir)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'save models to %s'</span> % (model_save_dir))</span><br><span class="line">fluid.io.save_inference_model(model_save_dir,   <span class="comment">#ä¿å­˜æ¨ç†modelçš„è·¯å¾„</span></span><br><span class="line">                                  [<span class="string">'image'</span>],    <span class="comment">#æ¨ç†ï¼ˆinferenceï¼‰éœ€è¦ feed çš„æ•°æ®</span></span><br><span class="line">                                  [predict],    <span class="comment">#ä¿å­˜æ¨ç†ï¼ˆinferenceï¼‰ç»“æœçš„ Variables</span></span><br><span class="line">                                  exe)             <span class="comment">#executor ä¿å­˜ inference model</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'è®­ç»ƒæ¨¡å‹ä¿å­˜å®Œæˆï¼'</span>)</span><br><span class="line">draw_train_process(<span class="string">"training"</span>,all_train_iters,all_train_costs,all_train_accs,<span class="string">"trainning cost"</span>,<span class="string">"trainning acc"</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Pass:0, Batch:0, Cost:2.62739, Accuracy:0.17188
Pass:0, Batch:200, Cost:0.31689, Accuracy:0.87500
Pass:0, Batch:400, Cost:0.28762, Accuracy:0.92188
Test:0, Cost:0.22491, Accuracy:0.93008
Pass:1, Batch:0, Cost:0.28741, Accuracy:0.91406
Pass:1, Batch:200, Cost:0.20729, Accuracy:0.95312
Pass:1, Batch:400, Cost:0.20814, Accuracy:0.93750
Test:1, Cost:0.15814, Accuracy:0.94877
save models to /home/aistudio/work/hand.inference.model
è®­ç»ƒæ¨¡å‹ä¿å­˜å®Œæˆï¼</code></pre><p><img src="output_25_1.png" alt="png"></p>
<h1 id="Step5-æ¨¡å‹é¢„æµ‹"><a href="#Step5-æ¨¡å‹é¢„æµ‹" class="headerlink" title="Step5.æ¨¡å‹é¢„æµ‹"></a><strong>Step5.æ¨¡å‹é¢„æµ‹</strong></h1><p>ï¼ˆ1ï¼‰å›¾ç‰‡é¢„å¤„ç†</p>
<p>åœ¨é¢„æµ‹ä¹‹å‰ï¼Œè¦å¯¹å›¾åƒè¿›è¡Œé¢„å¤„ç†ã€‚</p>
<p>é¦–å…ˆè¿›è¡Œç°åº¦åŒ–ï¼Œç„¶åå‹ç¼©å›¾åƒå¤§å°ä¸º28*28ï¼Œæ¥ç€å°†å›¾åƒè½¬æ¢æˆä¸€ç»´å‘é‡ï¼Œæœ€åå†å¯¹ä¸€ç»´å‘é‡è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_image</span><span class="params">(file)</span>:</span></span><br><span class="line">    im = Image.open(file).convert(<span class="string">'L'</span>)                        <span class="comment">#å°†RGBè½¬åŒ–ä¸ºç°åº¦å›¾åƒï¼ŒLä»£è¡¨ç°åº¦å›¾åƒï¼Œåƒç´ å€¼åœ¨0~255ä¹‹é—´</span></span><br><span class="line">    im = im.resize((<span class="number">28</span>, <span class="number">28</span>), Image.ANTIALIAS)                 <span class="comment">#resize image with high-quality å›¾åƒå¤§å°ä¸º28*28</span></span><br><span class="line">    im = np.array(im).reshape(<span class="number">1</span>, <span class="number">1</span>, <span class="number">28</span>, <span class="number">28</span>).astype(np.float32)<span class="comment">#è¿”å›æ–°å½¢çŠ¶çš„æ•°ç»„,æŠŠå®ƒå˜æˆä¸€ä¸ª numpy æ•°ç»„ä»¥åŒ¹é…æ•°æ®é¦ˆé€æ ¼å¼ã€‚</span></span><br><span class="line">    <span class="comment"># print(im)</span></span><br><span class="line">    im = im / <span class="number">255.0</span> * <span class="number">2.0</span> - <span class="number">1.0</span>                               <span class="comment">#å½’ä¸€åŒ–åˆ°ã€-1~1ã€‘ä¹‹é—´</span></span><br><span class="line">    <span class="keyword">return</span> im</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰ä½¿ç”¨Matplotlibå·¥å…·æ˜¾ç¤ºè¿™å¼ å›¾åƒã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">infer_path=<span class="string">'/home/aistudio/data/data1910/infer_3.png'</span></span><br><span class="line">img = Image.open(infer_path)</span><br><span class="line">plt.imshow(img)   <span class="comment">#æ ¹æ®æ•°ç»„ç»˜åˆ¶å›¾åƒ</span></span><br><span class="line">plt.show()        <span class="comment">#æ˜¾ç¤ºå›¾åƒ</span></span><br></pre></td></tr></table></figure>


<p><img src="output_30_0.png" alt="png"></p>
<p>(3)åˆ›å»ºé¢„æµ‹ç”¨çš„Executer</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">infer_exe = fluid.Executor(place)</span><br><span class="line">inference_scope = fluid.core.Scope()</span><br></pre></td></tr></table></figure>

<p>(4)å¼€å§‹é¢„æµ‹</p>
<p>é€šè¿‡fluid.io.load_inference_modelï¼Œé¢„æµ‹å™¨ä¼šä»params_dirnameä¸­è¯»å–å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæ¥å¯¹ä»æœªé‡è§è¿‡çš„æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½æ•°æ®å¹¶å¼€å§‹é¢„æµ‹</span></span><br><span class="line"><span class="keyword">with</span> fluid.scope_guard(inference_scope):</span><br><span class="line">    <span class="comment">#è·å–è®­ç»ƒå¥½çš„æ¨¡å‹</span></span><br><span class="line">    <span class="comment">#ä»æŒ‡å®šç›®å½•ä¸­åŠ è½½ æ¨ç†model(inference model)</span></span><br><span class="line">    [inference_program,                                            <span class="comment">#æ¨ç†Program</span></span><br><span class="line">     feed_target_names,                                            <span class="comment">#æ˜¯ä¸€ä¸ªstråˆ—è¡¨ï¼Œå®ƒåŒ…å«éœ€è¦åœ¨æ¨ç† Program ä¸­æä¾›æ•°æ®çš„å˜é‡çš„åç§°ã€‚ </span></span><br><span class="line">     fetch_targets] = fluid.io.load_inference_model(model_save_dir,<span class="comment">#fetch_targetsï¼šæ˜¯ä¸€ä¸ª Variable åˆ—è¡¨ï¼Œä»ä¸­æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ¨æ–­ç»“æœã€‚model_save_dirï¼šæ¨¡å‹ä¿å­˜çš„è·¯å¾„</span></span><br><span class="line">                                                    infer_exe)     <span class="comment">#infer_exe: è¿è¡Œ inference modelçš„ executor</span></span><br><span class="line">    img = load_image(infer_path)</span><br><span class="line"></span><br><span class="line">    results = infer_exe.run(program=inference_program,               <span class="comment">#è¿è¡Œæ¨æµ‹ç¨‹åº</span></span><br><span class="line">                   feed=&#123;feed_target_names[<span class="number">0</span>]: img&#125;,           <span class="comment">#å–‚å…¥è¦é¢„æµ‹çš„img</span></span><br><span class="line">                   fetch_list=fetch_targets)                   <span class="comment">#å¾—åˆ°æ¨æµ‹ç»“æœ,  </span></span><br><span class="line">    <span class="comment"># è·å–æ¦‚ç‡æœ€å¤§çš„label</span></span><br><span class="line">    lab = np.argsort(results)                                  <span class="comment">#argsortå‡½æ•°è¿”å›çš„æ˜¯resultæ•°ç»„å€¼ä»å°åˆ°å¤§çš„ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="comment">#print(lab)</span></span><br><span class="line">    print(<span class="string">"è¯¥å›¾ç‰‡çš„é¢„æµ‹ç»“æœçš„labelä¸º: %d"</span> % lab[<span class="number">0</span>][<span class="number">0</span>][<span class="number">-1</span>])     <span class="comment">#-1ä»£è¡¨è¯»å–æ•°ç»„ä¸­å€’æ•°ç¬¬ä¸€åˆ—</span></span><br></pre></td></tr></table></figure>

<pre><code>è¯¥å›¾ç‰‡çš„é¢„æµ‹ç»“æœçš„labelä¸º: 3</code></pre><p>æµ‹è¯•å›¾ç‰‡ä¸‹è½½(ç›´æ¥å³é”®å›¾ç‰‡å¦å­˜ä¸ºå³å¯)ï¼š<br><img src="infer_3.png" alt="png"><br><img src="infer_9.jpg" alt="jpg">  </p>
]]></content>
      <categories>
        <category>DeepLearning</category>
      </categories>
      <tags>
        <tag>DeepLearning</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-1356</title>
    <url>/2020/03/02/leetcode-1356/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/sort-integers-by-the-number-of-1-bits/">https://leetcode-cn.com/problems/sort-integers-by-the-number-of-1-bits/</a>  </p>
<a id="more"></a>
<img src="/2020/03/02/leetcode-1356/1.png" class="" title="[leetcode-1356]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    struct node&#123;&#x2F;&#x2F;è‡ªå®šä¹‰ç»“æ„ä½“</span><br><span class="line">        int data;</span><br><span class="line">        int num;</span><br><span class="line">    &#125;;</span><br><span class="line">    static bool cmp(node a,node b)&#123;&#x2F;&#x2F;è‡ªå®šä¹‰æ’åºå‡½æ•°</span><br><span class="line">        return a.num&#x3D;&#x3D;b.num?a.data&lt;b.data;a.num&lt;b.num;</span><br><span class="line">    &#125;</span><br><span class="line">    int checked(int n)&#x2F;&#x2F;è¾“å…¥ä¸€ä¸ªåè¿›åˆ¶æ•°å­—ï¼Œè¾“å‡ºæ•°å­—åœ¨äºŒè¿›åˆ¶ä¸‹1çš„ä¸ªæ•°</span><br><span class="line">    &#123;</span><br><span class="line">        int num&#x3D;0;</span><br><span class="line">        while (n!&#x3D;0)</span><br><span class="line">        &#123;</span><br><span class="line">            if (n%2!&#x3D;0)</span><br><span class="line">            &#123;</span><br><span class="line">                num++;</span><br><span class="line">            &#125;</span><br><span class="line">            n&#x2F;&#x3D;2;</span><br><span class="line">        &#125;</span><br><span class="line">        return num;       </span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;int&gt; sortByBits(vector&lt;int&gt;&amp; arr) &#123;</span><br><span class="line">        vector&lt;node&gt;V;</span><br><span class="line">        for(auto i:arr)&#123;</span><br><span class="line">            int num&#x3D;checked(i);</span><br><span class="line">            V.push_back(&#123;i,num&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(),V.end(),cmp);</span><br><span class="line">        arr.clear();</span><br><span class="line">        for(auto i:V)&#123;</span><br><span class="line">            arr.push_back(i.data);</span><br><span class="line">        &#125;</span><br><span class="line">        return arr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/03/02/leetcode-1356/2.png" class="" title="[leetcode-1356]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-é¢è¯•é¢˜45</title>
    <url>/2020/02/29/leetcode-%E9%9D%A2%E8%AF%95%E9%A2%9845/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/">https://leetcode-cn.com/problems/ba-shu-zu-pai-cheng-zui-xiao-de-shu-lcof/</a>  </p>
<a id="more"></a>
<img src="/2020/02/29/leetcode-%E9%9D%A2%E8%AF%95%E9%A2%9845/1.png" class="" title="[leetcode-é¢è¯•é¢˜45]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(string a, string b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a + b &lt; b + a;</span><br><span class="line">    &#125;</span><br><span class="line">    string minNumber(vector&lt;int&gt; &amp;nums)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        int len &#x3D; nums.size();</span><br><span class="line">        vector&lt;string&gt; V(len);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            V[i] &#x3D; to_string(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        for (auto i : V)</span><br><span class="line">        &#123;</span><br><span class="line">            str +&#x3D; i;</span><br><span class="line">        &#125;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å¾ˆåƒ179é¢˜ï¼Œæ€è·¯æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</p>
<img src="/2020/02/29/leetcode-%E9%9D%A2%E8%AF%95%E9%A2%9845/2.png" class="" title="[leetcode-é¢è¯•é¢˜45]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-1054</title>
    <url>/2020/02/28/leetcode-1054/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/distant-barcodes/">https://leetcode-cn.com/problems/distant-barcodes/</a>  </p>
<a id="more"></a>
<img src="/2020/02/28/leetcode-1054/1.png" class="" title="[leetcode-1054]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä¸€å¼€å§‹è‡ªå·±çš„æ€è·¯ï¼Œæ’åºåä»å‰å¾€åå’Œä»åå¾€å‰ä¾æ¬¡è¾“å‡ºä¸€ä¸ªæ•°ï¼Œç›´åˆ°éå†å®Œæˆï¼Œtoo young too simpleï¼Œsometimes naive</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; rearrangeBarcodes(vector&lt;int&gt; &amp;barcodes)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        sort(barcodes.begin(), barcodes.end());</span><br><span class="line">        int i &#x3D; 0, j &#x3D; barcodes.size() - 1;</span><br><span class="line">        while (i &lt; j)</span><br><span class="line">        &#123;</span><br><span class="line">            if (i &lt;&#x3D; j)</span><br><span class="line">            &#123;</span><br><span class="line">                V.push_back(barcodes[i]);</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            if (i &lt;&#x3D; j)</span><br><span class="line">            &#123;</span><br><span class="line">                V.push_back(barcodes[j]);</span><br><span class="line">                j--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;*</span><br><span class="line">éå¸¸å¥½çš„æ€è·¯ï¼šä½¿ç”¨mapæ¥ä¿å­˜æ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åå­˜å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­å¹¶æ ¹æ®æ¬¡æ•°è¿›è¡Œä»å¤§åˆ°å°çš„æ’åºï¼ˆéœ€è¦è‡ªå®šä¹‰æ’åºå‡½æ•°ï¼‰</span><br><span class="line">ç„¶åæ¯æ¬¡å–ä¼˜å…ˆé˜Ÿåˆ—çš„å¤´ä¸¤ä¸ªå…ƒç´ ï¼Œæ”¾å…¥vectorå¹¶å°†å…¶secondå‡ä¸€ï¼Œå¦‚æœä¸ä¸º0å†æ”¾å›ã€‚è¿™æ ·ä¸€ç›´</span><br><span class="line">åˆ°æœ€åä¼˜å…ˆé˜Ÿåˆ—åªå‰©ä¸€ä¸ªå…ƒç´ 0ä¸ªå…ƒç´ ï¼Œç„¶åç›´æ¥å†å°†å…¶æ”¾å…¥vectorä¸­å³å¯</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct cmp</span><br><span class="line">    &#123;</span><br><span class="line">        bool operator()(pair&lt;int, int&gt; &amp;a, pair&lt;int, int&gt; &amp;b)</span><br><span class="line">        &#123;</span><br><span class="line">            return a.second &lt; b.second;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    vector&lt;int&gt; rearrangeBarcodes(vector&lt;int&gt; &amp;barcodes)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        priority_queue&lt;pair&lt;int, int&gt;, vector&lt;pair&lt;int, int&gt;&gt;, cmp&gt; P;</span><br><span class="line">        map&lt;int, int&gt; M;</span><br><span class="line">        for (auto it : barcodes)</span><br><span class="line">        &#123;</span><br><span class="line">            M[it]++;</span><br><span class="line">        &#125;</span><br><span class="line">        for (auto it : M)</span><br><span class="line">        &#123;</span><br><span class="line">            pair&lt;int, int&gt; temp;</span><br><span class="line">            temp.first &#x3D; it.first;</span><br><span class="line">            temp.second &#x3D; it.second;</span><br><span class="line">            P.push(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        while (P.size() &gt;&#x3D; 2)</span><br><span class="line">        &#123;</span><br><span class="line">            auto t1 &#x3D; P.top();</span><br><span class="line">            P.pop();&#x2F;&#x2F;åˆ«å¿˜pop</span><br><span class="line">            auto t2 &#x3D; P.top();</span><br><span class="line">            P.pop();</span><br><span class="line">            V.push_back(t1.first);</span><br><span class="line">            V.push_back(t2.first);</span><br><span class="line">            if (--t1.second &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                P.push(t1);</span><br><span class="line">            &#125;</span><br><span class="line">            if (--t2.second &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                P.push(t2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (P.size() &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            V.push_back(P.top().first);</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/28/leetcode-1054/2.png" class="" title="[leetcode-1054]">  
<p>è¿™ç±»é¢˜ï¼ˆå‘¨å›´å…ƒç´ æ²¡æœ‰ç›¸åŒçš„æ’åºï¼‰æ€è·¯å°±éå¸¸æ˜æ˜¾äº†ï¼šä½¿ç”¨mapï¼Œä¼˜å…ˆé˜Ÿåˆ—ï¼Œç„¶åä¾æ¬¡ä»æ¬¡æ•°å¤§çš„å…ƒç´ å¼€å§‹è¾“å‡ºå³å¯(è·Ÿå‰é¢çš„767é‡æ„å­—ç¬¦ä¸²å¾ˆåƒ)<br>ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">å­¦äº†1054æ–°æ–¹æ³•ä¹‹åå›æ¥é‡å†™çš„æ–¹æ³•ï¼Œæ ¹æœ¬æ€è·¯ä¸1054åŸºæœ¬ä¸€è‡´</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct cmp</span><br><span class="line">    &#123;</span><br><span class="line">        bool operator()(const pair&lt;char, int&gt; &amp;a, const pair&lt;char, int&gt; &amp;b) const</span><br><span class="line">        &#123;</span><br><span class="line">            return a.second &lt; b.second;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    string reorganizeString(string S)</span><br><span class="line">    &#123;</span><br><span class="line">        priority_queue&lt;pair&lt;char, int&gt;, vector&lt;pair&lt;char, int&gt;&gt;, cmp&gt; P;</span><br><span class="line">        map&lt;char, int&gt; M;</span><br><span class="line">        for (auto it : S)</span><br><span class="line">        &#123;</span><br><span class="line">            M[it]++;</span><br><span class="line">        &#125;</span><br><span class="line">        for (auto it : M)</span><br><span class="line">        &#123;</span><br><span class="line">            pair&lt;char, int&gt; temp;</span><br><span class="line">            temp.first &#x3D; it.first;</span><br><span class="line">            temp.second &#x3D; it.second;</span><br><span class="line">            P.push(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        int len&#x3D;S.size();</span><br><span class="line">        if (P.top().second &gt; (len + 1) &#x2F; 2) &#x2F;&#x2F;å¦‚æœæ¬¡æ•°å‡ºç°æœ€å¤šçš„å­—æ¯å¤§äºå­—ç¬¦ä¸²çš„ä¸€åŠé•¿åº¦ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯ä¸å¯ä»¥æˆåŠŸçš„äº†</span><br><span class="line">        &#123;</span><br><span class="line">            return str;</span><br><span class="line">        &#125;</span><br><span class="line">        while (P.size() &gt;&#x3D; 2)</span><br><span class="line">        &#123;</span><br><span class="line">            auto t1 &#x3D; P.top();</span><br><span class="line">            P.pop();</span><br><span class="line">            auto t2 &#x3D; P.top();</span><br><span class="line">            P.pop();</span><br><span class="line">            str +&#x3D; t1.first;</span><br><span class="line">            str +&#x3D; t2.first;</span><br><span class="line">            if (--t1.second &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                P.push(t1);</span><br><span class="line">            &#125;</span><br><span class="line">            if (--t2.second &gt; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                P.push(t2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (P.size() &gt; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            str +&#x3D; P.top().first;</span><br><span class="line">        &#125;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/28/leetcode-1054/3.png" class="" title="[leetcode-1054]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-853</title>
    <url>/2020/02/26/leetcode-853/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/car-fleet/">https://leetcode-cn.com/problems/car-fleet/</a>  </p>
<a id="more"></a>
<img src="/2020/02/26/leetcode-853/1.png" class="" title="[leetcode-853]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">æ€è·¯ï¼šä¸€å¼€å§‹çš„æ€è·¯æ˜¯åªè¦æœ‰ä¸€ä¸ªè¿˜æœªåˆ°ç»ˆç‚¹çš„ç¬é—´ï¼Œæœ‰å¤šä¸ªè½¦åˆ°äº†åŒä¸€ä¸ªè·ç¦»ï¼Œé‚£ä¹ˆä»–ä»¬å°±æ˜¯</span><br><span class="line">åŒä¸€ä¸ªè½¦é˜Ÿï¼Œä¸ºäº†é˜²æ­¢é‡å¤è®¡ç®—ï¼Œå°±å°†è¿™äº›åˆ’ä¸ºè½¦é˜Ÿçš„è½¦è¿›è¡Œflag&#x3D;falseæ“ä½œï¼Œä½¿å…¶ä¸å†è¿›è¡Œ</span><br><span class="line">ä¸‹ä¸€æ­¥éå†ï¼Œç»“æœåªå¯¹äº†åä¸ªæµ‹è¯•ç‚¹ï¼Œæ€è·¯é”™äº†</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct node</span><br><span class="line">    &#123;</span><br><span class="line">        int pos;</span><br><span class="line">        bool flag &#x3D; true;</span><br><span class="line">    &#125;;</span><br><span class="line">    int equalNum(vector&lt;node&gt; &amp;V) &#x2F;&#x2F;å‡½æ•°æ£€æŸ¥Vä¸­ç›¸ç­‰å…ƒç´ çš„ä¸ªæ•°å¹¶è¿”å›ï¼Œè¿˜è¦ä¿®æ”¹flag</span><br><span class="line">    &#123;</span><br><span class="line">        map&lt;int, int&gt; P;</span><br><span class="line">        int cnt &#x3D; 0;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; V.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (V[i].flag)</span><br><span class="line">            &#123;</span><br><span class="line">                P[V[i].pos]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (auto it &#x3D; P.begin(); it !&#x3D; P.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (it-&gt;second &gt;&#x3D; 2)</span><br><span class="line">            &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                for (int i &#x3D; 0; i &lt; V.size(); i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if (V[i].pos &#x3D;&#x3D; it-&gt;first)</span><br><span class="line">                    &#123;</span><br><span class="line">                        V[i].flag &#x3D; false;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return cnt;</span><br><span class="line">    &#125;</span><br><span class="line">    int carFleet(int target, vector&lt;int&gt; &amp;position, vector&lt;int&gt; &amp;speed)</span><br><span class="line">    &#123;</span><br><span class="line">        int len &#x3D; position.size();</span><br><span class="line">        vector&lt;node&gt; V(len);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            V[i].pos &#x3D; position[i];</span><br><span class="line">        &#125;</span><br><span class="line">        int count &#x3D; 0;</span><br><span class="line">        int cnt &#x3D; 0;</span><br><span class="line">        while (true)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt &#x3D; 0;</span><br><span class="line">            for (int i &#x3D; 0; i &lt; len; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                if (V[i].pos + speed[i] &lt;&#x3D; target &amp;&amp; V[i].flag) &#x2F;&#x2F;è½¦è¿˜æ²¡åˆ°ç»ˆç‚¹å¹¶ä¸”è½¦ä¸ä¼šè¶…è¿‡ç»ˆç‚¹</span><br><span class="line">                &#123;</span><br><span class="line">                    V[i].pos +&#x3D; speed[i];</span><br><span class="line">                    cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (cnt &#x3D;&#x3D; 1 || cnt &#x3D;&#x3D; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            count +&#x3D; equalNum(V);</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; V.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (V[i].flag)</span><br><span class="line">            &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">å®˜æ–¹æ€è·¯ï¼šå…ˆæŒ‰è·ç»ˆç‚¹çš„è·ç¦»é™åºæ’åºï¼Œç„¶åç®—å‡ºæ¯ä¸ªè½¦åˆ°ç»ˆç‚¹çš„æ—¶é—´</span><br><span class="line">ä»å¤´å¼€å§‹éå†(æ’åºä¹‹åä¹Ÿå°±æ˜¯é™åºé¡ºåº),é‡åˆ°ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°ä¹‹å‰çš„è½¦éƒ½å¯ä»¥ç»„æˆä¸€ä¸ªè½¦é˜Ÿ</span><br><span class="line">å› ä¸ºè½¦åªå—å®ƒå‰é¢çš„è½¦çš„å½±å“(åé¢çš„è½¦å³ä½¿è¿½ä¸Šä»–äº†ä¹Ÿè¦è·Ÿä»–åŒä¸€ä¸ªé€Ÿåº¦å‰è¿›)</span><br><span class="line">å¦‚æœå®ƒåˆ°ç»ˆç‚¹çš„æ—¶é—´å°äºç­‰äºå‰é¢è½¦åˆ°ç»ˆç‚¹çš„æ—¶é—´ï¼Œé‚£ä¹ˆå®ƒå°±èƒ½è¿½ä¸Šå‰é¢çš„è½¦ï¼Œä¹Ÿå°±æ˜¯ç»„æˆä¸€ä¸ªè½¦é˜Ÿ</span><br><span class="line">æ‰€ä»¥åªè¦ä»–é‡åˆ°æ¯”å®ƒå¤§çš„æ•°ï¼Œé‚£ä¹ˆé‚£ä¸ªæ•°ä¹‹åï¼ˆåŒ…æ‹¬é‚£ä¸ªæ•°ï¼‰éƒ½ä¸ä¼šä¸å‰é¢çš„è½¦ç»„æˆä¸€ä¸ªè½¦é˜Ÿ</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct node</span><br><span class="line">    &#123;</span><br><span class="line">        int pos;</span><br><span class="line">        double time;</span><br><span class="line">    &#125;;</span><br><span class="line">    static bool cmp(node a,node b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.pos&gt;b.pos;</span><br><span class="line">    &#125;</span><br><span class="line">    int carFleet(int target, vector&lt;int&gt; &amp;position, vector&lt;int&gt; &amp;speed)</span><br><span class="line">    &#123;    </span><br><span class="line">        int len &#x3D; position.size();</span><br><span class="line">        if (len&#x3D;&#x3D;0)</span><br><span class="line">        &#123;</span><br><span class="line">            return 0;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;node&gt; V(len);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            V[i].pos &#x3D; position[i];</span><br><span class="line">            V[i].time &#x3D; (target - position[i])*1.0 &#x2F; speed[i];&#x2F;&#x2F;å‘ä¸Šå–æ•´</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(),V.end(),cmp);</span><br><span class="line">        int i&#x3D;0,j&#x3D;i,cnt&#x3D;0;</span><br><span class="line">        while (j&lt;len)</span><br><span class="line">        &#123;</span><br><span class="line">            if (V[j].time&lt;&#x3D;V[i].time)</span><br><span class="line">            &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                i&#x3D;j;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return cnt+1;      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/26/leetcode-853/2.png" class="" title="[leetcode-853]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-179</title>
    <url>/2020/02/25/leetcode-179/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/largest-number/">https://leetcode-cn.com/problems/largest-number/</a>  </p>
<a id="more"></a>
<img src="/2020/02/25/leetcode-179/1.png" class="" title="[leetcode-179]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(string a, string b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a+b&gt;b+a;&#x2F;&#x2F;ç›´æ¥æ ¹æ®a+bå’Œb+aä¸­æ›´å¤§çš„æ¥æ’åºï¼Œç®€å•ç²—æš´</span><br><span class="line">    &#125;</span><br><span class="line">    string largestNumber(vector&lt;int&gt; &amp;nums)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;string&gt; V;&#x2F;&#x2F;ç”¨æ¥å­˜numsæ•°ç»„å…ƒç´ è½¬æ¢ä¸ºstringå…ƒç´ </span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; nums.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            string temp&#x3D;to_string(nums[i]);</span><br><span class="line">            V.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        for (auto i &#x3D; V.begin(); i !&#x3D; V.end(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            str +&#x3D; *i;</span><br><span class="line">        &#125;</span><br><span class="line">        while (str[0]&#x3D;&#x3D;&#39;0&#39;&amp;&amp;str.size()&gt;1)&#x2F;&#x2F;åˆ é™¤æ‹¼æ¥å­—ç¬¦ä¸²çš„é¦–é¡¹ä¸º0çš„å…ƒç´ ï¼ŒçŸ¥é“åªå‰©ä¸€ä¸ª0ä¸ºæ­¢</span><br><span class="line">        &#123;</span><br><span class="line">            str.erase(0,1);</span><br><span class="line">        &#125;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/25/leetcode-179/2.png" class="" title="[leetcode-179]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-274</title>
    <url>/2020/02/25/leetcode-274/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/h-index/">https://leetcode-cn.com/problems/h-index/</a>  </p>
<a id="more"></a>
<img src="/2020/02/25/leetcode-274/1.png" class="" title="[leetcode-274]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">æ€è·¯ï¼šå°±æ˜¯ä»1-V.size()è¿›è¡Œéå†ï¼Œçœ‹å“ªä¸ªæ•°æœ€åæ»¡è¶³hæŒ‡æ•°çš„æƒ…å†µï¼Œç„¶åè¾“å‡ºå³å¯</span><br><span class="line">æ³¨æ„è¦ä½¿ç”¨do-whileï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—å¾ªç¯è‡³å°‘è¿›è¡Œä¸€æ¬¡ï¼Œè‹¥æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ</span><br><span class="line">forå¾ªç¯å°±ä¼šå‡ºé”™</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">    bool checked(int cnt, vector&lt;int&gt; &amp;V)</span><br><span class="line">    &#123;</span><br><span class="line">        int count &#x3D; 0;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; V.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (V[i] &gt;&#x3D; cnt)</span><br><span class="line">            &#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (count&gt;&#x3D;cnt)</span><br><span class="line">        &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        else return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">    int hIndex(vector&lt;int&gt; &amp;citations)</span><br><span class="line">    &#123;</span><br><span class="line">        sort(citations.begin(), citations.end());</span><br><span class="line">        int max &#x3D; 0, temp,i&#x3D;0;</span><br><span class="line">        do</span><br><span class="line">        &#123;</span><br><span class="line">            i++;</span><br><span class="line">            if(checked(i, citations)&amp;&amp;i&gt;max)</span><br><span class="line">            &#123;</span><br><span class="line">                max&#x3D;i;</span><br><span class="line">            &#125;         </span><br><span class="line">        &#125; while (i&lt;citations.size());     </span><br><span class="line">        return max;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/25/leetcode-274/2.png" class="" title="[leetcode-274]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-56</title>
    <url>/2020/02/24/leetcode-56/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/merge-intervals/">https://leetcode-cn.com/problems/merge-intervals/</a>  </p>
<a id="more"></a>
  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;æ€è·¯ï¼šé¦–å…ˆæŒ‰åŒºé—´å¼€å¤´ä»å°åˆ°å¤§æ’åºï¼Œç„¶åæ¯æ¬¡æ¯”è¾ƒå‰ä¸¤ä¸ªå…ƒç´ å¹¶åˆ¤æ–­ï¼šå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ çš„åŒºé—´ç»“å°¾</span><br><span class="line">&#x2F;&#x2F;å¤§äºç¬¬äºŒä¸ªå…ƒç´ çš„åŒºé—´å¼€å¤´ï¼Œè¯´æ˜ä¸¤ä¸ªåŒºé—´é‡åˆï¼Œå› ä¸ºå·²ç»æ’åºï¼Œæ‰€ä»¥æ”¹å˜ç¬¬äºŒä¸ªå…ƒç´ ï¼Œå®ƒçš„åŒºé—´å¼€å¤´</span><br><span class="line">&#x2F;&#x2F;ä¸€å®šæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„åŒºé—´å¼€å¤´ï¼Œå®ƒçš„åŒºé—´ç»“å°¾æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬äºŒä¸ªå…ƒç´ åŒºé—´ç»“å°¾çš„æœ€å¤§å€¼&#123;æ¯”å¦‚[0,4],[1,3];å’Œ[0,4],[1,5]&#125;</span><br><span class="line">&#x2F;&#x2F;ç„¶ååˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å³å¯</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(vector&lt;int&gt; v1, vector&lt;int&gt; v2)</span><br><span class="line">    &#123;</span><br><span class="line">        return v1[0]&lt;v2[0];       </span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; merge(vector&lt;vector&lt;int&gt;&gt; &amp;intervals)</span><br><span class="line">    &#123;</span><br><span class="line">        if (intervals.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return intervals;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(intervals.begin(), intervals.end(), cmp);</span><br><span class="line">        for (auto it &#x3D; intervals.begin(); it !&#x3D; intervals.end() - 1;)</span><br><span class="line">        &#123;</span><br><span class="line">            if (it[0][1] &gt;&#x3D; (it + 1)[0][0])</span><br><span class="line">            &#123;</span><br><span class="line">                (it + 1)[0][0] &#x3D; it[0][0];</span><br><span class="line">                (it + 1)[0][1] &#x3D; max(it[0][1],(it+1)[0][1]);</span><br><span class="line">                it &#x3D; intervals.erase(it);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                it++;</span><br><span class="line">        &#125;</span><br><span class="line">        return intervals;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-767</title>
    <url>/2020/02/24/leetcode-767/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/reorganize-string/">https://leetcode-cn.com/problems/reorganize-string/</a>  </p>
<a id="more"></a>
<img src="/2020/02/24/leetcode-767/1.png" class="" title="[leetcode-767]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line"> * @lc app&#x3D;leetcode.cn id&#x3D;767 lang&#x3D;cpp</span><br><span class="line"> *</span><br><span class="line"> * [767] é‡æ„å­—ç¬¦ä¸²</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @lc code&#x3D;start</span><br><span class="line">&#x2F;&#x2F;æ€è·¯ï¼š</span><br><span class="line">&#x2F;*å…ˆæ„é€ Sçš„å“ˆå¸Œè¡¨ï¼Œå¦‚æœSçš„æœ€å¤§å€¼-1(å°±æ˜¯éœ€è¦å¡«å……çš„åœ°æ–¹)å°äºå‰©ä½™å…ƒç´ çš„å’Œï¼Œé‚£ä¹ˆ</span><br><span class="line">è‚¯å®šå¯ä»¥é‡æ’ä½¿å…¶ç›¸é‚»å­—ç¬¦ä¸åŒï¼Œå¦åˆ™ä¸å¯ï¼›</span><br><span class="line">åˆ¤æ–­å‡ºå…¶å¯ä»¥åï¼Œåªéœ€æŒ‰Pçš„é¡ºåºè¾“å‡ºå³å¯*&#x2F;</span><br><span class="line">&#x2F;&#x2F;60,61,62æµ‹è¯•ç‚¹æœªé€šè¿‡ï¼Œæ„Ÿè§‰æˆ‘çš„æ–¹æ³•æœ‰ç‚¹ç¬¨æ‹™ï¼Œæœæ–­æ¢æ€è·¯</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(pair&lt;char, int&gt; a, pair&lt;char, int&gt; b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.second &gt; b.second;</span><br><span class="line">    &#125;</span><br><span class="line">    string reorganizeString(string S)</span><br><span class="line">    &#123;</span><br><span class="line">        map&lt;char, int&gt; P;</span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; S.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            P[S[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        int max &#x3D; -1;</span><br><span class="line">        char index;</span><br><span class="line">        for (auto it &#x3D; P.begin(); it !&#x3D; P.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (it-&gt;second &gt; max)</span><br><span class="line">            &#123;</span><br><span class="line">                max &#x3D; it-&gt;second;</span><br><span class="line">                index &#x3D; it-&gt;first;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        int sum &#x3D; 0;</span><br><span class="line">        for (auto it &#x3D; P.begin(); it !&#x3D; P.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            if (it-&gt;first !&#x3D; index)</span><br><span class="line">            &#123;</span><br><span class="line">                sum +&#x3D; it-&gt;second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (max - 1 &gt; sum)</span><br><span class="line">        &#123;</span><br><span class="line">            return str;</span><br><span class="line">        &#125;</span><br><span class="line">        bool flag &#x3D; false;</span><br><span class="line">        if (max - 1 &#x3D;&#x3D; sum)</span><br><span class="line">        &#123;</span><br><span class="line">            flag &#x3D; true;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;pair&lt;char, int&gt;&gt; V(P.begin(), P.end());</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        if (!flag)</span><br><span class="line">        &#123;</span><br><span class="line">            while (true)</span><br><span class="line">            &#123;</span><br><span class="line">                int cnt &#x3D; 0;</span><br><span class="line">                for (auto it &#x3D; V.begin(); it !&#x3D; V.end(); it++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if (it-&gt;second !&#x3D; 0)</span><br><span class="line">                    &#123;</span><br><span class="line">                        str +&#x3D; it-&gt;first;</span><br><span class="line">                        it-&gt;second--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    else</span><br><span class="line">                        cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">                if (cnt &#x3D;&#x3D; V.size())</span><br><span class="line">                &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            while (true)</span><br><span class="line">            &#123;</span><br><span class="line">                int cnt &#x3D; 0;</span><br><span class="line">                for (auto it &#x3D; V.begin(); it !&#x3D; V.end(); it++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if (it-&gt;second !&#x3D; 0)</span><br><span class="line">                    &#123;</span><br><span class="line">                        str +&#x3D; it-&gt;first;</span><br><span class="line">                        it-&gt;second--;</span><br><span class="line">                        if (it-&gt;first !&#x3D; index)</span><br><span class="line">                        &#123;</span><br><span class="line">                            break;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    else</span><br><span class="line">                        cnt++;</span><br><span class="line">                &#125;</span><br><span class="line">                if (cnt &#x3D;&#x3D; V.size())</span><br><span class="line">                &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;*</span><br><span class="line">æ€è·¯:</span><br><span class="line">æ ¹æ®å­—æ¯å‡ºç°çš„é¡ºåºæ’åºï¼Œç„¶åæ¯æ¬¡è¾“å‡ºå‰ä¸¤é¡¹å³å¯(è¾“å‡ºåè®°å¾—å‡å°‘å‰ä¸¤é¡¹å­—æ¯çš„æ¬¡æ•°)ï¼Œè¾“å‡ºåç«‹åˆ»å†è¿›è¡Œæ’åº</span><br><span class="line">ç›´åˆ°æ‰€æœ‰å­—æ¯çš„æ¬¡æ•°éƒ½ä¸º0</span><br><span class="line">æ¯æ¬¡æ’åºå¤ªéº»çƒ¦ï¼Œå¹¶ä¸”æ²¡æœ‰æ•°æ®ç»“æ„æ”¯æŒ(setå’Œä¼˜å…ˆé˜Ÿåˆ—å½“ä½ è¿›è¡Œ--æ“ä½œæ—¶å°±å·²ç»æ’åºäº†æ‰€ä»¥ä¸èƒ½ä¿è¯ç¬¬äºŒé¡¹--æ—¶ä»ä¸ºåŸæ¥çš„é‚£ä¸€é¡¹)</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    string reorganizeString(string S)</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;*</span><br><span class="line">ç¬¬ä¸‰ä¸ªæ€è·¯ï¼š</span><br><span class="line">å€Ÿé‰´çš„å¤§ç¥æ€è·¯-å…ˆä½¿ç”¨å“ˆå¸Œè¡¨æŒ‰å‡ºç°é¡ºåºä»å¤§åˆ°å°æ’åˆ—ï¼Œç„¶åæŒ‰é—´éš”è¿›è¡Œæ’å…¥</span><br><span class="line">è´ªå¿ƒæ€æƒ³</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(pair&lt;char, int&gt; a, pair&lt;char, int&gt; b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.second &gt; b.second;</span><br><span class="line">    &#125;</span><br><span class="line">    string reorganizeString(string S)</span><br><span class="line">    &#123;</span><br><span class="line">        map&lt;char, int&gt; P;</span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; S.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            P[S[i]]++;</span><br><span class="line">        &#125;</span><br><span class="line">        vector&lt;pair&lt;char, int&gt;&gt; V(P.begin(), P.end());</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        for (auto p : V)</span><br><span class="line">        &#123;</span><br><span class="line">            string temp(p.second, p.first); &#x2F;&#x2F;String temp(2,&#39;c&#39;)&#x3D;&#x3D;&quot;cc&quot;</span><br><span class="line">            str +&#x3D; temp;</span><br><span class="line">        &#125;</span><br><span class="line">        int len &#x3D; str.size();</span><br><span class="line">        if (V[0].second &gt; (len+1) &#x2F; 2)&#x2F;&#x2F;å¦‚æœæ¬¡æ•°å‡ºç°æœ€å¤šçš„å­—æ¯å¤§äºå­—ç¬¦ä¸²çš„ä¸€åŠé•¿åº¦ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯ä¸å¯ä»¥æˆåŠŸçš„äº†</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        S.clear();</span><br><span class="line">        S &#x3D; (len, &#39;0&#39;);</span><br><span class="line">        int i &#x3D; 0, j &#x3D; 1, index &#x3D; 0;</span><br><span class="line">        while (i &lt; len &amp;&amp; index &lt; len)&#x2F;&#x2F;æŒ‰å¥‡æ•°è¿›è¡Œæ’å…¥</span><br><span class="line">        &#123;</span><br><span class="line">            S[i] &#x3D; str[index++];</span><br><span class="line">            i +&#x3D; 2;</span><br><span class="line">        &#125;</span><br><span class="line">        while (j &lt; len &amp;&amp; index &lt; len)&#x2F;&#x2F;æŒ‰å¶æ•°è¿›è¡Œæ’å…¥</span><br><span class="line">        &#123;</span><br><span class="line">            S[j] &#x3D; str[index++];</span><br><span class="line">            j +&#x3D; 2;</span><br><span class="line">        &#125;</span><br><span class="line">        return S;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; @lc code&#x3D;end</span><br></pre></td></tr></table></figure>
<img src="/2020/02/24/leetcode-767/2.png" class="" title="[leetcode-767]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-524</title>
    <url>/2020/02/23/leetcode-524/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/">https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/</a>  </p>
<a id="more"></a>
<img src="/2020/02/23/leetcode-524/1.png" class="" title="[leetcode-524]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ç¬¬ä¸€æ¬¡åšé¢˜</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct node</span><br><span class="line">    &#123;</span><br><span class="line">        string str;</span><br><span class="line">        int count;</span><br><span class="line">    &#125;;</span><br><span class="line">    static bool cmp(node a, node b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.count &#x3D;&#x3D; b.count ? a.str &lt; b.str : a.count &lt; b.count;</span><br><span class="line">    &#125;</span><br><span class="line">    bool checked(string s, string str) &#x2F;&#x2F;çœ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ç›¸å¯¹é¡ºåº</span><br><span class="line">    &#123;</span><br><span class="line">        int first &#x3D; 0, second &#x3D; 0;</span><br><span class="line">        bool flag &#x3D; true;</span><br><span class="line">        if (s.size() &gt; str.size()) &#x2F;&#x2F;ä¿è¯åŒæŒ‡é’ˆåœ¨ç›¸ç­‰æ—¶å¾€åç§»çš„æ˜¯é•¿å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</span><br><span class="line">        &#123;</span><br><span class="line">            flag &#x3D; false;</span><br><span class="line">        &#125;</span><br><span class="line">        while (first &lt; s.size() &amp;&amp; second &lt; str.size())</span><br><span class="line">        &#123;</span><br><span class="line">            if (s[first] &#x3D;&#x3D; str[second])</span><br><span class="line">            &#123;</span><br><span class="line">                first++;</span><br><span class="line">                second++;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                if (!flag)</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                    second++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (!flag) &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ˜¯ç›¸å¯¹é¡ºåºæ˜¯çœ‹çŸ­å­—ç¬¦ä¸²æ˜¯å¦åˆ°äº†å°½å¤´</span><br><span class="line">        &#123;</span><br><span class="line">            if (second &#x3D;&#x3D; str.size())</span><br><span class="line">            &#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                return false;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            if (first &#x3D;&#x3D; s.size())</span><br><span class="line">            &#123;</span><br><span class="line">                return true;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string findLongestWord(string s, vector&lt;string&gt; &amp;d)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;node&gt; V;</span><br><span class="line">        map&lt;char, int&gt; P;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; s.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            P[s[i]]++; &#x2F;&#x2F;å°†å­—ç¬¦ä¸²så‡ºç°çš„å­—æ¯æ¬¡æ•°å­˜å…¥å“ˆå¸Œè¡¨</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; d.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            map&lt;char, int&gt; temp &#x3D; P;</span><br><span class="line">            bool flag &#x3D; true;</span><br><span class="line">            if (!checked(s, d[i])) &#x2F;&#x2F;å¦‚æœä¸æ˜¯ç›¸å¯¹é¡ºåºï¼Œé‚£ä¹ˆç›´æ¥è·³è¿‡è¿™ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            for (int j &#x3D; 0; j &lt; d[i].size(); j++) &#x2F;&#x2F;åœ¨éœ€è¦åˆ¤æ–­çš„å­—ç¬¦ä¸²ä¸­éå†ï¼Œå¹¶æ¯å‡ºç°ä¸€ä¸ª</span><br><span class="line">            &#123;                                     &#x2F;&#x2F;å­—æ¯ï¼Œå°±å°†å…¶åœ¨å“ˆå¸Œè¡¨ä¸­çš„æ•°å€¼-1,</span><br><span class="line">                temp[d[i][j]]--;                  &#x2F;&#x2F;å¦‚æœå‡ºç°-1è¡¨ç¤ºä¸èƒ½ç»„æˆå­—ç¬¦ä¸²</span><br><span class="line">                if (temp[d[i][j]] &#x3D;&#x3D; -1)          &#x2F;&#x2F;å‰©ä½™å­—æ¯çš„æ¬¡æ•°ç›¸åŠ è¶Šå°è€…ï¼Œè¯´æ˜å…¶æœ¬èº«è¶Šé•¿</span><br><span class="line">                &#123;</span><br><span class="line">                    flag &#x3D; false;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (flag)</span><br><span class="line">            &#123;</span><br><span class="line">                int cnt &#x3D; 0;</span><br><span class="line">                for (auto it &#x3D; temp.begin(); it !&#x3D; temp.end(); it++)</span><br><span class="line">                &#123;</span><br><span class="line">                    cnt +&#x3D; it-&gt;second;</span><br><span class="line">                &#125;</span><br><span class="line">                V.push_back(&#123;d[i], cnt&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (V.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        return V[0].str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/23/leetcode-524/2.png" class="" title="[leetcode-524]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ç¬¬äºŒæ¬¡ä¼˜åŒ–ï¼Œå°†ç¬¬ä¸€æ¬¡çš„å¤§åœˆå­å‰ªçŸ­ä¸€åŠï¼Œä¸éœ€è¦å“ˆå¸Œè¡¨ï¼ŒåŒæŒ‡é’ˆå³å¯</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(string a, string b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.size() &#x3D;&#x3D; b.size() ? a &lt; b : a.size() &gt; b.size();</span><br><span class="line">    &#125;</span><br><span class="line">    string findLongestWord(string s, vector&lt;string&gt; &amp;d)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;string&gt; V;</span><br><span class="line">        if (s.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; d.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            int first &#x3D; 0, second &#x3D; 0;</span><br><span class="line">            bool flag &#x3D; true;</span><br><span class="line">            if (s.size() &gt; d[i].size()) &#x2F;&#x2F;ä¿è¯åŒæŒ‡é’ˆåœ¨ç›¸ç­‰æ—¶å¾€åç§»çš„æ˜¯é•¿å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</span><br><span class="line">            &#123;</span><br><span class="line">                flag &#x3D; false;</span><br><span class="line">            &#125;</span><br><span class="line">            while (first &lt; s.size() &amp;&amp; second &lt; d[i].size())</span><br><span class="line">            &#123;</span><br><span class="line">                if (s[first] &#x3D;&#x3D; d[i][second])</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                    second++;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    if (!flag)</span><br><span class="line">                    &#123;</span><br><span class="line">                        first++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    else</span><br><span class="line">                        second++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (!flag) &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ˜¯ç›¸å¯¹é¡ºåºæ˜¯çœ‹çŸ­å­—ç¬¦ä¸²æ˜¯å¦åˆ°äº†å°½å¤´</span><br><span class="line">            &#123;</span><br><span class="line">                if (second &#x3D;&#x3D; d[i].size())</span><br><span class="line">                &#123;</span><br><span class="line">                    V.push_back(d[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                if (first &#x3D;&#x3D; s.size())</span><br><span class="line">                &#123;</span><br><span class="line">                    V.push_back(d[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        if (V.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">            return V[0];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/23/leetcode-524/3.png" class="" title="[leetcode-524]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ç¬¬ä¸‰æ¬¡ä¼˜åŒ–ï¼Œæ¯æ¬¡ä¸éœ€åˆ¤æ–­sä¸d[i]å“ªä¸ªå¤§ï¼Œéƒ½åªè®©så¤§å³å¯</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    static bool cmp(string a, string b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.size() &#x3D;&#x3D; b.size() ? a &lt; b : a.size() &gt; b.size();</span><br><span class="line">    &#125;</span><br><span class="line">    string findLongestWord(string s, vector&lt;string&gt; &amp;d)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        vector&lt;string&gt; V;</span><br><span class="line">        if (s.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; d.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            int first &#x3D; 0, second &#x3D; 0;</span><br><span class="line">            bool flag &#x3D; true;</span><br><span class="line">            if (d[i].size() &gt; s.size()) &#x2F;&#x2F;åªè¦ä¸€ç›´è®©sçš„å¤§å°å¤§äºd[i],å°±ä¼šçœå¾ˆå¤šè¡Œä»£ç </span><br><span class="line">                swap(d[i], s);</span><br><span class="line">            while (first &lt; s.size() &amp;&amp; second &lt; d[i].size())</span><br><span class="line">            &#123;</span><br><span class="line">                if (s[first] &#x3D;&#x3D; d[i][second])</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                    second++;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (second &#x3D;&#x3D; d[i].size())</span><br><span class="line">            &#123;</span><br><span class="line">                V.push_back(d[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        if (V.size() &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">            return V[0];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/23/leetcode-524/4.png" class="" title="[leetcode-524]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ç¬¬å››æ¬¡ä¼˜åŒ–ï¼Œå°†æ‰€æœ‰è®¡ç®—sizeçš„æ“ä½œå…¨éƒ¨èµ‹å€¼å†ä½¿ç”¨</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    string checked(string a, string b)&#x2F;&#x2F;ä¸éœ€è¦å¦åŠ vectorå†æ’åºåè¾“å‡ºï¼Œè¿›è¡Œç®€å•çš„æ¯”è¾ƒå³å¯</span><br><span class="line">    &#123;</span><br><span class="line">        int size1&#x3D;a.size(),size2&#x3D;b.size();</span><br><span class="line">        if (size1 &#x3D;&#x3D; size2)</span><br><span class="line">        &#123;</span><br><span class="line">            if (a &gt; b)</span><br><span class="line">            &#123;</span><br><span class="line">                return b;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                return a;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            if (size1 &gt; size2)</span><br><span class="line">            &#123;</span><br><span class="line">                return a;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                return b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string findLongestWord(string s, vector&lt;string&gt; &amp;d)</span><br><span class="line">    &#123;</span><br><span class="line">        string str &#x3D; &quot;&quot;;</span><br><span class="line">        int sSize&#x3D;s.size();</span><br><span class="line">        if (sSize &#x3D;&#x3D; 0)</span><br><span class="line">        &#123;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; d.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            int first &#x3D; 0, second &#x3D; 0;</span><br><span class="line">            bool flag &#x3D; true;</span><br><span class="line">            int dSize&#x3D;d[i].size();</span><br><span class="line">            if (dSize &gt; sSize) &#x2F;&#x2F;åªè¦ä¸€ç›´è®©sçš„å¤§å°å¤§äºd[i],å°±ä¼šçœå¾ˆå¤šè¡Œä»£ç </span><br><span class="line">                swap(d[i], s);</span><br><span class="line">            while (first &lt; sSize &amp;&amp; second &lt; dSize)</span><br><span class="line">            &#123;</span><br><span class="line">                if (s[first] &#x3D;&#x3D; d[i][second])</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                    second++;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    first++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (second &#x3D;&#x3D; dSize)</span><br><span class="line">            &#123;</span><br><span class="line">                str &#x3D; checked(str,d[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/23/leetcode-524/5.png" class="" title="[leetcode-524]">  




]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-75</title>
    <url>/2020/02/22/leetcode-75/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/sort-colors/">https://leetcode-cn.com/problems/sort-colors/</a>  </p>
<a id="more"></a>
<img src="/2020/02/22/leetcode-75/1.png" class="" title="[leetcode-75]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">æˆ‘çš„æ€è·¯ï¼šå®šä¸¤ä¸ªæŒ‡é’ˆï¼Œå‰æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ å’ŒåæŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åä»å‰å¾€åæ‰«ææ•°ç»„ï¼Œé‡åˆ°0ï¼Œ</span><br><span class="line">ä¸å‰æŒ‡é’ˆå…ƒç´ äº¤æ¢ï¼Œå‰æŒ‡é’ˆ++ï¼›é‡åˆ°1ç»§ç»­èµ°ï¼Œé‡åˆ°2ï¼Œä¸åæŒ‡é’ˆå…ƒç´ äº¤æ¢ï¼ŒåæŒ‡é’ˆ--ï¼Œå‰æŒ‡é’ˆä¸åæŒ‡é’ˆç›¸ç­‰æ—¶è·³å‡ºéå†ï¼Œ</span><br><span class="line">è¿™æ ·æ—¶é—´å¤æ‚åº¦æ˜¯O(n),ç©ºé—´å¤æ‚åº¦æ˜¯å¸¸æ•°O(1)</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    void sortColors(vector&lt;int&gt; &amp;nums)</span><br><span class="line">    &#123;</span><br><span class="line">        int front &#x3D; 0, rear &#x3D; nums.size() - 1;</span><br><span class="line">        int i &#x3D; 0;</span><br><span class="line">        while (i &lt;&#x3D; rear)</span><br><span class="line">        &#123;</span><br><span class="line">            if (nums[i] &#x3D;&#x3D; 0)</span><br><span class="line">            &#123;</span><br><span class="line">                swap(nums[i], nums[front]);</span><br><span class="line">                i++;</span><br><span class="line">                front++;</span><br><span class="line">            &#125;</span><br><span class="line">            else if (nums[i] &#x3D;&#x3D; 2)</span><br><span class="line">            &#123;</span><br><span class="line">                swap(nums[i], nums[rear]);</span><br><span class="line">                rear--;</span><br><span class="line">            &#125;</span><br><span class="line">            else if (nums[i] &#x3D;&#x3D; 1)</span><br><span class="line">            &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è‚ºéƒ½æ°”ç‚¸ï¼Œæ€è·¯è·Ÿè¿ªæ°æ–¯ç‰¹æ‹‰è§£å†³ä¸‰è‰²å›½æ——é—®é¢˜çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œä½†è·³å‡ºå¾ªç¯æ¡ä»¶ä¸ä¸€æ ·ï¼Œæˆ‘ä¸€å¼€å§‹å†™çš„æ¡ä»¶æ˜¯front!=rear,åæ¥æ”¹æˆfront!=rear-1ä¹Ÿä¸å¯¹ï¼Œå‹æ ¹æ²¡æƒ³åˆ°iä¸€ç›´å¾€åèµ°çŸ¥é“i&gt;rearè·³å‡ºå¾ªç¯ï¼Œåªèƒ½è¯´å·®ä¸€ç‚¹å§ï¼Œç»§ç»­åŠ æ²¹</p>
<img src="/2020/02/22/leetcode-75/2.png" class="" title="[leetcode-75]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-973</title>
    <url>/2020/02/22/leetcode-969/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/pancake-sorting">https://leetcode-cn.com/problems/pancake-sorting</a>  </p>
<a id="more"></a>
<img src="/2020/02/22/leetcode-969/1.png" class="" title="[leetcode-969]">  
<p>å¾ˆæœ‰è¶£çš„ä¸€é“é¢˜ï¼Œä¸€å¼€å§‹æˆ‘çš„æ€è·¯æ˜¯æ‰¾åˆ°å…ˆéå†ä¸€éæ‰¾åˆ°æœ€å¤§å€¼ï¼Œç„¶åå°†æœ€å¤§å€¼ç¿»è½¬åˆ°æœ€åä¸€ä½ï¼Œç„¶åæ¯æ¬¡éå†æœ€å¤§å€¼éƒ½å·²ç»å½’ä½äº†ã€‚ä½†æ˜¯é¢˜ç›®ä¸­åªå¯ä»¥ç¿»è½¬å‰né¡¹ï¼Œæ‰€ä»¥åªéœ€è¦å¤šä¸€æ­¥è¾…åŠ©ï¼Œå°†æœ€å¤§å€¼ç¿»è½¬åˆ°ç¬¬ä¸€ä½ï¼Œç„¶åå†ç¿»è½¬åˆ°æœ€åä¸€ä½ã€‚  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; pancakeSort(vector&lt;int&gt; &amp;A)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        int temp &#x3D; 0;&#x2F;&#x2F;æ¯ä¸€æ¬¡å¾ªç¯æœ€å¤§çš„å…ƒç´ ä¸€å®šåœ¨æ­£ç¡®ä½ç½®ï¼Œæ‰€ä»¥ä½¿ç”¨tempæ¥ç¼©çŸ­éå†é•¿åº¦</span><br><span class="line">        for (int j &#x3D; 0; j &lt; A.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            int max &#x3D; -1, index &#x3D; 0;</span><br><span class="line">            for (int i &#x3D; 0; i &lt; A.size() - temp; i++)&#x2F;&#x2F;å¯»æ‰¾å‰©ä½™å…ƒç´ ä¸­çš„æœ€å¤§å€¼ï¼Œè¿”å›å…¶ä¸‹æ ‡</span><br><span class="line">            &#123;</span><br><span class="line">                if (max &lt; A[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    max &#x3D; A[i];</span><br><span class="line">                    index &#x3D; i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (index &#x3D;&#x3D; 0)&#x2F;&#x2F;å¦‚æœæœ€å¤§å€¼æ°å¥½åœ¨ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ï¼Œé‚£ä¹ˆç›´æ¥è¿›è¡Œç¿»è½¬A.size() - tempé•¿åº¦å°†å…¶è½¬åˆ°å‰©ä½™å…ƒç´ çš„æœ€å¤§ä½ç½®</span><br><span class="line">            &#123;</span><br><span class="line">                V.push_back(A.size() - temp);</span><br><span class="line">                reverseK(A, A.size() - temp);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                V.push_back(index + 1);&#x2F;&#x2F;å…ˆå°†å…¶ç¿»è½¬åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®</span><br><span class="line">                reverseK(A, index + 1);</span><br><span class="line">                V.push_back(A.size() - temp);&#x2F;&#x2F;å†å°†ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ç¿»è½¬åˆ°å‰©ä½™å…ƒç´ æœ€å¤§å€¼ä½ç½®</span><br><span class="line">                reverseK(A, A.size() - temp);</span><br><span class="line">            &#125;</span><br><span class="line">            temp++;</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    void reverseK(vector&lt;int&gt; &amp;V, int k) &#x2F;&#x2F;ç¿»è½¬vectorçš„å‰kä¸ªå…ƒç´ </span><br><span class="line">    &#123;</span><br><span class="line">        if (k &gt; V.size())</span><br><span class="line">        &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(V.begin(), V.begin() + k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/22/leetcode-969/2.png" class="" title="[leetcode-969]">  
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-973</title>
    <url>/2020/02/21/leetcode-973/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/k-closest-points-to-origin/">https://leetcode-cn.com/problems/k-closest-points-to-origin/</a>  </p>
<a id="more"></a>
<img src="/2020/02/21/leetcode-973/1.png" class="" title="[leetcode-973]">  
<p>è·Ÿ1030æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œçœ‹1030æ€è·¯å³å¯  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct node</span><br><span class="line">    &#123;</span><br><span class="line">        int r;</span><br><span class="line">        int c;</span><br><span class="line">        int dis;</span><br><span class="line">    &#125;;</span><br><span class="line">    static bool cmp(node a, node b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.dis &lt; b.dis;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; kClosest(vector&lt;vector&lt;int&gt;&gt; &amp;points, int K)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;node&gt; V;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; vec;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; points.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            node temp &#x3D; &#123;points[i][0], points[i][1], pow(points[i][0], 2) + pow(points[i][1], 2)&#125;;&#x2F;&#x2F;å› ä¸ºåæ ‡åªæœ‰ä¸¤ä½ï¼Œæ‰€ä»¥ä½¿ç”¨0,1å³å¯å¾—åˆ°ç‚¹çš„æ¨ªçºµåæ ‡</span><br><span class="line">            V.push_back(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);</span><br><span class="line">        for (int i &#x3D; 0; i &lt; K; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            vec.push_back(&#123;V[i].r, V[i].c&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        return vec;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/21/leetcode-973/2.png" class="" title="[leetcode-973]">  
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£å†³æ–°å‘å¸ƒçš„æ–‡ç« ä¸­æ–‡ä¹±ç </title>
    <url>/2020/02/20/%E8%A7%A3%E5%86%B3%E6%96%B0%E5%8F%91%E5%B8%83%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/</url>
    <content><![CDATA[<p>æœ€è¿‘é‡åˆ°äº†å¾ˆéº»çƒ¦çš„é—®é¢˜ï¼Œå°±æ˜¯æˆ‘</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;title&quot;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>åˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ç« ä¹‹åï¼Œä½¿ç”¨æœ‰é“äº‘ç¬”è®°æ‰“å¼€å†ç¼–è¾‘å®Œåé€šè¿‡è®°å½•æœ¬çš„æ ¼å¼å¤åˆ¶å›å»ï¼Œå‘ç°çº¿ä¸Šçš„æ–‡ç« å°±æ˜¯ä¸­æ–‡ä¹±ç äº†ï¼ŒåŒ…æ‹¬æ ‡é¢˜å’Œåˆ†ç±»ä¹Ÿæ˜¯ä¹±ç ï¼Œä»£ç ä¸­çš„ä¸­æ–‡ä¹Ÿä¼šä¹±ç ã€‚è¿™é‡Œæ€»ç»“ä¸€ä¸‹è§£å†³æ–¹æ³•</p>
<blockquote>
<p>æ ¹æœ¬é—®é¢˜åœ¨äºï¼šä½¿ç”¨è®°äº‹æœ¬æ‰“å¼€æ–°æ–‡ç« åï¼Œé»˜è®¤çš„æ ¼å¼æ˜¯ANSI,éœ€è¦æ”¹æˆUTF-8å¹¶å¦å­˜ä¸ºã€‚</p>
</blockquote>
<p>ä½†æœ‰çš„æ—¶å€™å¦å­˜ä¸ºé€‰æ‹©æ‰€æœ‰æ–‡ä»¶æ ¼å¼è¿˜æ˜¯ä¼šå­˜æˆ.txtåç¼€çš„æ–‡ä»¶ï¼Œæ‰€ä»¥è¿™æ—¶è¦ä¿®æ”¹ä¸€ä¸‹æ–‡ä»¶æ ¼å¼ï¼Œå°†.mdåˆ æ‰é‡æ–°è¾“å…¥.mdï¼Œç„¶åé€‰æ‹©æ‰€æœ‰æ ¼å¼å’ŒUTF-8,è¿™æ ·ä¿å­˜æ—¶å°±ä¼šæœ‰æ˜¯å¦æ›¿æ¢çš„æç¤ºï¼Œæ›¿æ¢åå°±ä¼šæ¢å¤ä¸­æ–‡äº†ã€‚</p>
<img src="/2020/02/20/%E8%A7%A3%E5%86%B3%E6%96%B0%E5%8F%91%E5%B8%83%E7%9A%84%E6%96%87%E7%AB%A0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/1.png" class="" title="[è§£å†³æ–°å‘å¸ƒçš„æ–‡ç« ä¸­æ–‡ä¹±ç ]">  
]]></content>
      <categories>
        <category>hexoåšå®¢</category>
      </categories>
      <tags>
        <tag>hexoåšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-147</title>
    <url>/2020/02/20/leetcode-147/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/insertion-sort-list/">https://leetcode-cn.com/problems/insertion-sort-list/</a>  </p>
<img src="/2020/02/20/leetcode-147/1.png" class="" title="[leetcode-147]">  
<a id="more"></a>
<p>æœ€åŸºæœ¬çš„æ’å…¥æ’åºï¼Œéš¾ç‚¹åº”è¯¥åœ¨äºæ•°æ®ç»“æ„ä½¿ç”¨çš„é“¾è¡¨æ‰€ä»¥éº»çƒ¦ä¸€äº›ï¼Œä¸è¿‡æ€è·¯æ˜¯ä¸€æ ·çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode *insertionSortList(ListNode *head)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!head||!head-&gt;next)&#x2F;&#x2F;é“¾è¡¨é¢˜è¿™ä¸ªæ˜¯å¥—è·¯ï¼Œå¿…é¡»è¦åœ¨å‰é¢åŠ ä¸Š</span><br><span class="line">        &#123;</span><br><span class="line">            return head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode dummy(0);&#x2F;&#x2F;dummyå¤´ç»“ç‚¹æ³•ï¼Œå°±ä¸å¤šè¯´äº†</span><br><span class="line">        dummy.next &#x3D; head;</span><br><span class="line">        ListNode *cur &#x3D; head-&gt;next;&#x2F;&#x2F;curä¸ºå½“å‰è¦æ’å…¥çš„ç‚¹</span><br><span class="line">        head-&gt;next&#x3D;NULL;&#x2F;&#x2F;ç¬¬ä¸€ä¸ªç‚¹é»˜è®¤æ˜¯å·²ç»æ’å¥½çš„ï¼Œæ‰€ä»¥ä¸åé¢çš„é“¾è¡¨å…ƒç´ æ–­å¼€</span><br><span class="line">        while (cur)</span><br><span class="line">        &#123;</span><br><span class="line">            ListNode *temp &#x3D; &amp;dummy;</span><br><span class="line">            while (temp-&gt;next-&gt;val &lt; cur-&gt;val)&#x2F;&#x2F;æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”curå¤§çš„å…ƒç´ ï¼Œå³åœ¨tempåé¢æ’å…¥curå…ƒç´ </span><br><span class="line">            &#123;</span><br><span class="line">                temp &#x3D; temp-&gt;next;</span><br><span class="line">                if (!temp-&gt;next)&#x2F;&#x2F;å¦‚æœæ‰¾åˆ°æœ€åtempå·²ç»åˆ°æœ‰åºé“¾è¡¨çš„ç»“å°¾å¤„è¿˜æœªæ‰¾åˆ°æ¯”curå¤§çš„å…ƒç´ ï¼Œåˆ™è¯´æ˜curå…ƒç´ è¦æ’åœ¨æœ‰åºé“¾è¡¨çš„æœ«å°¾</span><br><span class="line">                &#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;          </span><br><span class="line">            ListNode* res&#x3D;cur-&gt;next;&#x2F;&#x2F;resä¸ºä¿å­˜ä¸‹ä¸€ä¸ªè¦æ’å…¥çš„ç‚¹çš„æŒ‡é’ˆï¼Œå› ä¸ºä¹‹åcurä¼šæ”¹å˜ï¼Œæ‰€ä»¥è¦ä¿å­˜å½“å‰çš„ä½ç½®</span><br><span class="line">            cur-&gt;next &#x3D; temp-&gt;next;&#x2F;&#x2F;åœ¨tempèŠ‚ç‚¹åé¢æ’å…¥èŠ‚ç‚¹çš„ä¸¤éƒ¨æ›²</span><br><span class="line">            temp-&gt;next &#x3D; cur;</span><br><span class="line">            cur &#x3D; res;&#x2F;&#x2F;curç»§ç»­éå†</span><br><span class="line">        &#125;</span><br><span class="line">        return dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/20/leetcode-147/2.png" class="" title="[leetcode-147]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-148</title>
    <url>/2020/02/20/leetcode-148/</url>
    <content><![CDATA[<img src="/2020/02/20/leetcode-148/1.png" class="" title="[leetcode-148]">  
<p><a href="https://leetcode-cn.com/problems/sort-list">https://leetcode-cn.com/problems/sort-list</a>  </p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av31197206?from&#x3D;search&amp;seid&#x3D;13970831847445553437</span><br><span class="line">ç¬¬ä¸€ä¸ªæ–¹æ³•:ä½¿ç”¨fastï¼Œslowå¿«æ…¢æŒ‡é’ˆï¼Œè¿™æ ·å¿«æŒ‡é’ˆèµ°åˆ°é“¾è¡¨ç»“å°¾æ—¶æ…¢æŒ‡é’ˆèµ°åˆ°é“¾è¡¨ä¸­é—´ï¼Œä½¿é“¾è¡¨ä¸€åˆ†ä¸ºäºŒï¼Œè¿™æ ·å†åˆ†åˆ«å¯¹ä¸¤ä¸ªéƒ¨åˆ†è¿›è¡Œæ’åºsort(l1),sort(l2)</span><br><span class="line">ç„¶åå†åˆå¹¶merge(l1,l2).å› ä¸ºæ’åºéƒ¨åˆ†æ˜¯ç”¨åˆ°é€’å½’ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(logn),æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)</span><br><span class="line">æ³¨æ„ä¸€å¼€å§‹æ—¶fastä¸€å®šæ˜¯head-&gt;nextï¼Œè€Œslowä¸ºheadï¼Œå› ä¸ºå¦‚æœfastå’Œslowéƒ½æ˜¯åŒä¸€èµ·ç‚¹ï¼Œé‚£ä¹ˆå¦‚æœé“¾è¡¨æ˜¯1-&gt;3-&gt;5æ—¶ï¼Œfastç¬¬äºŒæ¬¡è¿­ä»£å°±ä¼šå˜æˆé‡æŒ‡é’ˆäº†(null-&gt;next)</span><br><span class="line">è€Œfaståœ¨åˆå§‹åŒ–æ—¶å°±å¾€åé€€ä¸€æ ¼æ­£å¥½é¿å…è¿™ç§é”™è¯¯æƒ…å†µï¼Œè¿™æ ·è·³å‡ºå¾ªç¯çš„æ¡ä»¶æ˜¯slowåœ¨é“¾è¡¨ä¸­å¤®æ—¶ï¼Œfastä¸ºNULLæˆ–fast-&gt;next&#x3D;&#x3D;NULL</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode *sortList(ListNode *head)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!head || !head-&gt;next) &#x2F;&#x2F;å¦‚æœé“¾è¡¨åªæœ‰ä¸€ä¸ªå…ƒç´ æˆ–æ²¡æœ‰å…ƒç´ ï¼Œåˆ™ç›´æ¥è¿”å›å³å¯æ— éœ€æ’åº</span><br><span class="line">        &#123;</span><br><span class="line">            return head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *fast &#x3D; head-&gt;next;</span><br><span class="line">        ListNode *slow &#x3D; head;</span><br><span class="line">        while (fast &amp;&amp; fast-&gt;next)</span><br><span class="line">        &#123;</span><br><span class="line">            fast &#x3D; fast-&gt;next-&gt;next;</span><br><span class="line">            slow &#x3D; slow-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *mid &#x3D; slow-&gt;next;</span><br><span class="line">        slow-&gt;next &#x3D; NULL;</span><br><span class="line">        return merge(sortList(mid), sortList(head));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    ListNode *merge(ListNode *list1, ListNode *list2)</span><br><span class="line">    &#123;</span><br><span class="line">        ListNode dummy(0);       &#x2F;&#x2F;é“¾è¡¨çš„æ„é€ å‡½æ•°</span><br><span class="line">        ListNode *tail &#x3D; &amp;dummy; &#x2F;&#x2F;è¿™ä¸ªå¼•ç”¨å¾ˆå…³é”®ï¼Œtailæ˜¯æŒ‡é’ˆæŒ‡å‘dummyï¼Œtailä¼´éšç€æ’å…¥çš„å…ƒç´ ä¸€ç›´èµ°åˆ°é“¾è¡¨å°¾éƒ¨</span><br><span class="line">        while (list1 &amp;&amp; list2)   &#x2F;&#x2F;å°±æ˜¯mergeçš„æ ‡å‡†æ ¼å¼ä»£ç ï¼ŒåŒæŒ‡é’ˆæ¯”è¾ƒ</span><br><span class="line">        &#123;</span><br><span class="line">            if (list1-&gt;val &gt; list2-&gt;val) &#x2F;&#x2F;è¿™æ ·çš„å¥½å¤„å°±æ˜¯å§‹ç»ˆè®©list1-&gt;val&lt;list2-&gt;valï¼Œè¿™æ ·å§‹ç»ˆæ˜¯å°†list1æ”¾å…¥tailåé¢</span><br><span class="line">            &#123;</span><br><span class="line">                swap(list1, list2);</span><br><span class="line">            &#125;</span><br><span class="line">            tail-&gt;next &#x3D; list1;</span><br><span class="line">            list1 &#x3D; list1-&gt;next;</span><br><span class="line">            tail &#x3D; tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        if (list1) &#x2F;&#x2F;å¦‚æœè·³å‡ºå¾ªç¯ålist1è¿˜å­˜åœ¨ï¼Œå°±å°†å‰©ä½™çš„list1å…ƒç´ æ¥åˆ°tailåé¢å³å¯</span><br><span class="line">        &#123;</span><br><span class="line">            tail-&gt;next &#x3D; list1;</span><br><span class="line">        &#125;</span><br><span class="line">        if (list2) &#x2F;&#x2F;åŒç†</span><br><span class="line">        &#123;</span><br><span class="line">            tail-&gt;next &#x3D; list2;</span><br><span class="line">        &#125;</span><br><span class="line">        return dummy-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/20/leetcode-148/2.png" class="" title="[leetcode-148]">  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">ç¬¬äºŒä¸ªæ–¹æ³•ï¼šä½¿ç”¨forå¾ªç¯è¿›è¡Œmergeæ“ä½œï¼Œè€Œä¸æ˜¯ç”¨é€’å½’æ“ä½œï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦ä¸å˜,ç©ºé—´å¤æ‚åº¦ä¸ºO(1)</span><br><span class="line">*&#x2F;</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode *sortList(ListNode *head)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!head || !head-&gt;next)</span><br><span class="line">        &#123;</span><br><span class="line">            return head;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *temp &#x3D; head;</span><br><span class="line">        int len &#x3D; 0;&#x2F;&#x2F;lenæ˜¯é“¾è¡¨çš„é•¿åº¦</span><br><span class="line">        while (temp)</span><br><span class="line">        &#123;</span><br><span class="line">            len++;</span><br><span class="line">            temp &#x3D; temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode dummy(0);</span><br><span class="line">        dummy.next &#x3D; head;</span><br><span class="line">        ListNode *l;</span><br><span class="line">        ListNode *r;</span><br><span class="line">        ListNode *tail;</span><br><span class="line">        for (int n &#x3D; 1; n &lt; len; n *&#x3D; 2)</span><br><span class="line">        &#123;</span><br><span class="line">            tail &#x3D; &amp;dummy;</span><br><span class="line">            ListNode *cur &#x3D; dummy.next;</span><br><span class="line">            while (cur)&#x2F;&#x2F;curèµ°åˆ°é“¾è¡¨ç»“å°¾ä¼šä¸ºNULL</span><br><span class="line">            &#123;</span><br><span class="line">                l &#x3D; cur;&#x2F;&#x2F;låœ¨curä½ç½®ä¸Š</span><br><span class="line">                r &#x3D; split(l, n);&#x2F;&#x2F;ræ˜¯lä½ç½®å–nä¸ªå…ƒç´ å(å¹¶æ–­å¼€)çš„å‰©ä¸‹å…ƒç´ é“¾è¡¨çš„å¤´æŒ‡é’ˆ</span><br><span class="line">                cur &#x3D; split(r, n);&#x2F;&#x2F;curæ˜¯rä½ç½®å–nä¸ªå…ƒç´ å(å¹¶æ–­å¼€)å‰©ä¸‹çš„å…ƒç´ é“¾è¡¨çš„å¤´æŒ‡é’ˆ</span><br><span class="line">                auto result &#x3D; merge(l, r);&#x2F;&#x2F;å°†lå’Œrä¸¤ä¸ªé“¾è¡¨è¿›è¡Œmergeå¹¶å°†å…¶ç»‘å®šåˆ°tailå</span><br><span class="line">                tail-&gt;next &#x3D; result.first;</span><br><span class="line">                tail &#x3D; result.second;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    ListNode *split(ListNode *head, int n)&#x2F;&#x2F;æ˜¯å°†headé“¾è¡¨åˆ†å‰²nä¸ªå…ƒç´ å‡ºå»ï¼Œå¾—åˆ°nä¸ªå…ƒç´ çš„é“¾è¡¨å’Œå‰©ä¸‹å…ƒç´ çš„é“¾è¡¨ï¼Œæ¯”å¦‚1-&gt;4-&gt;3-&gt;2ï¼Œ n&#x3D;1,</span><br><span class="line">    &#123;&#x2F;&#x2F;é‚£ä¹ˆåˆ†å‰²1ä¸ªå…ƒç´ åhead&#x3D;1,rest&#x3D;4-&gt;3-&gt;2ï¼Œå¹¶ä¸”headçš„åç»­æ˜¯æ–­å¼€çš„å³head-&gt;next&#x3D;NULLã€‚å‡½æ•°çš„æ“ä½œå°±æ˜¯åˆ†å‰²é“¾è¡¨å¹¶æ–­å¼€é“¾è¡¨</span><br><span class="line">        while (head &amp;&amp; --n)</span><br><span class="line">        &#123;</span><br><span class="line">            head &#x3D; head-&gt;next;&#x2F;&#x2F;æ‰¾åˆ°è¦åˆ†å‰²çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *rest &#x3D; head ? head-&gt;next : NULL;&#x2F;&#x2F;å¦‚æœheadä¸ä¸ºç©ºï¼Œé‚£ä¹ˆrestå°±ä¸ºhead-&gt;next(å› ä¸ºheadæ˜¯åˆ†å‰²çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œhead-&gt;nextå°±æ˜¯resté“¾è¡¨çš„å¤´)ï¼Œå¦åˆ™å°±å°†restç½®ä¸ºNULL</span><br><span class="line">        if (head)</span><br><span class="line">        &#123;</span><br><span class="line">            head-&gt;next &#x3D; NULL;&#x2F;&#x2F;åˆ«å¿˜äº†å°†è¦åˆ†ç¦»çš„å…ƒç´ å’Œrestå…ƒç´ æ–­å¼€</span><br><span class="line">        &#125;</span><br><span class="line">        return rest;</span><br><span class="line">    &#125;</span><br><span class="line">    pair&lt;ListNode *, ListNode *&gt; merge(ListNode *list1, ListNode *list2)&#x2F;&#x2F;ç›¸æ¯”ç¬¬ä¸€ç§æ–¹æ³•å¤šè¿”å›ä¸€ä¸ªé“¾è¡¨çš„å°¾æŒ‡é’ˆï¼Œè¿™æ ·æ–¹ä¾¿åœ¨sortListä¸­å°†tailç›´æ¥ç»‘å®šåˆ°å°¾æŒ‡é’ˆä¸Š</span><br><span class="line">    &#123;</span><br><span class="line">        ListNode dummy(0);</span><br><span class="line">        ListNode *tail &#x3D; &amp;dummy;</span><br><span class="line">        while (list1 &amp;&amp; list2)</span><br><span class="line">        &#123;</span><br><span class="line">            if (list1-&gt;val &gt; list2-&gt;val)</span><br><span class="line">            &#123;</span><br><span class="line">                swap(list1, list2);</span><br><span class="line">            &#125;</span><br><span class="line">            tail-&gt;next &#x3D; list1;</span><br><span class="line">            list1 &#x3D; list1-&gt;next;</span><br><span class="line">            tail &#x3D; tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        if (list1)</span><br><span class="line">        &#123;</span><br><span class="line">            tail-&gt;next &#x3D; list1;</span><br><span class="line">        &#125;</span><br><span class="line">        if (list2)</span><br><span class="line">        &#123;</span><br><span class="line">            tail-&gt;next &#x3D; list2;</span><br><span class="line">        &#125;</span><br><span class="line">        while (tail-&gt;next)</span><br><span class="line">        &#123;</span><br><span class="line">            tail &#x3D; tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        return &#123;dummy.next, tail&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/20/leetcode-148/3.png" class="" title="[leetcode-148]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-976</title>
    <url>/2020/02/17/leetcode-976/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/largest-perimeter-triangle/">https://leetcode-cn.com/problems/largest-perimeter-triangle/</a>  </p>
<img src="/2020/02/17/leetcode-976/1.png" class="" title="[leetcode-976]">  
<a id="more"></a>
<p>ç¬¬ä¸€ä¸ªç®—æ³•ï¼šå…ˆæ’åºï¼Œç„¶åä»åé¢å¾€å‰éå†ï¼Œå› ä¸ºæ˜¯ä¸‰è¾¹ï¼Œæ‰€ä»¥å–ä¸‰æ¬¡éå†ï¼Œæ¯æ¬¡åˆ¤æ–­æ˜¯å¦æ˜¯ä¸‰è§’å½¢ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›ï¼Œä¸æ˜¯çš„è¯æœ€åå‡½æ•°è·³å‡º0ï¼Œä½†æ˜¯ä¸€çœ‹å°±è¶…æ—¶äº†  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution &#x2F;&#x2F;è¿™ä¸ªç®—æ³•è¶…æ—¶äº†</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int largestPerimeter(vector&lt;int&gt; &amp;A)</span><br><span class="line">    &#123;</span><br><span class="line">        sort(A.begin(), A.end());</span><br><span class="line">        for (int i &#x3D; A.size() - 1; i &gt;&#x3D; 0; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            for (int j &#x3D; i - 1; j &gt;&#x3D; 0; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                for (int m &#x3D; j - 1; m &gt;&#x3D; 0; m--)</span><br><span class="line">                &#123;</span><br><span class="line">                    if (A[m] + A[j] &gt; A[i]) &#x2F;&#x2F;å› ä¸ºæ˜¯ä¸‰è§’å½¢ä¸‰è¾¹ä»å°åˆ°å¤§ä¾æ¬¡æ˜¯A[m],A[j]å’ŒA[i](å› ä¸ºæ’åºå¹¶ä¸”ä»åå‘å‰éå†)ï¼Œæ‰€ä»¥åªéœ€ä¸‰è§’å½¢æœ€çŸ­çš„ä¸¤è¾¹æ¯”ç¬¬ä¸‰è¾¹å¤§å³å¯</span><br><span class="line">                    &#123;</span><br><span class="line">                        return A[i] + A[j] + A[m];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/17/leetcode-976/2.png" class="" title="[leetcode-976]">  
<p>ç¬¬äºŒä¸ªç®—æ³•ï¼šåœ¨ç¬¬ä¸€ä¸ªç®—æ³•çš„åŸºç¡€ä¸Šæ”¹è¿›ï¼Œå› ä¸ºå¦‚æœéå†ä¸‰æ¬¡ï¼Œè‚¯å®šæ˜¯è¿™ç§æƒ…å†µ:æ¯”å¦‚æ’å¥½åºä¹‹åæ•°ç»„ä¸º1,3,5,7.å–å¾—æ˜¯3,5,7ï¼›1,5,7ï¼›1,3,5è¿™æ ·å–ã€‚ä½†å®é™…ä¸Šå¦‚æœ3,5,7æ— æ³•ç»„æˆä¸‰è§’å½¢ï¼Œé‚£ä¹ˆ1,5,7ä¸€å®šä¹Ÿä¸å¯ä»¥ï¼Œå› ä¸º1æ¯”3å°ã€‚<br>æ‰€ä»¥æˆ‘ä»¬åªéœ€ä¸€ä¸ªå¤§å°ä¸º3çš„æ»‘åŠ¨çª—å£ï¼Œç„¶åä»æ•°ç»„æœ€åå¾€å‰ç§»åŠ¨å³å¯ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution </span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    int largestPerimeter(vector&lt;int&gt; &amp;A)</span><br><span class="line">    &#123;</span><br><span class="line">        sort(A.begin(), A.end());</span><br><span class="line">        for (int i &#x3D; A.size() - 3; i &gt;&#x3D; 0; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            if (A[i]+A[i+1]&gt;A[i+2])&#x2F;&#x2F;å› ä¸ºä»å°åˆ°å¤§ä¸ºA[i]ï¼ŒA[i+1]ï¼ŒA[i+2]ï¼Œåªè¦æ»¡è¶³æœ€å°çš„ä¸¤è¾¹ä¹‹å’Œå¤§äºç¬¬ä¸‰è¾¹å³å¯</span><br><span class="line">            &#123;</span><br><span class="line">                return A[i]+A[i+1]+A[i+2];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/17/leetcode-976/3.png" class="" title="[leetcode-976]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-1030</title>
    <url>/2020/02/16/leetcode-1030/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/matrix-cells-in-distance-order/">https://leetcode-cn.com/problems/matrix-cells-in-distance-order/</a>  </p>
<img src="/2020/02/16/leetcode-1030/1.png" class="" title="[leetcode-1030]">  

<a id="more"></a>  

<p>æˆ‘çš„æ€è·¯æ˜¯æ—¢ç„¶æ˜¯æŒ‰è·ç¦»æ’åºï¼Œé‚£æˆ‘å°±åˆ›å»ºä¸€ä¸ªstruct nodeï¼Œç„¶åä½¿ç”¨sortçš„é‡è½½cmpå‡½æ•°è¿›è¡Œæ’åºï¼Œæœ€åå†åªå°†struct nodeçš„æ¨ªçºµåæ ‡åŠ å…¥åˆ°äºŒç»´æ•°ç»„ä¸­ã€‚  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    struct node</span><br><span class="line">    &#123;</span><br><span class="line">        int r;</span><br><span class="line">        int c;</span><br><span class="line">        int dis;</span><br><span class="line">    &#125;;</span><br><span class="line">    static bool cmp(node a, node b)</span><br><span class="line">    &#123;</span><br><span class="line">        return a.dis &lt; b.dis;</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;vector&lt;int&gt;&gt; allCellsDistOrder(int R, int C, int r0, int c0)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;vector&lt;int&gt;&gt; vec;</span><br><span class="line">        vector&lt;node&gt; V;</span><br><span class="line">        for (int i &#x3D; 0; i &lt; R; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            for (int j &#x3D; 0; j &lt; C; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                node temp &#x3D; &#123;i, j, abs(i - r0) + abs(j - c0)&#125;;&#x2F;&#x2F;åˆ›å»ºtempèŠ‚ç‚¹å¹¶æ”¾å…¥Vä¸­</span><br><span class="line">                V.push_back(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(V.begin(), V.end(), cmp);&#x2F;&#x2F;æ’åº</span><br><span class="line">        for (int i &#x3D; 0; i &lt; V.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            vec.push_back(&#123;V[i].r, V[i].c&#125;);&#x2F;&#x2F;å°†Vä¸­çš„å…ƒç´ æ”¾å…¥vecä¸­ï¼Œä½†åªæ”¾å…¥æ¨ªçºµåæ ‡</span><br><span class="line">        &#125;</span><br><span class="line">        return vec;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/16/leetcode-1030/2.png" class="" title="[leetcode-1030]">  

]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-æ•°ç»„çš„ç›¸å¯¹æ’åº</title>
    <url>/2020/02/15/leetcode-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<p><a href="https://leetcode-cn.com/problems/relative-sort-array/">https://leetcode-cn.com/problems/relative-sort-array/</a>  </p>
<a id="more"></a>
<img src="/2020/02/15/leetcode-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/1.png" class="" title="[leetcode-æ•°ç»„çš„ç›¸å¯¹æ’åº]">  
<p>è¿™é“é¢˜æˆ‘çš„æ€è·¯æ˜¯åªéœ€åœ¨arr1ä¸­æ‰¾åˆ°arr2ä¸­ä¾æ¬¡å‡ºç°çš„å…ƒç´ ï¼Œç„¶åæ”¾å…¥vectorä¸­ï¼Œä½†æ˜¯éœ€è¦å°†æ¯ä¸€ä¸ªæ”¾å…¥vectorä¸­çš„å…ƒç´ åˆ é™¤ï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±ä¼šå˜å°ã€‚ä¸è¿‡æˆ‘çœ‹è¿˜æœ‰è®¡æ•°æ’åºçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; relativeSortArray(vector&lt;int&gt; &amp;arr1, vector&lt;int&gt; &amp;arr2)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        for (auto it1 &#x3D; arr2.begin(); it1 !&#x3D; arr2.end(); it1++)</span><br><span class="line">        &#123;</span><br><span class="line">            auto it2 &#x3D; arr1.begin();</span><br><span class="line">            while (it2 !&#x3D; arr1.end())</span><br><span class="line">            &#123;</span><br><span class="line">                if (*it2 &#x3D;&#x3D; *it1)</span><br><span class="line">                &#123;</span><br><span class="line">                    V.push_back(*it2);</span><br><span class="line">                    it2 &#x3D; arr1.erase(it2);&#x2F;&#x2F;ä»arr1ä¸­åˆ é™¤it2æŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ </span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                    it2++;&#x2F;&#x2F;å¦‚æœæ²¡åŒ¹é…æˆåŠŸï¼Œå¿…é¡»è¦æŒ‡é’ˆåç§»</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(arr1.begin(), arr1.end());&#x2F;&#x2F;å°†å‰©ä¸‹çš„å…ƒç´ æ’åºåå†æ”¾å…¥Vä¸­</span><br><span class="line">        for (auto i &#x3D; arr1.begin(); i !&#x3D; arr1.end(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            V.push_back(*i);</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/15/leetcode-%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%B8%E5%AF%B9%E6%8E%92%E5%BA%8F/2.png" class="" title="[leetcode-æ•°ç»„çš„ç›¸å¯¹æ’åº]">  
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-æŒ‰å¥‡å¶åˆ¤æ–­æ•°ç»„</title>
    <url>/2020/02/13/leetcode-%E6%8C%89%E5%A5%87%E5%81%B6%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84/</url>
    <content><![CDATA[<img src="/2020/02/13/leetcode-%E6%8C%89%E5%A5%87%E5%81%B6%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84/1.png" class="" title="[leetcode-æŒ‰å¥‡å¶åˆ¤æ–­æ•°ç»„]">  
<p><a href="https://leetcode-cn.com/problems/sort-array-by-parity-ii/">https://leetcode-cn.com/problems/sort-array-by-parity-ii/</a><br>è§åˆ°è¿™ä¸ªé¢˜çš„æ€è·¯æ˜¯ï¼š  </p>
<a id="more"></a>
<p>å…ˆå°†æ•°ç»„æ’åºä¸€éï¼Œç„¶åä»å¤´éå†åˆ¤æ–­æ¯ä¸ªä½ç½®ï¼š<br>1.å¦‚æœå½“å‰ä½ç½®ä¸ºæ­£ç¡®çš„æ•°(å¥‡æ•°ä½ç½®ä¸ºå¥‡æ•°ï¼Œå¶æ•°ä½ç½®ä¸ºå¶æ•°),é‚£ä¹ˆå°±continue<br>2.å¦‚æœå½“å‰ä½ç½®ä¸æ˜¯æ­£ç¡®çš„æ•°ï¼Œé‚£ä¹ˆä»è¿™ä¸ªæ•°çš„ä¸‹ä¸€ä¸ªæ•°å¼€å§‹ä¸€ç›´åˆ°æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œéå†ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªé€‚åˆå½“å‰ä½ç½®çš„æ•°ï¼Œä½¿ä»–ä¿©äº¤æ¢ã€‚<br>ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; sortArrayByParityII(vector&lt;int&gt; &amp;A)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        &#x2F;&#x2F; sort(A.begin(), A.end());</span><br><span class="line">        for (int i &#x3D; 0; i &lt; A.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            if ((A[i] % 2 &#x3D;&#x3D; 0 &amp;&amp; i % 2 &#x3D;&#x3D; 0) || (A[i] % 2 !&#x3D; 0 &amp;&amp; i % 2 !&#x3D; 0))&#x2F;&#x2F;å½“å‰ä½ç½®ä¸ºæ­£ç¡®çš„æ•°</span><br><span class="line">            &#123;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                for (int j &#x3D; i + 1; j &lt; A.size(); j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    if ((A[i] % 2 &#x3D;&#x3D; 0 &amp;&amp; A[j] % 2 !&#x3D; 0) || (A[i] % 2 !&#x3D; 0 &amp;&amp; A[j] % 2 &#x3D;&#x3D; 0))&#x2F;&#x2F;å·²çŸ¥å½“å‰ä½ç½®ä¸ºé”™è¯¯çš„æ•°ï¼Œé‚£ä¹ˆæˆ‘åªéœ€å¾€åæ‰¾å’Œä»–å¥‡å¶ç›¸åçš„æ•°å³å¯</span><br><span class="line">                    &#123;                                                                   &#x2F;&#x2F;æ¯”å¦‚ä¸Šé¢çš„æ•°æ˜¯ä¸€ä¸ªå¥‡æ•°ï¼Œä»–çš„iæ˜¯å¶æ•°ï¼Œé‚£ä¹ˆæˆ‘åªéœ€åœ¨åé¢æ‰¾ä¸€ä¸ªå¶æ•°ä¸è‡ªå·±äº¤æ¢å³å¯</span><br><span class="line">                        swap(A[i], A[j]);</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (auto i &#x3D; 0; i &lt; A.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            V.push_back(A[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<img src="/2020/02/13/leetcode-%E6%8C%89%E5%A5%87%E5%81%B6%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84/2.png" class="" title="[leetcode-æŒ‰å¥‡å¶åˆ¤æ–­æ•°ç»„]">  
<p>å…¶å®ï¼Œæœ€åçš„ç­”æ¡ˆä¸æ˜¯å”¯ä¸€çš„ï¼Œä¸éœ€è¦ä»å¤´åˆ°å°¾ä¸ºæ­£åºï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥çš„sortæ²¡å¿…è¦ï¼Œä¼˜åŒ–ä»¥åå°±æ˜¯åªå°†ä»£ç ä¸­sorté‚£ä¸€è¡Œæ³¨é‡Šå³å¯  </p>
<img src="/2020/02/13/leetcode-%E6%8C%89%E5%A5%87%E5%81%B6%E5%88%A4%E6%96%AD%E6%95%B0%E7%BB%84/3.png" class="" title="[leetcode-æŒ‰å¥‡å¶åˆ¤æ–­æ•°ç»„]">  
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcode-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</title>
    <url>/2020/02/13/leetcode-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/</url>
    <content><![CDATA[<img src="/2020/02/13/leetcode-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/2.png" class="" title="[leetcode-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†]">  
<p><a href="https://leetcode-cn.com/problems/intersection-of-two-arrays/">https://leetcode-cn.com/problems/intersection-of-two-arrays/</a><br>è¿™é“é¢˜æˆ‘çš„æ€è·¯ä¸€å¼€å§‹æ˜¯æˆ‘å…ˆæŠŠä¸¤ä¸ªæ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨åŒæŒ‡é’ˆæ€æƒ³ï¼Œåˆ†åˆ«ä»ä¸¤ä¸ªæ•°ç»„çš„å¼€å¤´è¿›è¡Œéå†ï¼Œé‡åˆ°ç›¸ç­‰æ—¶å°±æŠŠå®ƒä»¬æ”¾åˆ°vectorä¸­ï¼Œä¸ç›¸ç­‰æ—¶æ•°å°çš„æŒ‡é’ˆå¾€åç§»ï¼Œç›´åˆ°æ•°ç»„è¶…ç•Œã€‚</p>
<a id="more"></a>
<p>ç»“æœæˆ‘æƒ³çš„å¤ªå¤æ‚ï¼Œå®é™…ä¸Šä¸¤ä¸ªæ•°ç»„æ’å¥½åºååªè¦æœ‰ä¸€ä¸ªè¶…ç•Œï¼Œé‚£ä¹ˆå°±å¯ä»¥breakäº†ï¼Œå› ä¸ºä½ å·²ç»æ’å¥½äº†åºï¼Œå½“ä¸€ä¸ªæ•°ç»„è¶…ç•Œæ—¶ï¼Œå¦å¤–ä¸€ä¸ªæ•°ç»„å°±ç®—æ²¡è¶…ç•Œï¼Œå…¶åé¢çš„å…ƒç´ ä¹Ÿæ— æ³•ä¸è¶…ç•Œæ•°ç»„è¿›è¡ŒåŒ¹é…ã€‚è€Œä¸”æœ€ç®€å•çš„åŠæ³•å°±æ˜¯å¼•å…¥ä¸€ä¸ªsetï¼Œå…ˆæŠŠç›¸ç­‰çš„å…ƒç´ æ”¾å…¥setä¸­ï¼Œå†æ”¾åˆ°vectoré‡Œï¼Œä½†æ˜¯æˆ‘ä¸€å¼€å§‹æƒ³ç€ä¸æƒ³å†å¤šä½¿ç”¨å¦ä¸€ä¸ªæ•°æ®ç»“æ„äº†ã€‚ä½†å®é™…ä¸Šä½¿ç”¨setæ›´ç®€å•ä¸€ç‚¹ã€‚<br>ä»£ç ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line"> * @lc app&#x3D;leetcode.cn id&#x3D;349 lang&#x3D;cpp</span><br><span class="line"> *</span><br><span class="line"> * [349] ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; @lc code&#x3D;start</span><br><span class="line">class Solution</span><br><span class="line">&#123;</span><br><span class="line">public:</span><br><span class="line">    vector&lt;int&gt; intersection(vector&lt;int&gt; &amp;nums1, vector&lt;int&gt; &amp;nums2)</span><br><span class="line">    &#123;</span><br><span class="line">        vector&lt;int&gt; V;</span><br><span class="line">        set&lt;int&gt;S;</span><br><span class="line">        if (nums1.size() &#x3D;&#x3D; 0 || nums2.size() &#x3D;&#x3D; 0)&#x2F;&#x2F;å¦‚æœä¸€å¼€å§‹å…¶ä¸­ä¸€ä¸ªæ•°ç»„æ²¡æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæœ‰ç›¸åŒçš„å…ƒç´ ï¼Œè¾“å‡ºç©ºå³å¯</span><br><span class="line">        &#123;</span><br><span class="line">            return V;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(nums1.begin(), nums1.end());&#x2F;&#x2F;æ’åº</span><br><span class="line">        sort(nums2.begin(), nums2.end());</span><br><span class="line">        int i &#x3D; 0, j &#x3D; 0;</span><br><span class="line">        while (true)</span><br><span class="line">        &#123;</span><br><span class="line">            if (i &#x3D;&#x3D; nums1.size() || j &#x3D;&#x3D; nums2.size())&#x2F;&#x2F;å¦‚æœå…¶ä¸­ä¸€ä¸ªæ•°ç»„è¶…ç•Œï¼Œé‚£ä¹ˆç›´æ¥break</span><br><span class="line">            &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">            if (nums1[i] &#x3D;&#x3D; nums2[j])</span><br><span class="line">            &#123;</span><br><span class="line">                S.insert(nums1[i]);</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;         </span><br><span class="line">            else if (nums1[i] &lt; nums2[j])</span><br><span class="line">            &#123;</span><br><span class="line">                i++;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            else if (nums1[i] &gt; nums2[j])</span><br><span class="line">            &#123;</span><br><span class="line">                j++;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        for (auto it &#x3D; S.begin(); it !&#x3D; S.end(); it++)&#x2F;&#x2F;å°†setä¸­å…ƒç´ æ‹·è´åˆ°vectorä¸­</span><br><span class="line">        &#123;</span><br><span class="line">            V.push_back(*it);</span><br><span class="line">        &#125;</span><br><span class="line">        return V;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; @lc code&#x3D;end</span><br></pre></td></tr></table></figure>

<img src="/2020/02/13/leetcode-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86/1.png" class="" title="[leetcode-ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†]">  
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>you-getæ‰¹é‡ä¸‹è½½è§†é¢‘</title>
    <url>/2020/02/05/you-get%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/</url>
    <content><![CDATA[<p>ä»Šå¤©åœ¨bç«™ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªå¾ˆå–œæ¬¢çš„ç½‘è¯¾ï¼Œæ€•è¢«å’Œè°ï¼Œæ‰€ä»¥æƒ³ä¸‹è½½ä¸‹æ¥ï¼Œä½†ç½‘é¡µç«¯bç«™æ²¡æœ‰ä¸‹è½½çš„æ¸ é“ï¼Œä½¿ç”¨å…¶ä»–çš„ä¸‹è½½æ–¹å¼è¿˜éœ€è¦ä¸‹è½¯ä»¶ï¼Œæ‰€ä»¥åˆç”±csdnåšå®¢ä¸Šäº†è§£åˆ°ä½¿ç”¨you-getç¬¬ä¸‰æ–¹åº“å¯ä»¥éå¸¸è½»æ¾çš„ä¸‹è½½bç«™è§†é¢‘(å½“ç„¶ä¹Ÿæ”¯æŒå¾ˆå¤šå…¶ä»–è§†é¢‘å¹³å°)ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸€ä¸‹ï¼Œæ•ˆæœéå¸¸æ£’ï¼Œ(å½“ç„¶ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œæ¯”å¦‚ä¸‹è½½é€Ÿåº¦æœ‰äº›æ…¢)ä¸è¿‡å¯ä»¥æ‰¹é‡ä¸‹è½½ï¼Œæ‰€ä»¥ç‘•ä¸æ©ç‘œå§ã€‚  </p>
<a id="more"></a>
<p><a href="https://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E">å®˜æ–¹è¯¦ç»†ä¸­æ–‡æ–‡æ¡£</a><br>ç›´æ¥æ§åˆ¶å°è¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install you-get</span><br></pre></td></tr></table></figure>
<p>å³å¯å®‰è£…æˆåŠŸ  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">you-get --playlist  -o F:\bilibili https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av6731067</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">F:\bilibili</span><br></pre></td></tr></table></figure>
<p>æ˜¯ä¸‹è½½åˆ°fç›˜bilibiliæ–‡ä»¶å¤¹ä¸‹(éœ€è¦å…ˆè‡ªè¡Œåˆ›å»ºæ–‡ä»¶å¤¹)  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av6731067</span><br></pre></td></tr></table></figure>
<p>æ˜¯è§†é¢‘çš„åœ°å€ï¼Œè¿™æ ·åå°å°±å¯ä»¥ä¸‹è½½æˆåŠŸäº†ã€‚  </p>
<img src="/2020/02/05/you-get%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/1.png" class="" title="[you-getæ‰¹é‡ä¸‹è½½è§†é¢‘]">  

<img src="/2020/02/05/you-get%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/2.png" class="" title="[you-getæ‰¹é‡ä¸‹è½½è§†é¢‘]">  



]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>ä¸‹è½½è§†é¢‘</tag>
        <tag>python</tag>
        <tag>you-get</tag>
      </tags>
  </entry>
  <entry>
    <title>ç†è§£RESTful</title>
    <url>/2020/01/31/%E7%90%86%E8%A7%A3RESTful/</url>
    <content><![CDATA[<p>ä¸€ã€REST  </p>
<blockquote>
<p>RESTï¼šå³ Representational State Transferï¼Œï¼ˆèµ„æºï¼‰è¡¨ç°å±‚çŠ¶æ€è½¬åŒ–ã€‚æ˜¯ç›®å‰æœ€æµè¡Œçš„ä¸€ç§äº’è”ç½‘è½¯ä»¶æ¶æ„ã€‚å®ƒç»“æ„æ¸…æ™°ã€ç¬¦åˆæ ‡å‡†ã€æ˜“äºç†è§£ã€æ‰©å±•æ–¹ä¾¿ï¼Œ æ‰€ä»¥æ­£å¾—åˆ°è¶Šæ¥è¶Šå¤šç½‘ç«™çš„é‡‡ç”¨ã€‚</p>
</blockquote>
<p>å…·ä½“è¯´ï¼Œå°±æ˜¯ HTTP åè®®é‡Œé¢ï¼Œå››ä¸ªè¡¨ç¤ºæ“ä½œæ–¹å¼çš„åŠ¨ è¯ï¼š<br>GETã€POSTã€PUTã€DELETEã€‚<br>å®ƒä»¬åˆ†åˆ«å¯¹åº”å››ç§åŸºæœ¬æ“ä½œï¼š<br>GET ç”¨æ¥è·å–èµ„æº<br>POST ç”¨æ¥æ–°å»ºèµ„æº<br>PUT ç”¨æ¥æ›´æ–°èµ„æº<br>DELETE ç”¨æ¥åˆ é™¤èµ„æº  </p>
<a id="more"></a>
<p>URLç¤ºä¾‹ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET     &#x2F;tickets       # è·å–ticketåˆ—è¡¨</span><br><span class="line">GET     &#x2F;tickets&#x2F;12    # æŸ¥çœ‹ticket 12</span><br><span class="line">POST    &#x2F;tickets       # æ–°å»ºä¸€ä¸ªticket</span><br><span class="line">PUT     &#x2F;tickets&#x2F;12    # æ›´æ–°ticket 12</span><br><span class="line">PATCH   &#x2F;tickets&#x2F;12    # æ›´æ–°ticket 12</span><br><span class="line">DELETE  &#x2F;tickets&#x2F;12    # åˆ é™¤ticekt 12</span><br></pre></td></tr></table></figure>


<p>äºŒã€å¹‚ç­‰æ€§<br>ç†è§£RESTfulçš„å¹‚ç­‰æ€§ï¼Œå¹¶ä¸”è®¾è®¡ç¬¦åˆå¹‚ç­‰è§„èŒƒçš„é«˜è´¨é‡RESTful APIã€‚</p>
<p>HTTPå¹‚ç­‰æ–¹æ³•ï¼Œæ˜¯æŒ‡æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡éƒ½ä¸ä¼šæœ‰ä¸åŒç»“æœçš„ HTTP æ–¹æ³•ã€‚ä¸ç®¡ä½ è°ƒç”¨ä¸€æ¬¡ï¼Œè¿˜æ˜¯è°ƒç”¨ä¸€ç™¾æ¬¡ï¼Œä¸€åƒæ¬¡ï¼Œç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p>
<p>HTTP GETæ–¹æ³•<br>HTTP GETæ–¹æ³•ï¼Œç”¨äºè·å–èµ„æºï¼Œä¸ç®¡è°ƒç”¨å¤šå°‘æ¬¡æ¥å£ï¼Œç»“æœéƒ½ä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥æ˜¯å¹‚ç­‰çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET     &#x2F;tickets       # è·å–ticketåˆ—è¡¨</span><br><span class="line">GET     &#x2F;tickets&#x2F;12    # æŸ¥çœ‹ticket 12</span><br></pre></td></tr></table></figure>

<p>åªæ˜¯æŸ¥è¯¢æ•°æ®ï¼Œä¸ä¼šå½±å“åˆ°èµ„æºçš„å˜åŒ–ï¼Œå› æ­¤æˆ‘ä»¬è®¤ä¸ºå®ƒå¹‚ç­‰ã€‚</p>
<p>å€¼å¾—æ³¨æ„ï¼Œå¹‚ç­‰æ€§æŒ‡çš„æ˜¯ä½œç”¨äºç»“æœè€Œéèµ„æºæœ¬èº«ã€‚æ€ä¹ˆç†è§£å‘¢ï¼Ÿä¾‹å¦‚ï¼Œè¿™ä¸ªHTTP GETæ–¹æ³•å¯èƒ½ä¼šæ¯æ¬¡å¾—åˆ°ä¸åŒçš„è¿”å›å†…å®¹ï¼Œä½†å¹¶ä¸å½±å“èµ„æºã€‚</p>
<p>å¯èƒ½ä½ ä¼šé—®æœ‰è¿™ç§æƒ…å†µä¹ˆï¼Ÿå½“ç„¶æœ‰å’¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥å£è·å–å½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬å°±åº”è¯¥è®¾è®¡æˆ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">GET     &#x2F;service_time # è·å–æœåŠ¡å™¨å½“å‰æ—¶é—´</span><br></pre></td></tr></table></figure>

<p>å®ƒæœ¬èº«ä¸ä¼šå¯¹èµ„æºæœ¬èº«äº§ç”Ÿå½±å“ï¼Œå› æ­¤æ»¡è¶³å¹‚ç­‰æ€§ã€‚</p>
<p>HTTP POSTæ–¹æ³•<br>HTTP POSTæ–¹æ³•æ˜¯ä¸€ä¸ªéå¹‚ç­‰æ–¹æ³•ï¼Œå› ä¸ºè°ƒç”¨å¤šæ¬¡ï¼Œéƒ½å°†äº§ç”Ÿæ–°çš„èµ„æºã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">POST    &#x2F;tickets       # æ–°å»ºä¸€ä¸ªticket</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå®ƒä¼šå¯¹èµ„æºæœ¬èº«äº§ç”Ÿå½±å“ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šæœ‰æ–°çš„èµ„æºäº§ç”Ÿï¼Œå› æ­¤ä¸æ»¡è¶³å¹‚ç­‰æ€§ã€‚</p>
<p>HTTP PUTæ–¹æ³•<br>HTTP PUTæ–¹æ³•æ˜¯ä¸æ˜¯å¹‚ç­‰çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PUT     &#x2F;tickets&#x2F;12    # æ›´æ–°ticket 12</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå®ƒç›´æ¥æŠŠå®ä½“éƒ¨åˆ†çš„æ•°æ®æ›¿æ¢åˆ°æœåŠ¡å™¨çš„èµ„æºï¼Œæˆ‘ä»¬å¤šæ¬¡è°ƒç”¨å®ƒï¼Œåªä¼šäº§ç”Ÿä¸€æ¬¡å½±å“ï¼Œä½†æ˜¯æœ‰ç›¸åŒç»“æœçš„ HTTP æ–¹æ³•ï¼Œæ‰€ä»¥æ»¡è¶³å¹‚ç­‰æ€§ã€‚</p>
<p>HTTP PATCHæ–¹æ³•<br>HTTP PATCHæ–¹æ³•æ˜¯éå¹‚ç­‰çš„ã€‚HTTP POSTæ–¹æ³•å’ŒHTTP PUTæ–¹æ³•å¯èƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œä½†æ˜¯HTTP PATCHæ–¹æ³•åªæ˜¯æ›´æ–°éƒ¨åˆ†èµ„æºï¼Œæ€ä¹ˆæ˜¯éå¹‚ç­‰çš„å‘¢? æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">PATCH   &#x2F;tickets&#x2F;12    # æ›´æ–°ticket 12</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æœåŠ¡ç«¯å¯¹æ–¹æ³•çš„å¤„ç†æ˜¯ï¼Œå½“è°ƒç”¨ä¸€æ¬¡æ–¹æ³•ï¼Œæ›´æ–°éƒ¨åˆ†å­—æ®µï¼Œå°†è¿™æ¡ticketè®°å½•çš„æ“ä½œè®°å½•åŠ ä¸€ï¼Œè¿™æ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨çš„èµ„æºæ˜¯ä¸æ˜¯å˜äº†å‘¢ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ‰å¯èƒ½æ˜¯éå¹‚ç­‰çš„æ“ä½œã€‚</p>
<p>HTTP DELETEæ–¹æ³•<br>HTTP DELETEæ–¹æ³•ç”¨äºåˆ é™¤èµ„æºï¼Œä¼šå°†èµ„æºåˆ é™¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE  &#x2F;tickets&#x2F;12    # åˆ é™¤ticekt 12</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨ä¸€æ¬¡å’Œå¤šæ¬¡å¯¹èµ„æºäº§ç”Ÿå½±å“æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ä¹Ÿæ»¡è¶³å¹‚ç­‰æ€§ã€‚</p>
<p>ä¸‰ã€å¦‚ä½•è®¾è®¡ç¬¦åˆå¹‚ç­‰æ€§çš„é«˜è´¨é‡RESTful API<br>HTTP GETæ–¹æ³• vs HTTP POSTæ–¹æ³•<br>ä¹Ÿè®¸ï¼Œä½ ä¼šæƒ³èµ·ä¸€ä¸ªé¢è¯•é¢˜ã€‚HTTPè¯·æ±‚çš„GETä¸POSTæ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä½ å¯èƒ½ä¼šå›ç­”åˆ°ï¼šGETæ–¹å¼é€šè¿‡URLæäº¤æ•°æ®ï¼Œæ•°æ®åœ¨URLä¸­å¯ä»¥çœ‹åˆ°ï¼›POSTæ–¹å¼ï¼Œæ•°æ®æ”¾ç½®åœ¨HTML HEADERå†…æäº¤ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç°åœ¨ä»RESTfulçš„èµ„æºè§’åº¦æ¥çœ‹å¾…é—®é¢˜ï¼ŒHTTP GETæ–¹æ³•æ˜¯å¹‚ç­‰çš„ï¼Œæ‰€ä»¥å®ƒé€‚åˆä½œä¸ºæŸ¥è¯¢æ“ä½œï¼ŒHTTP POSTæ–¹æ³•æ˜¯éå¹‚ç­‰çš„ï¼Œæ‰€ä»¥ç”¨æ¥è¡¨ç¤ºæ–°å¢æ“ä½œã€‚</p>
<p>ä½†æ˜¯ï¼Œä¹Ÿæœ‰ä¾‹å¤–ï¼Œæˆ‘ä»¬æœ‰çš„æ—¶å€™å¯èƒ½éœ€è¦æŠŠæŸ¥è¯¢æ–¹æ³•æ”¹é€ æˆHTTP POSTæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œè¶…é•¿ï¼ˆ1kï¼‰çš„GET URLä½¿ç”¨POSTæ–¹æ³•æ¥æ›¿ä»£ï¼Œå› ä¸ºGETå—åˆ°URLé•¿åº¦çš„é™åˆ¶ã€‚è™½ç„¶ï¼Œå®ƒä¸ç¬¦åˆå¹‚ç­‰æ€§ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆã€‚</p>
<p>HTTP POSTæ–¹æ³• vs HTTP PUTæ–¹æ³•<br>å¯¹äºHTTP POSTæ–¹æ³•å’ŒHTTP PUTæ–¹æ³•ï¼Œæˆ‘ä»¬ä¸€èˆ¬çš„ç†è§£æ˜¯POSTè¡¨ç¤ºåˆ›å»ºèµ„æºï¼ŒPUTè¡¨ç¤ºæ›´æ–°èµ„æºã€‚å½“ç„¶ï¼Œè¿™ä¸ªæ˜¯æ­£ç¡®çš„ç†è§£ã€‚</p>
<p>ä½†æ˜¯ï¼Œå®é™…ä¸Šï¼Œä¸¤ä¸ªæ–¹æ³•éƒ½ç”¨äºåˆ›å»ºèµ„æºï¼Œæ›´ä¸ºæœ¬è´¨çš„å·®åˆ«æ˜¯åœ¨å¹‚ç­‰æ€§ã€‚HTTP POSTæ–¹æ³•æ˜¯éå¹‚ç­‰ï¼Œæ‰€ä»¥ç”¨æ¥è¡¨ç¤ºåˆ›å»ºèµ„æºï¼ŒHTTP PUTæ–¹æ³•æ˜¯å¹‚ç­‰çš„ï¼Œå› æ­¤è¡¨ç¤ºæ›´æ–°èµ„æºæ›´åŠ è´´åˆ‡ã€‚</p>
<p>HTTP PUTæ–¹æ³• vs HTTP PATCHæ–¹æ³•<br>æ­¤æ—¶ï¼Œä½ çœ‹ä¼šæœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ã€‚HTTP PUTæ–¹æ³•å’ŒHTTP PATCHæ–¹æ³•ï¼Œéƒ½æ˜¯ç”¨æ¥è¡¨è¿°æ›´æ–°èµ„æºï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èˆ¬çš„ç†è§£æ˜¯PUTè¡¨ç¤ºæ›´æ–°å…¨éƒ¨èµ„æºï¼ŒPATCHè¡¨ç¤ºæ›´æ–°éƒ¨åˆ†èµ„æºã€‚é¦–å…ˆï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬éµå®ˆçš„ç¬¬ä¸€å‡†åˆ™ã€‚æ ¹æ®ä¸Šé¢çš„æè¿°ï¼ŒPATCHæ–¹æ³•æ˜¯éå¹‚ç­‰çš„ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è®¾è®¡æˆ‘ä»¬æœåŠ¡ç«¯çš„RESTful APIçš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦è€ƒè™‘ã€‚å¦‚æœï¼Œæˆ‘ä»¬æƒ³è¦æ˜ç¡®çš„å‘Šè¯‰è°ƒç”¨è€…æˆ‘ä»¬çš„èµ„æºæ˜¯å¹‚ç­‰çš„ï¼Œæˆ‘çš„è®¾è®¡æ›´å€¾å‘äºä½¿ç”¨HTTP PUTæ–¹æ³•ã€‚</p>
]]></content>
      <categories>
        <category>RESTful</category>
      </categories>
      <tags>
        <tag>åè®®</tag>
        <tag>RESTful</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis-pluså®æˆ˜-5</title>
    <url>/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-5/</url>
    <content><![CDATA[<p>sqlæ€§èƒ½åˆ†ææ’ä»¶ï¼š<br>åœ¨MyBatisPlusConfigä¸­æ·»åŠ æ€§èƒ½åˆ†ææ’ä»¶ï¼š</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">     * SQL æ‰§è¡Œæ€§èƒ½åˆ†ææ’ä»¶</span><br><span class="line">     * å¼€å‘ç¯å¢ƒä½¿ç”¨ï¼Œçº¿ä¸Šä¸æ¨èã€‚ maxTime æŒ‡çš„æ˜¯ sql æœ€å¤§æ‰§è¡Œæ—¶é•¿</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Bean</span><br><span class="line">    @Profile(&#123;&quot;dev&quot;,&quot;test&quot;&#125;)&#x2F;&#x2F; è®¾ç½® dev test ç¯å¢ƒå¼€å¯</span><br><span class="line">    public PerformanceInterceptor performanceInterceptor() &#123;</span><br><span class="line">        PerformanceInterceptor performanceInterceptor &#x3D; new PerformanceInterceptor();</span><br><span class="line">        performanceInterceptor.setMaxTime(100);&#x2F;&#x2F;msï¼Œè¶…è¿‡æ­¤å¤„è®¾ç½®çš„msåˆ™sqlä¸æ‰§è¡Œï¼ŒæŠ›å‡ºå¼‚å¸¸ä¿¡æ¯ï¼Œæç¤ºä¼˜åŒ–ç¨‹åº</span><br><span class="line">        performanceInterceptor.setFormat(true);</span><br><span class="line">        return performanceInterceptor;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®devç¯å¢ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#ç¯å¢ƒè®¾ç½®ï¼šdevã€testã€prod</span><br><span class="line">spring.profiles.active&#x3D;dev</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ä»¥é’ˆå¯¹å„ç¯å¢ƒæ–°å»ºä¸åŒçš„é…ç½®æ–‡ä»¶application-dev.propertiesã€application-test.propertiesã€application-prod.properties</p>
</blockquote>
<p>æµ‹è¯•CRUDTestä¸­çš„æ’å…¥æ“ä½œï¼š</p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-5/1.png" class="" title="[Mybatis-pluså®æˆ˜-5]">  
<p>è‹¥å°†setMaxTimeçš„å‚æ•°å€¼æ”¹å°ä¸ºå°äº40çš„æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
<p>å­¦å®ŒMyBatis-pluså¤§ä½“åŠŸèƒ½åï¼Œæ•´ä¸ªé¡¹ç›®ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-5/2.png" class="" title="[Mybatis-pluså®æˆ˜-5]">  
]]></content>
      <categories>
        <category>MyBatis-plus</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
        <tag>MyBatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis-pluså®æˆ˜-4</title>
    <url>/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/</url>
    <content><![CDATA[<p>1.Delete<br>1.1 æ ¹æ®idåˆ é™¤è®°å½•  </p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testDeleteById()&#123;</span><br><span class="line"></span><br><span class="line">    int result &#x3D; userMapper.deleteById(8L);</span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/1.jpg" class="" title="[Mybatis-pluså®æˆ˜-4]">  
<p>1.2 æ ¹æ®idæ‰¹é‡åˆ é™¤è®°å½•  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testDeleteBatchIds() &#123;</span><br><span class="line"></span><br><span class="line">    int result &#x3D; userMapper.deleteBatchIds(Arrays.asList(8, 9, 10));</span><br><span class="line">    System.out.println(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/2.jpg" class="" title="[Mybatis-pluså®æˆ˜-4]">  
<p>1.3 ä½¿ç”¨mapè¿›è¡Œç®€å•æŸ¥è¯¢åˆ é™¤  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    ç®€å•æ¡ä»¶åˆ é™¤ï¼šå…ˆç»„è£…hashmapï¼Œå†ä½¿ç”¨deleteByMapæ–¹æ³•è¿›è¡Œåˆ é™¤</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testDeleteByMap() &#123;</span><br><span class="line"></span><br><span class="line">        HashMap&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">        map.put(&quot;name&quot;, &quot;Sandy&quot;);</span><br><span class="line">        map.put(&quot;age&quot;, 21);</span><br><span class="line"></span><br><span class="line">        int result &#x3D; userMapper.deleteByMap(map);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/3.jpg" class="" title="[Mybatis-pluså®æˆ˜-4]">  
<p><strong>1.4 é€»è¾‘åˆ é™¤</strong>  </p>
<blockquote>
<p>ç‰©ç†åˆ é™¤ï¼šçœŸå®åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œä¹‹åæŸ¥è¯¢ä¸åˆ°æ­¤æ¡è¢«åˆ é™¤æ•°æ®<br>é€»è¾‘åˆ é™¤ï¼šå‡åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä¸­ä»£è¡¨æ˜¯å¦è¢«åˆ é™¤å­—æ®µçŠ¶æ€ä¿®æ”¹ä¸ºâ€œè¢«åˆ é™¤çŠ¶æ€â€ï¼Œä¹‹ååœ¨æ•°æ®åº“ä¸­ä»æ—§èƒ½çœ‹åˆ°æ­¤æ¡æ•°æ®è®°å½•</p>
</blockquote>
<p>(1)  é€»è¾‘åˆ é™¤å³åœ¨è¡¨ä¸­æ–°åŠ ä¸€ä¸ªé€»è¾‘å­—æ®µdeletedï¼Œç±»å‹æ˜¯tinyintï¼Œé•¿åº¦ä¸º1ï¼Œé»˜è®¤ä¸º0(æ–°ç‰ˆmysqlæ²¡æœ‰å¸ƒå°”ç±»å‹ï¼Œéƒ½æ˜¯ç”¨ä¸€ä½é•¿åº¦çš„tinyintç±»å‹è¡¨ç¤ºï¼Œé»˜è®¤ä¸º0è¡¨ç¤ºæ²¡æœ‰è¢«åˆ é™¤ï¼Œ1è¡¨ç¤ºè¢«åˆ é™¤äº†)<br>(2)  åœ¨å®ä½“ç±»ä¸­åŠ å…¥ä»¥ä¸‹å­—æ®µ  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@TableLogic</span><br><span class="line">private Integer deleted;</span><br></pre></td></tr></table></figure>

<p>(3)åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å­—æ®µ  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#é€»è¾‘åˆ é™¤çš„é…ç½®</span><br><span class="line">mybatis-plus.global-config.db-config.logic-delete-value&#x3D;1</span><br><span class="line">mybatis-plus.global-config.db-config.logic-not-delete-value&#x3D;0</span><br></pre></td></tr></table></figure>

<p>åœ¨åšåˆ é™¤æ“ä½œæ—¶ï¼Œmybatis-plusæ£€æµ‹åˆ°æœ‰é€»è¾‘åˆ é™¤ï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨çš„å°†åˆ é™¤æ“ä½œæ›´æ”¹ä¸ºæ›´æ–°æ“ä½œï¼Œå¹¶å°†deletedå­—æ®µæ›´æ–°ä¸º1ã€‚<br>(4)åœ¨MyBatisPlusConfigç±»ä¸­æ³¨å†Œé€»è¾‘åˆ é™¤æ’ä»¶  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;é€»è¾‘åˆ é™¤æ’ä»¶</span><br><span class="line">    @Bean</span><br><span class="line">    public ISqlInjector sqlInjector() &#123;</span><br><span class="line">        return new LogicSqlInjector();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>é€»è¾‘åˆ é™¤åŠŸèƒ½æˆåŠŸï¼ç°åœ¨å¼€å§‹æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">     * æµ‹è¯• é€»è¾‘åˆ é™¤</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testLogicDelete() &#123;</span><br><span class="line"></span><br><span class="line">        int result &#x3D; userMapper.deleteById(5L);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<p>==æµ‹è¯•åå‘ç°ï¼Œæ•°æ®å¹¶æ²¡æœ‰è¢«åˆ é™¤ï¼Œdeletedå­—æ®µçš„å€¼ç”±0å˜æˆäº†1<br>æµ‹è¯•ååˆ†ææ‰“å°çš„sqlè¯­å¥ï¼Œæ˜¯ä¸€æ¡update<br>æ³¨æ„ï¼šè¢«åˆ é™¤æ•°æ®çš„deleted å­—æ®µçš„å€¼å¿…é¡»æ˜¯ 0ï¼Œæ‰èƒ½è¢«é€‰å–å‡ºæ¥æ‰§è¡Œé€»è¾‘åˆ é™¤çš„æ“ä½œ==  </p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/4.png" class="" title="[Mybatis-pluså®æˆ˜-4]">  
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/5.jpg" class="" title="[Mybatis-pluså®æˆ˜-4]">  

<p>é€»è¾‘æŸ¥è¯¢æµ‹è¯•ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">     * æµ‹è¯• é€»è¾‘åˆ é™¤åçš„æŸ¥è¯¢ï¼š</span><br><span class="line">     * ä¸åŒ…æ‹¬è¢«é€»è¾‘åˆ é™¤çš„è®°å½•</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testLogicDeleteSelect() &#123;</span><br><span class="line">        User user &#x3D; new User();</span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(null);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æŸ¥è¯¢å°†ä¸ä¼šå¸¦æœ‰é€»è¾‘åˆ é™¤åçš„ç»“æœ  </p>
<img src="/2020/01/30/Mybatis-plus%E5%AE%9E%E6%88%98-4/6.png" class="" title="[Mybatis-pluså®æˆ˜-4]">  




]]></content>
      <categories>
        <category>MyBatis-plus</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
        <tag>MyBatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis-pluså®æˆ˜-3</title>
    <url>/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/</url>
    <content><![CDATA[<p>1.Select<br>1.1æ ¹æ®idæŸ¥è¯¢è®°å½•ï¼š  </p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void testSelectById()&#123;</span><br><span class="line"></span><br><span class="line">    User user &#x3D; userMapper.selectById(1L);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/1.png" class="" title="[Mybatis-pluså®æˆ˜-3]">  
<p>1.2æ ¹æ®å¤šä¸ªidæŸ¥è¯¢è®°å½•ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testSelectBatchIds()&#123;&#x2F;&#x2F;å¤šä¸ªidæŸ¥è¯¢</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectBatchIds(Arrays.asList(1, 2, 3));</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/2.png" class="" title="[Mybatis-pluså®æˆ˜-3]">  
<p>1.3 ä½¿ç”¨mapè¿›è¡Œæ¡ä»¶æŸ¥è¯¢  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testSelectByMap()&#123;&#x2F;&#x2F;ä½¿ç”¨mapå°è£…æŸ¥è¯¢æ¡ä»¶</span><br><span class="line"></span><br><span class="line">        HashMap&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">        map.put(&quot;name&quot;, &quot;Helen&quot;);</span><br><span class="line">        map.put(&quot;age&quot;, 18);</span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectByMap(map);</span><br><span class="line"></span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/3.png" class="" title="[Mybatis-pluså®æˆ˜-3]">  
<blockquote>
<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šmapä¸­çš„keyå¯¹åº”==æ•°æ®åº“ä¸­çš„åˆ—å==ã€‚å¦‚ï¼šæ•°æ®åº“user_idï¼Œå®ä½“ç±»æ˜¯userIdï¼Œè¿™æ—¶mapçš„keyéœ€è¦å¡«å†™user_id</p>
</blockquote>
<p>ä½¿ç”¨mapè¿›è¡Œæ¡ä»¶æŸ¥è¯¢çš„<strong>ç¼ºç‚¹</strong>ï¼šåªèƒ½ç²¾ç¡®åŒ¹é…ï¼Œæ— æ³•æŸ¥è¯¢å¤§äºå°äºç­‰ç­‰ã€‚</p>
<p>1.4 åˆ†é¡µæ’ä»¶<br>MyBatis Plusè‡ªå¸¦åˆ†é¡µæ’ä»¶ï¼Œåªè¦ç®€å•çš„é…ç½®å³å¯å®ç°åˆ†é¡µåŠŸèƒ½<br>åœ¨MyBatisPlusConfigä¸­æ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Bean</span><br><span class="line">    public PaginationInterceptor paginationInterceptor() &#123;</span><br><span class="line">        return new PaginationInterceptor();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºåˆ†é¡µæµ‹è¯•ï¼Œå…¶æœ€ç»ˆé€šè¿‡pageå¯¹è±¡è·å–ç›¸å…³æ•°æ®ï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testSelectPage() &#123;</span><br><span class="line"></span><br><span class="line">        Page&lt;User&gt; page &#x3D; new Page&lt;&gt;(1,5);&#x2F;&#x2F;ç¬¬ä¸€ä¸ªå‚æ•°:é¡µç ï¼Œç¬¬äºŒä¸ªå‚æ•°:æ¯é¡µçš„æ•°é‡</span><br><span class="line">        userMapper.selectPage(page, null);</span><br><span class="line"></span><br><span class="line">        page.getRecords().forEach(System.out::println);</span><br><span class="line">        System.out.println(page.getCurrent());&#x2F;&#x2F;å½“å‰é¡µç </span><br><span class="line">        System.out.println(page.getPages());&#x2F;&#x2F;æ€»é¡µæ•°</span><br><span class="line">        System.out.println(page.getSize());&#x2F;&#x2F;æ¯é¡µè®°å½•æ•°</span><br><span class="line">        System.out.println(page.getTotal());&#x2F;&#x2F;æ€»è®°å½•æ•°</span><br><span class="line">        System.out.println(page.hasNext());&#x2F;&#x2F;æ˜¯å¦æœ‰ä¸‹ä¸€é¡µå†…å®¹</span><br><span class="line">        System.out.println(page.hasPrevious());&#x2F;&#x2F;æ˜¯å¦æœ‰ä¸Šé¡µå†…å®¹</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š  </p>
<img src="/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/4.png" class="" title="[Mybatis-pluså®æˆ˜-3]">  
<p>1.5 åˆ†é¡µä½¿ç”¨map</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testSelectMapsPage() &#123;&#x2F;&#x2F;ç»“æœé›†æ˜¯Map</span><br><span class="line"></span><br><span class="line">        Page&lt;User&gt; page &#x3D; new Page&lt;&gt;(1, 5);</span><br><span class="line"></span><br><span class="line">        IPage&lt;Map&lt;String, Object&gt;&gt; mapIPage &#x3D; userMapper.selectMapsPage(page, null);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;æ³¨æ„ï¼šæ­¤è¡Œå¿…é¡»ä½¿ç”¨ mapIPage è·å–è®°å½•åˆ—è¡¨ï¼Œå¦åˆ™ä¼šæœ‰æ•°æ®ç±»å‹è½¬æ¢é”™è¯¯</span><br><span class="line">        mapIPage.getRecords().forEach(System.out::println);</span><br><span class="line">        System.out.println(page.getCurrent());</span><br><span class="line">        System.out.println(page.getPages());</span><br><span class="line">        System.out.println(page.getSize());</span><br><span class="line">        System.out.println(page.getTotal());</span><br><span class="line">        System.out.println(page.hasNext());</span><br><span class="line">        System.out.println(page.hasPrevious());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><strong>1.6ä½¿ç”¨æ¡ä»¶æ„é€ å™¨è¿›è¡ŒæŸ¥è¯¢</strong><br>1.6.1 wrapperä»‹ç»  </p>
<img src="/2020/01/29/Mybatis-plus%E5%AE%9E%E6%88%98-3/5.png" class="" title="[Mybatis-pluså®æˆ˜-3]">  
<p>åˆ›å»ºä¸€ä¸ªæ–°çš„æµ‹è¯•ç±»ç”¨äºæµ‹è¯•12ç§wrapperæŸ¥è¯¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class QueryWrapperTests &#123;</span><br><span class="line">    </span><br><span class="line">    @Autowired</span><br><span class="line">    private UserMapper userMapper;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>1.6.2 12ç§å¸¸è§è¯­å¥(ä½¿ç”¨æ—¶å­—æ®µå‡ä¸ºæ•°æ®åº“å†…å­—æ®µ)ï¼š<br>1.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    ge:greater and equals å¤§äºç­‰äº</span><br><span class="line">    gt:greater than å¤§äº</span><br><span class="line">    le:less and equals å°äºç­‰äº</span><br><span class="line">    lt:less than å°äº</span><br><span class="line">    isNull: ä¸ºç©º</span><br><span class="line">    isNotNullï¼šä¸ä¸ºç©º</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testDelete() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper</span><br><span class="line">                .isNull(&quot;name&quot;)</span><br><span class="line">                .ge(&quot;age&quot;, 12)</span><br><span class="line">                .isNotNull(&quot;email&quot;);</span><br><span class="line">        int result &#x3D; userMapper.delete(queryWrapper);</span><br><span class="line">        System.out.println(&quot;delete return count &#x3D; &quot; + result);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>2.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    eq:equals ç­‰äº</span><br><span class="line">    ne:not equals ä¸ç­‰äº</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectOne() &#123;&#x2F;&#x2F;åªèƒ½æŸ¥è¯¢ä¸€æ¡è®°å½•ï¼Œå¤šäºä¸€æ¡ä¾¿æŠ¥é”™</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper.eq(&quot;name&quot;, &quot;Tom&quot;);</span><br><span class="line"></span><br><span class="line">        User user &#x3D; userMapper.selectOne(queryWrapper);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    between: åŒ…æ‹¬</span><br><span class="line">    notBetween ï¼šä¸åŒ…æ‹¬</span><br><span class="line">     *&#x2F;</span><br><span class="line">@Test</span><br><span class="line">    public void testSelectCount() &#123;&#x2F;&#x2F;åŒ…æ‹¬å¤§å°è¾¹ç•Œï¼Œå³å¯ä»¥å–åˆ°20å’Œ30</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper.between(&quot;age&quot;, 20, 30);</span><br><span class="line"></span><br><span class="line">        Integer count &#x3D; userMapper.selectCount(queryWrapper);</span><br><span class="line">        System.out.println(count);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li></li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;allEq: æ‰€æœ‰æ¡ä»¶éƒ½æ˜¯ç­‰äºçš„</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectList() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        Map&lt;String, Object&gt; map &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">        map.put(&quot;id&quot;, 2);</span><br><span class="line">        map.put(&quot;name&quot;, &quot;Jack&quot;);</span><br><span class="line">        map.put(&quot;age&quot;, 20);</span><br><span class="line"></span><br><span class="line">        queryWrapper.allEq(map);</span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(queryWrapper);</span><br><span class="line"></span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>5.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    like: åŒ…å«</span><br><span class="line">    notLike: ä¸åŒ…å«</span><br><span class="line">    likeLeft: è¿™ä¸ªvalå·¦è¾¹æ¨¡ç³ŠåŒ¹é…(%val)</span><br><span class="line">    likeRight: è¿™ä¸ªvalå³é¢æ¨¡ç³ŠåŒ¹é…(val%)</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectMaps() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper</span><br><span class="line">                .notLike(&quot;name&quot;, &quot;e&quot;)</span><br><span class="line">                .likeRight(&quot;email&quot;, &quot;t&quot;);</span><br><span class="line"></span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; maps &#x3D; userMapper.selectMaps(queryWrapper);&#x2F;&#x2F;è¿”å›å€¼æ˜¯Mapåˆ—è¡¨</span><br><span class="line">        maps.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>6.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    in: notIn(&quot;age&quot;,&#123;1,2,3&#125;)---&gt;age not in (1,2,3)</span><br><span class="line">    notIn: notIn(&quot;age&quot;, 1, 2, 3)---&gt;age not in (1,2,3)</span><br><span class="line">    inSql:å­æŸ¥è¯¢ä¸­åŒ…æ‹¬ ï¼šinSql(&quot;age&quot;, &quot;1,2,3,4,5,6&quot;)---&gt;age in (1,2,3,4,5,6)ï¼›inSql(&quot;id&quot;, &quot;select id from table where id &lt; 3&quot;)---&gt;id in (select id from table where id &lt; 3)</span><br><span class="line">    notinSql: å­æŸ¥è¯¢ä¸­ä¸åŒ…æ‹¬ï¼š</span><br><span class="line">    exists:</span><br><span class="line">    notExists:</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectObjs() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        &#x2F;&#x2F;queryWrapper.in(&quot;id&quot;, 1, 2, 3);</span><br><span class="line">        queryWrapper.inSql(&quot;id&quot;, &quot;select id from user where id &lt; 3&quot;);</span><br><span class="line"></span><br><span class="line">        List&lt;Object&gt; objects &#x3D; userMapper.selectObjs(queryWrapper);&#x2F;&#x2F;è¿”å›å€¼æ˜¯Objectåˆ—è¡¨</span><br><span class="line">        objects.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>7.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    ä¸è°ƒç”¨oråˆ™é»˜è®¤ä¸ºä½¿ç”¨ and ï¼Œ</span><br><span class="line">    orè¡¨ç¤ºæˆ–</span><br><span class="line">    andè¡¨ç¤ºå’Œ</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testUpdate1() &#123;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;ä¿®æ”¹å€¼</span><br><span class="line">        User user &#x3D; new User();</span><br><span class="line">        user.setAge(99);</span><br><span class="line">        user.setName(&quot;Andy&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;ä¿®æ”¹æ¡ä»¶</span><br><span class="line">        UpdateWrapper&lt;User&gt; userUpdateWrapper &#x3D; new UpdateWrapper&lt;&gt;();</span><br><span class="line">        userUpdateWrapper</span><br><span class="line">                .like(&quot;name&quot;, &quot;h&quot;)</span><br><span class="line">                .or()</span><br><span class="line">                .between(&quot;age&quot;, 20, 30);</span><br><span class="line"></span><br><span class="line">        int result &#x3D; userMapper.update(user, userUpdateWrapper);</span><br><span class="line"></span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>8.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">   ä½¿ç”¨lambdaè¡¨è¾¾å¼è¿›è¡ŒåµŒå¥—orã€åµŒå¥—andæ“ä½œï¼Œè·ŸtestUpdate1ç±»ä¼¼ï¼Œ</span><br><span class="line">   å½“éœ€è¦ç»„è£…è¾ƒä¸ºå¤æ‚çš„sqlæŸ¥è¯¢æ¡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼æå‡è¯­å¥ä¼˜å…ˆçº§ï¼Œå³å¯åšåˆ°åµŒå¥—</span><br><span class="line">    *&#x2F;</span><br><span class="line">   @Test</span><br><span class="line">   public void testUpdate2() &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;ä¿®æ”¹å€¼</span><br><span class="line">       User user &#x3D; new User();</span><br><span class="line">       user.setAge(99);</span><br><span class="line">       user.setName(&quot;Andy&quot;);</span><br><span class="line"></span><br><span class="line">       &#x2F;&#x2F;ä¿®æ”¹æ¡ä»¶</span><br><span class="line">       UpdateWrapper&lt;User&gt; userUpdateWrapper &#x3D; new UpdateWrapper&lt;&gt;();</span><br><span class="line">       userUpdateWrapper</span><br><span class="line">               .like(&quot;name&quot;, &quot;h&quot;)</span><br><span class="line">               .or(i -&gt; i.eq(&quot;name&quot;, &quot;æç™½&quot;).ne(&quot;age&quot;, 20));&#x2F;&#x2F;oré‡Œé¢æœ‰and</span><br><span class="line"></span><br><span class="line">       int result &#x3D; userMapper.update(user, userUpdateWrapper);</span><br><span class="line"></span><br><span class="line">       System.out.println(result);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>9.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">    orderBy:</span><br><span class="line">    orderByDesc:æŸ¥è¯¢ç»“æœå€’åºæ’åˆ—</span><br><span class="line">    orderByAsc:æŸ¥è¯¢ç»“æœæ­£åºæ’åˆ—</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectListOrderBy() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper.orderByDesc(&quot;id&quot;);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(queryWrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>10.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ç›´æ¥æ‹¼æ¥åˆ° sql çš„æœ€åï¼Œåªèƒ½è°ƒç”¨ä¸€æ¬¡,å¤šæ¬¡è°ƒç”¨ä»¥æœ€åä¸€æ¬¡ä¸ºå‡†ï¼Œè°¨æ…ä½¿ç”¨ï¼Œæœ‰sqlæ³¨å…¥é£é™©</span><br><span class="line">&#x2F;&#x2F;åœ¨sqlæœ€åæ·»åŠ è‡ªå®šä¹‰ä»£ç ç‰‡æ®µ</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectListLast() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper.last(&quot;limit 1&quot;);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(queryWrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>11.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;æŒ‡å®šè¦æŸ¥è¯¢çš„åˆ—,ä¸éœ€è¦å±•ç¤ºè¡¨ä¸­æ‰€æœ‰çš„åˆ—</span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectListColumn() &#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; queryWrapper &#x3D; new QueryWrapper&lt;&gt;();</span><br><span class="line">        queryWrapper.select(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(queryWrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>12.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;ä¸ºæ›´æ–°æ“ä½œæŒ‡å®šæŸ¥è¯¢æ¡ä»¶</span><br><span class="line">    @Test</span><br><span class="line">    public void testUpdateSet() &#123;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;ä¿®æ”¹å€¼</span><br><span class="line">        User user &#x3D; new User();</span><br><span class="line">        user.setAge(99);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;ä¿®æ”¹æ¡ä»¶</span><br><span class="line">        UpdateWrapper&lt;User&gt; userUpdateWrapper &#x3D; new UpdateWrapper&lt;&gt;();</span><br><span class="line">        userUpdateWrapper</span><br><span class="line">                .like(&quot;name&quot;, &quot;h&quot;)</span><br><span class="line">                .set(&quot;name&quot;, &quot;è€æå¤´&quot;)&#x2F;&#x2F;é™¤äº†å¯ä»¥æŸ¥è¯¢è¿˜å¯ä»¥ä½¿ç”¨setè®¾ç½®ä¿®æ”¹çš„å­—æ®µ</span><br><span class="line">                .setSql(&quot; email &#x3D; &#39;123@qq.com&#39;&quot;);&#x2F;&#x2F;å¯ä»¥æœ‰å­æŸ¥è¯¢</span><br><span class="line"></span><br><span class="line">        int result &#x3D; userMapper.update(user, userUpdateWrapper);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>








]]></content>
      <categories>
        <category>MyBatis-plus</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
        <tag>MyBatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis-pluså®æˆ˜-2</title>
    <url>/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/</url>
    <content><![CDATA[<p><strong>å®ç°CURDæ¥å£ï¼š</strong><br>1ã€Insert:<br>æ–°å»ºInsertæµ‹è¯•ç±»  </p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class CRUDTests &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testInsert()&#123;</span><br><span class="line"></span><br><span class="line">        User user &#x3D; new User();</span><br><span class="line">        user.setName(&quot;Helen&quot;);</span><br><span class="line">        user.setAge(18);</span><br><span class="line">        user.setEmail(&quot;55317332@qq.com&quot;);</span><br><span class="line"></span><br><span class="line">        int result &#x3D; userMapper.insert(user);</span><br><span class="line">        System.out.println(result); &#x2F;&#x2F;å½±å“çš„è¡Œæ•°</span><br><span class="line">        System.out.println(user); &#x2F;&#x2F;idè‡ªåŠ¨å›å¡«</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ’å…¥çš„idä¸º19ä½  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/1.jpg" class="" title="[mybatis-pluså®æˆ˜-2]">
<p><em>1.1ä¸»é”®ç­–ç•¥</em><br>MyBatis-Plusé»˜è®¤çš„ä¸»é”®ç­–ç•¥æ˜¯ï¼šID_WORKER  å…¨å±€å”¯ä¸€ID<br>å‚è€ƒèµ„æ–™ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿå”¯ä¸€IDç”Ÿæˆæ–¹æ¡ˆæ±‡æ€»ï¼š<a href="https://www.cnblogs.com/haoxinyue/p/5208136.html">https://www.cnblogs.com/haoxinyue/p/5208136.html</a><br><em>1.2è‡ªå¢ç­–ç•¥</em><br>å®ç°ä¸»é”®è‡ªå¢ï¼Œè¦è¿›è¡Œå¦‚ä¸‹é…ç½®  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/2.png" class="" title="[mybatis-pluså®æˆ˜-2]">
<p>å¦‚æœæƒ³è¦æƒ³å½±å“æ‰€æœ‰å®ä½“çš„é…ç½®ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€ä¸»é”®é…ç½®  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å…¨å±€è®¾ç½®ä¸»é”®ç”Ÿæˆç­–ç•¥</span><br><span class="line">mybatis-plus.global-config.db-config.id-type&#x3D;auto</span><br></pre></td></tr></table></figure>

<p>ä¸»é”®é…ç½®çš„å…¶ä»–ç±»å‹(é€šè¿‡æºç å¯å¾—)ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Getter</span><br><span class="line">public enum IdType &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * æ•°æ®åº“IDè‡ªå¢</span><br><span class="line">     *&#x2F;</span><br><span class="line">    AUTO(0),</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * è¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹</span><br><span class="line">     *&#x2F;</span><br><span class="line">    NONE(1),</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * ç”¨æˆ·è¾“å…¥ID</span><br><span class="line">     * è¯¥ç±»å‹å¯ä»¥é€šè¿‡è‡ªå·±æ³¨å†Œè‡ªåŠ¨å¡«å……æ’ä»¶è¿›è¡Œå¡«å……</span><br><span class="line">     *&#x2F;</span><br><span class="line">    INPUT(2),</span><br><span class="line"></span><br><span class="line">    &#x2F;* ä»¥ä¸‹3ç§ç±»å‹ã€åªæœ‰å½“æ’å…¥å¯¹è±¡ID ä¸ºç©ºï¼Œæ‰è‡ªåŠ¨å¡«å……ã€‚ *&#x2F;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å…¨å±€å”¯ä¸€ID (idWorker)</span><br><span class="line">     *&#x2F;</span><br><span class="line">    ID_WORKER(3),</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å…¨å±€å”¯ä¸€ID (UUID)</span><br><span class="line">     *&#x2F;</span><br><span class="line">    UUID(4),</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * å­—ç¬¦ä¸²å…¨å±€å”¯ä¸€ID (idWorker çš„å­—ç¬¦ä¸²è¡¨ç¤º)</span><br><span class="line">     *&#x2F;</span><br><span class="line">    ID_WORKER_STR(5);</span><br><span class="line"></span><br><span class="line">    private int key;</span><br><span class="line"></span><br><span class="line">    IdType(int key) &#123;</span><br><span class="line">        this.key &#x3D; key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.Update<br><em>2.1ç¼–å†™Updateæµ‹è¯•ç±»â€“æ­¤æ—¶æ˜¯æ ¹æ®idè¿›è¡Œæ›´æ–°</em></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Test</span><br><span class="line">    public void testUpdate() &#123;</span><br><span class="line">        User user &#x3D; new User();</span><br><span class="line">        user.setId(1222451509303422980L);&#x2F;&#x2F;è®¾ç½®è¦ä¿®æ”¹çš„id</span><br><span class="line"></span><br><span class="line">        user.setEmail(&quot;text@mail.com&quot;);&#x2F;&#x2F;è®¾ç½®è¦ä¿®æ”¹çš„å†…å®¹</span><br><span class="line">        int result &#x3D; userMapper.updateById(user);&#x2F;&#x2F;resultä¸ºå½±å“çš„è¡Œæ•°ï¼Œä¼ entityç±»å‹å‚æ•°å³user</span><br><span class="line">        System.out.println(result);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p><em>2.2è‡ªåŠ¨å¡«å……</em><br>ä¾‹å¦‚åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´ï¼Œè¿™æ˜¯æ¯ä¸ªè¡¨å¿…é¡»æœ‰çš„ï¼Œä½†ä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¡«å……ï¼Œåº”é…ç½®å¹¶æ ¹æ®å½“æ—¶çš„æ—¶é—´è‡ªåŠ¨å¡«å……ã€‚<br>ä¸ºå®ä½“é…ç½®ï¼š  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/3.png" class="" title="[mybatis-pluså®æˆ˜-2]">
<p>ç›¸å…³çš„ç±»å‹å¦‚ä¸‹æ‰€ç¤ºï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public enum FieldFill &#123;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * é»˜è®¤ä¸å¤„ç†</span><br><span class="line">     *&#x2F;</span><br><span class="line">    DEFAULT,</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * æ’å…¥å¡«å……å­—æ®µ</span><br><span class="line">     *&#x2F;</span><br><span class="line">    INSERT,</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * æ›´æ–°å¡«å……å­—æ®µ</span><br><span class="line">     *&#x2F;</span><br><span class="line">    UPDATE,</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * æ’å…¥å’Œæ›´æ–°å¡«å……å­—æ®µ</span><br><span class="line">     *&#x2F;</span><br><span class="line">    INSERT_UPDATE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨åŒ…ä¸‹åˆ›å»ºHandleræ–‡ä»¶å¤¹å¹¶åˆ›å»ºMyMetaObjectHandlerç±»ç»§æ‰¿MetaObjectHandlerï¼Œé‡å†™å…¶ä¸¤ä¸ªæ–¹æ³•insertFillå’ŒupdateFill  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Component &#x2F;&#x2F;å¿…é¡»è¦å†™</span><br><span class="line">public class MyMetaObjectHandler implements MetaObjectHandler &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void insertFill(MetaObject metaObject) &#123;&#x2F;&#x2F;æ’å…¥æ—¶è‡ªåŠ¨å¡«å……</span><br><span class="line">        System.out.println(&quot;æ’å…¥æ—¶è‡ªåŠ¨å¡«å……ï¼š-------&quot;);</span><br><span class="line">        this.setFieldValByName(&quot;createTime&quot;, new Date(), metaObject);&#x2F;&#x2F;ç¬¬ä¸€ä¸ªå­—æ®µå¿…é¡»æ˜¯entityä¸­çš„fieldNameï¼Œå¹¶ä¸”ç¬¬äºŒä¸ªå­—æ®µå¿…é¡»ä¸ç¬¬ä¸€ä¸ªå­—æ®µçš„ç±»å‹ä¸€æ ·</span><br><span class="line">        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void updateFill(MetaObject metaObject) &#123;&#x2F;&#x2F;æ›´æ–°æ—¶è‡ªåŠ¨å¡«å……</span><br><span class="line">        System.out.println(&quot;æ›´æ–°æ—¶è‡ªåŠ¨å¡«å……ï¼š-------&quot;);</span><br><span class="line">        this.setFieldValByName(&quot;updateTime&quot;, new Date(), metaObject);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ†åˆ«ä½¿ç”¨ä¹‹å‰çš„InsertTestå’ŒUpdateTestæµ‹è¯•ï¼Œå‘ç°æˆåŠŸ  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/4.jpg" class="" title="[mybatis-pluså®æˆ˜-2]">

<hr>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/5.jpg" class="" title="[mybatis-pluså®æˆ˜-2]">
<p><em>2.3ä¹è§‚é”</em>  </p>
<blockquote>
<p>ä¸»è¦é€‚ç”¨åœºæ™¯ï¼šå½“è¦æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¸Œæœ›è¿™æ¡è®°å½•æ²¡æœ‰è¢«åˆ«äººæ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´å®ç°çº¿ç¨‹å®‰å…¨çš„æ•°æ®æ›´æ–°ã€‚åˆ†ä¸ºå››ä¸ªæ­¥éª¤ï¼š<br>1.å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰versionï¼šå‡è®¾å–å‡ºçš„version=1<br>2.æ›´æ–°æ—¶ï¼Œå¸¦ä¸Šè¿™ä¸ªversion<br>3.æ‰§è¡Œæ›´æ–°æ—¶ï¼Œ set version = newVersion where version = oldVersion<br>4.å¦‚æœversionä¸å¯¹ï¼Œå°±æ›´æ–°å¤±è´¥</p>
</blockquote>
<p>åœ¨æ•°æ®åº“ä¸­æ–°å»ºversionå­—æ®µï¼Œç±»å‹ä¸ºintï¼Œé»˜è®¤å€¼æ˜¯0  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/6.jpg" class="" title="[mybatis-pluså®æˆ˜-2]">
<p>åœ¨Userç±»ä¸­æ–°åŠ å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Version</span><br><span class="line">    private Integer version;</span><br></pre></td></tr></table></figure>

<p>åœ¨åŒ…ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹configï¼Œé‡Œé¢å»ºä¸€ä¸ªç±»MyBatisPlusConfigå¹¶é…ç½®ä¹è§‚é”æ’ä»¶  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@EnableTransactionManagement</span><br><span class="line">@Configuration</span><br><span class="line">@MapperScan(&quot;com.atguigu.mybatisplus.mapper&quot;)</span><br><span class="line">public class MyBatisPlusConfig &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public OptimisticLockerInterceptor optimisticLockerInterceptor() &#123;</span><br><span class="line">        return new OptimisticLockerInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¹è§‚é”çš„æµ‹è¯•  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line">     * æµ‹è¯• ä¹è§‚é”æ’ä»¶</span><br><span class="line">     *&#x2F;</span><br><span class="line">    @Test</span><br><span class="line">    public void testOptimisticLocker() &#123;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;å¿…é¡»è¦å…ˆæŸ¥è¯¢ï¼Œç”¨äºè·å–versionçš„å€¼</span><br><span class="line">        User user &#x3D; userMapper.selectById(1222451509303422980L);</span><br><span class="line">        &#x2F;&#x2F;ä¿®æ”¹æ•°æ®</span><br><span class="line">        user.setName(&quot;Helen Yao&quot;);</span><br><span class="line">        user.setEmail(&quot;helen@qq.com&quot;);</span><br><span class="line">        &#x2F;&#x2F;æ‰§è¡Œæ›´æ–°</span><br><span class="line">        userMapper.updateById(user);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ç»“æœï¼š  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/7.png" class="" title="[mybatis-pluså®æˆ˜-2]">
<p>ä¸€å…±æ‰§è¡Œä¸¤ä¸ªsqlè¯­å¥ï¼Œæ³¨æ„ç¬¬äºŒä¸ªsqlè¯­å¥ï¼Œåé¢çš„æ¡ä»¶ä¸å…‰æ˜¯idæ˜¯å¦ç­‰äºidï¼Œè€Œä¸”versionæ˜¯å¦ç­‰äºoldversion<br>æ•°æ®åº“å†…ï¼š  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-2/8.jpg" class="" title="[mybatis-pluså®æˆ˜-2]">
<p>versionä»¥åŠ ä¸€</p>
]]></content>
      <categories>
        <category>MyBatis-plus</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
        <tag>MyBatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis-pluså®æˆ˜-1</title>
    <url>/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-1/</url>
    <content><![CDATA[<p><strong>1ã€åˆ›å»ºæ•°æ®åº“</strong><br>mybatis_plus  </p>
<a id="more"></a>
<p><strong>2.åˆ›å»ºUserè¡¨</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP TABLE IF EXISTS user;</span><br><span class="line"></span><br><span class="line">CREATE TABLE user</span><br><span class="line">(</span><br><span class="line">	id BIGINT(20) NOT NULL COMMENT &#39;ä¸»é”®ID&#39;,</span><br><span class="line">	name VARCHAR(30) NULL DEFAULT NULL COMMENT &#39;å§“å&#39;,</span><br><span class="line">	age INT(11) NULL DEFAULT NULL COMMENT &#39;å¹´é¾„&#39;,</span><br><span class="line">	email VARCHAR(50) NULL DEFAULT NULL COMMENT &#39;é‚®ç®±&#39;,</span><br><span class="line">	PRIMARY KEY (id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>æ’å…¥æ•°æ®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DELETE FROM user;</span><br><span class="line"></span><br><span class="line">INSERT INTO user (id, name, age, email) VALUES</span><br><span class="line">(1, &#39;Jone&#39;, 18, &#39;test1@baomidou.com&#39;),</span><br><span class="line">(2, &#39;Jack&#39;, 20, &#39;test2@baomidou.com&#39;),</span><br><span class="line">(3, &#39;Tom&#39;, 28, &#39;test3@baomidou.com&#39;),</span><br><span class="line">(4, &#39;Sandy&#39;, 21, &#39;test4@baomidou.com&#39;),</span><br><span class="line">(5, &#39;Billie&#39;, 24, &#39;test5@baomidou.com&#39;);</span><br></pre></td></tr></table></figure>

<p>æœ€åçš„è¡¨ç»“æ„å¦‚ä¸‹ï¼š  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-1/1.png" class="" title="[mybatis-pluså®æˆ˜-1]">
<p><strong>3ã€ä½¿ç”¨ Spring Initializr å¿«é€Ÿåˆå§‹åŒ–ä¸€ä¸ª Spring Boot å·¥ç¨‹</strong><br>==Groupï¼šcom.atguigu<br>Artifactï¼šmybatis_plus<br>ç‰ˆæœ¬ï¼š2.0.7.RELEASE==<br>å¼•å…¥ä¸‰ä¸ªæ–°ä¾èµ–ï¼š<br>mybatis-plus-boot-starterã€MySQLã€lombok  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--mybatis-plus--&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;com.baomidou&lt;&#x2F;groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mybatis-plus-boot-starter&lt;&#x2F;artifactId&gt;</span><br><span class="line">			&lt;version&gt;3.0.5&lt;&#x2F;version&gt;</span><br><span class="line">		&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">		&lt;!--mysql--&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;</span><br><span class="line">		&lt;&#x2F;dependency&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!--lombokç”¨æ¥ç®€åŒ–å®ä½“ç±»--&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">			&lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;</span><br><span class="line">			&lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;</span><br><span class="line">		&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ«å¿˜ä¸‹è½½lombokæ’ä»¶ã€‚<br><strong>4ã€é…ç½®</strong>  </p>
<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-1/2.png" class="" title="[mybatis-pluså®æˆ˜-1]">  
<p><strong>5ã€ç¼–å†™</strong><br>æ–°å»ºentityæ–‡ä»¶å¤¹åæ–°å»ºUserç±»  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Data</span><br><span class="line">public class User &#123;</span><br><span class="line">    private Long id;</span><br><span class="line">    private String name;</span><br><span class="line">    private Integer age;</span><br><span class="line">    private String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºmapperæ–‡ä»¶å¤¹åæ–°å»ºUserMapperæ¥å£  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public interface UserMapper extends BaseMapper&lt;User&gt; &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ MapperScanæ³¨è§£ï¼Œæ–‡ä»¶å¤¹å°±æ˜¯ä¸Šé¢åˆ›å»ºçš„æ–‡ä»¶å¤¹ç›®å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">@MapperScan(&quot;com.atguigu.mybatisplus.mapper&quot;)</span><br><span class="line">public class MybatisPlusApplication &#123;</span><br><span class="line">	......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>6ã€æµ‹è¯•</strong>  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest</span><br><span class="line">public class MybatisPlusApplicationTests &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    @Test</span><br><span class="line">    public void testSelectList() &#123;</span><br><span class="line">        System.out.println((&quot;----- selectAll method test ------&quot;));</span><br><span class="line">        &#x2F;&#x2F;UserMapper ä¸­çš„ selectList() æ–¹æ³•çš„å‚æ•°ä¸º MP å†…ç½®çš„æ¡ä»¶å°è£…å™¨ Wrapper</span><br><span class="line">        &#x2F;&#x2F;æ‰€ä»¥ä¸å¡«å†™å°±æ˜¯æ— ä»»ä½•æ¡ä»¶</span><br><span class="line">        List&lt;User&gt; users &#x3D; userMapper.selectList(null);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2020/01/29/mybatis-plus%E5%AE%9E%E6%88%98-1/3.png" class="" title="[mybatis-pluså®æˆ˜-1]">  
<p>æˆåŠŸ!</p>
]]></content>
      <categories>
        <category>MyBatis-plus</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
        <tag>MyBatis-plus</tag>
      </tags>
  </entry>
  <entry>
    <title>Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…-2</title>
    <url>/2020/01/28/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85-2/</url>
    <content><![CDATA[<p>ç»§ç»­ä¸ŠèŠ‚å†…å®¹ï¼š  </p>
<a id="more"></a>  
<p>2.å®¹çº³ä½ çš„Bean<br>2.1 ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡  </p>
<img src="/2020/01/28/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85-2/1.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…-2]">   
<p>åœ¨åŸºäºSpringçš„åº”ç”¨ä¸­ï¼Œåº”ç”¨å¯¹è±¡ç”Ÿå­˜äºSpringå®¹å™¨ä¸­ï¼Œä¸”å®¹å™¨è´Ÿè´£åˆ›å»ºå¯¹è±¡ï¼Œè£…è½½å®ƒä»¬ï¼Œé…ç½®å®ƒä»¬å¹¶ç®¡ç†æ•´ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œä»ç”Ÿå­˜åˆ°æ­»äº¡ã€‚<br>Springå®¹å™¨æœ‰å¤šä¸ªå®¹å™¨å®ç°ï¼š<br>==beanå·¥å‚==å’Œ==åº”ç”¨ä¸Šä¸‹æ–‡==ï¼Œbeanå·¥å‚å¯¹å¤§å¤šæ•°ä¼ä¸šçº§å¼€å‘å¤ªä½çº§ï¼Œæ‰€ä»¥ä¸»è¦è®¨è®ºåº”ç”¨ä¸Šä¸‹æ–‡ã€‚<br>ä¸‹åˆ—æ˜¯å¯èƒ½ç”¨å¾—åˆ°çš„åº”ç”¨ä¸Šä¸‹æ–‡ï¼š  </p>
<img src="/2020/01/28/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85-2/2.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…-2]">   
<p>å¯ä»¥ä½¿ç”¨ä¸Šè¿°æ–¹æ³•åŠ è½½beanã€‚ä¸”ä¸Šä¸‹æ–‡å‡†å¤‡å°±ç»ªåï¼Œå¯ä»¥è°ƒç”¨ä¸Šä¸‹æ–‡çš„getBean()æ–¹æ³•ä»Springå®¹å™¨ä¸­è·å–beanã€‚<br>2.2 beançš„ç”Ÿå‘½å‘¨æœŸ<br>åœ¨ä¼ ç»Ÿçš„Javaåº”ç”¨ä¸­ï¼Œbeançš„ç”Ÿå‘½å‘¨æœŸå¾ˆç®€å•ã€‚ä½¿ç”¨Javaå…³é”®å­—newè¿›è¡Œbeanå®ä¾‹åŒ–ï¼Œç„¶åè¯¥beanå°±å¯ä»¥ä½¿ç”¨äº†ã€‚ä¸€æ—¦è¯¥beanä¸å†è¢«ä½¿ç”¨ï¼Œ åˆ™ç”±Javaè‡ªåŠ¨è¿›è¡Œåƒåœ¾å›æ”¶ã€‚ è€ŒSpringå®¹å™¨ä¸­çš„beançš„ç”Ÿå‘½å‘¨æœŸç›¸å¯¹å¤æ‚ï¼Œå¤§ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  </p>
<img src="/2020/01/28/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85-2/3.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…-2]">   
<p>3.ä¿¯ç°Springé£æ™¯çº¿  </p>
<img src="/2020/01/28/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85-2/4.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…-2]">   
<p>4.Springæ–°åŠŸèƒ½<br>æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå› ä¸ºä¹‹å‰å‡ ä¸ªç‰ˆæœ¬æˆ‘ä¹Ÿæ²¡å­¦è¿‡ï¼Œä»Spring 4.0å¼€å§‹ç®—èµ·ã€‚<br>5.å°ç»“<br>Springè‡´åŠ›äºç®€åŒ–ä¼ä¸šçº§Javaå¼€å‘ï¼Œä¿ƒè¿›ä»£ç çš„æ¾æ•£è€¦åˆã€‚==æˆåŠŸçš„å…³é”®åœ¨äºä¾èµ–æ³¨å…¥å’ŒAOP==ã€‚DIæ˜¯ç»„è£…åº”ç”¨å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œ==å€ŸåŠ©è¿™ç§æ–¹å¼å¯¹è±¡æ— éœ€çŸ¥é“ä¾èµ–æ¥è‡ªä½•å¤„æˆ–è€…ä¾èµ–çš„å®ç°æ–¹å¼==ã€‚ä¸åŒäºè‡ªå·±è·å–ä¾èµ–å¯¹è±¡ï¼Œå¯¹è±¡ä¼šåœ¨è¿è¡ŒæœŸèµ‹äºˆå®ƒä»¬æ‰€ä¾èµ–çš„å¯¹è±¡ã€‚ä¾èµ–å¯¹è±¡é€šå¸¸ä¼šé€šè¿‡æ¥å£äº†è§£æ‰€æ³¨å…¥çš„å¯¹è±¡ï¼Œè¿™æ ·çš„è¯å°±èƒ½ç¡®ä¿ä½è€¦åˆã€‚<br>é™¤äº†DIï¼Œæˆ‘ä»¬è¿˜ç®€å•ä»‹ç»äº†Springå¯¹AOPçš„æ”¯æŒã€‚AOPå¯ä»¥å¸®åŠ©åº”ç”¨å°†æ•£è½åœ¨å„å¤„çš„é€»è¾‘æ±‡é›†äºä¸€å¤„â€”â€”åˆ‡é¢ã€‚å½“Springè£…é…beançš„æ—¶å€™ï¼Œè¿™äº›åˆ‡é¢èƒ½å¤Ÿåœ¨è¿è¡ŒæœŸç¼–ç»‡èµ·æ¥ï¼Œè¿™æ ·å°±èƒ½éå¸¸æœ‰æ•ˆåœ°èµ‹äºˆbeanæ–°çš„è¡Œä¸ºã€‚==DIå’ŒAOPæ˜¯Springæ¡†æ¶æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚==</p>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…</title>
    <url>/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/</url>
    <content><![CDATA[<p><strong><em>Springä¹‹æ—…</em></strong><br>Springæ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œç”¨äºç®€åŒ–Javaä¼ä¸šçº§åº”ç”¨å¼€å‘ï¼Œå¹¶ä¸”å¯ä»¥ä½¿JAVAåº”ç”¨å˜å¾—ç®€å•ï¼Œå¯æµ‹è¯•å’Œæ¾è€¦åˆã€‚  </p>
<a id="more"></a>  
<p>æœ¬ç« å†…å®¹ï¼š<br>1.æ¿€å‘POJOçš„æ½œèƒ½<br>1.1 Springå¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥ä½¿å¾—æ™®é€šçš„ç±»å˜æˆSpringç»„ä»¶ã€‚  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/1.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>DamselRescuingKnightåœ¨æ„é€ å‡½æ•°ä¸­è‡ªè¡Œåˆ›å»ºäº†RescueDamselQuestç±»ï¼Œ==è¿™ä½¿å¾—ä¸¤ä¸ªç±»è€¦åˆåˆ°äº†ä¸€èµ·==ï¼Œè¿™æ ·å¦‚æœDamselRescuingKnightæƒ³è¦ä¿®æ”¹åŠŸèƒ½æ—¶RescueDamselQuestä¹Ÿéœ€è¦æ”¹å˜ï¼Œå¹¶ä¸”ä¸ºå…¶ç¼–å†™å•å…ƒæµ‹è¯•éå¸¸å›°éš¾ã€‚  </p>
<blockquote>
<p>è€¦åˆå…·æœ‰ä¸¤é¢æ€§ï¼šä¸€æ–¹é¢ï¼Œç´§å¯†è€¦åˆçš„ä»£ç éš¾ä»¥æµ‹è¯•ï¼Œéš¾ä»¥æœç”¨ï¼Œéš¾ä»¥ç†è§£ï¼Œå¹¶ä¸”è¡¨ç°å‡ºæ‰“åœ°é¼ å¼bugç‰¹æ€§(ä¿®ä¸€ä¸ªåˆå‡ºä¸€ä¸ª)ï¼›å¦ä¸€æ–¹é¢ï¼Œä¸€å®šç¨‹åº¦çš„è€¦åˆæ˜¯å¿…é¡»çš„ï¼Œåªè¦å¯¹äºä¸¤ä¸ªç±»æƒ³è¦äº¤äº’ï¼Œå¿…é¡»å°±æœ‰è€¦åˆã€‚</p>
</blockquote>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/2.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/3.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>é€šè¿‡ä¾èµ–æ³¨å…¥ï¼Œå¯¹è±¡çš„ä¾èµ–å…³ç³»å°†ç”±ç³»ç»Ÿä¸­è´Ÿè´£åè°ƒä¸ªå¯¹è±¡çš„ç¬¬ä¸‰æ–¹ç»„ä»¶åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è¿›è¡Œè®¾å®šã€‚å¯¹è±¡æ— éœ€è‡ªè¡Œåˆ›å»ºæˆ–ç®¡ç†ä»–ä»¬çš„ä¾èµ–å…³ç³»ï¼Œä¾èµ–å…³ç³»å¥–æ¯è‡ªåŠ¨æ³¨å…¥åˆ°éœ€è¦å®ƒä»¬çš„å¯¹è±¡å½“ä¸­å»ã€‚</p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/4.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>è¿™ä¸€æ¬¡BraveKnightæ²¡æœ‰è‡ªè¡Œåˆ›å»ºä»»åŠ¡ï¼Œè€Œæ˜¯åœ¨æ„é€ å‡½æ•°ä¸­ä¼ å…¥å‚æ•°æ¥è§„å®šå…¶ä»»åŠ¡æ˜¯ä»€ä¹ˆ(Questå°±æ˜¯ä»»åŠ¡),è¿™æ˜¯ä¾èµ–æ³¨å…¥çš„æ–¹å¼ä¹‹ä¸€ï¼Œå³æ„é€ å™¨æ³¨å…¥(Constructor Injection)  </p>
<blockquote>
<p>è¿™ç§å½¢å¼ï¼Œå¤§å¤§é™ä½è€¦åˆåº¦ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡é€šè¿‡æ¥å£æ¥è¡¨æ˜ä¾èµ–å…³ç³»ï¼Œé‚£ä¹ˆè¿™ç§ä¾èµ–å°±èƒ½åœ¨å¯¹è±¡ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ç”¨ä¸åŒçš„å…·ä½“å®ç°è¿›è¡Œæ›¿æ¢ã€‚  </p>
</blockquote>
<p>ç”±ä¸Šé¢çš„ç±»ï¼Œå®ƒç°åœ¨å¯ä»¥æ¥å—ä»»ä½•æˆ‘ä¼ é€’ç»™ä»–çš„Questçš„å®ç°ï¼Œä¸‹é¢æ˜¯æŠŠç‰¹å®šçš„Questä¼ é€ç»™å®ƒçš„åŠæ³•:  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/5.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>SlayDragonQuestæ˜¯è¦æ³¨å…¥åˆ°BraveKnightçš„ç‰¹å®šQuestå®ç°ï¼Œå®ƒå®ç°äº†Questæ¥å£ï¼Œå‡†å¤‡æ³¨å…¥åˆ°BraveKnightã€‚<br>åˆ›å»ºåº”ç”¨ç»„ä»¶ä¹‹é—´åä½œçš„è¡Œä¸ºé€šå¸¸ç§°ä¸ºè£…é…(wiring)ï¼ŒSpringæœ‰å¤šé‡è£…å¤‡beançš„æ–¹å¼ï¼ŒXMLæ˜¯å…¶ä¸­ä¸€ç§ä¹Ÿæ˜¯æœ€å¸¸è§çš„ä¸€ç§ï¼Œä½¿ç”¨Springé…ç½®æ–‡ä»¶ä¾¿å¯ä»¥å°†å…¶è£…é…åœ¨ä¸€èµ·ã€‚<br>==XMLæ–¹å¼ï¼š==  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/6.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>==Javaç±»æ–¹å¼ï¼š==  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/7.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>åœ¨å…·ä½“å·¥ä½œæ—¶ï¼ŒSpringé€šè¿‡åº”ç”¨ä¸Šä¸‹æ–‡(Application Context)è£…è½½beançš„å®šä¹‰å¹¶æŠŠä»–ä»¬ç»„è£…èµ·æ¥ï¼Œ<br>åŠ è½½æ–¹å¼ï¼š  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/8.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>è¿™é‡Œçš„mainæ–¹æ³•å¯¼å…¥knights.xmlå¹¶è·å–idä¸ºknightçš„beanï¼Œå¾—åˆ°Knightå¯¹è±¡çš„å¼•ç”¨åï¼Œåªéœ€è¦ç®€å•è°ƒç”¨è¯¥å¯¹è±¡çš„embarkOnQuestæ–¹æ³•å³å¯ï¼Œå¹¶ä¸”è¿™ä¸ªç±»å®Œå…¨ä¸çŸ¥é“éª‘å£«è¦æ¥å—å“ªç§æ¢é™©ä»»åŠ¡ï¼Œä¹Ÿæ²¡æœ‰æ„è¯†åˆ°æ˜¯ç”±BraveKnightæ‰§è¡Œçš„ã€‚</p>
<p>1.2 åº”ç”¨åˆ‡é¢ï¼š</p>
<blockquote>
<p>é¢å‘åˆ‡é¢ç¼–ç¨‹(Aspect-oriented programming,AOP)ï¼šç³»ç»Ÿç”±è®¸å¤šä¸åŒçš„ç»„ä»¶æ„æˆï¼Œæ¯ä¸ªç»„ä»¶å„è´Ÿè´£ä¸€å—ç‰¹å®šåŠŸèƒ½ï¼Œé™¤äº†å®ç°è‡ªèº«æ ¸å¿ƒçš„åŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜éœ€è¦æ‰¿æ‹…ç€é¢å¤–çš„èŒè´£(æ¯”å¦‚äº‹åŠ¡ç®¡ç†å’Œå®‰å…¨è¿™æ ·çš„ç³»ç»ŸæœåŠ¡),ä½†è¿™ä¼šå¸¦æ¥åŒé‡å¤æ‚æ€§ï¼š</p>
</blockquote>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/9.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   

<hr>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/10.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>ä½†AOPèƒ½å¤Ÿä½¿è¿™äº›æœåŠ¡æ¨¡å—åŒ–ï¼Œå¹¶ä»¥å£°æ˜çš„å½¢å¼å°†ä»–ä»¬åº”ç”¨åˆ°ä»–ä»¬éœ€è¦å½±å“åˆ°çš„ç»„ä»¶ä¸­å»ã€‚ç®€å•æ¥è¯´ï¼ŒAOPèƒ½å¤Ÿç¡®ä¿POJO(Plain Ordinary Java Objectï¼Œç®€å•JAVAå¯¹è±¡)çš„ç®€å•æ€§  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/11.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   

<hr>
<p>ä¸¾ä¾‹è¯´æ˜ï¼š  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/12.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/13.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>Minstrelæœ‰ä¸¤ä¸ªç±»ï¼Œåˆ†åˆ«åœ¨æ¢é™©ä»»åŠ¡ä¹‹å‰å’Œä¹‹åè°ƒç”¨ï¼Œä½†æ˜¯è¿™æ ·çš„è¯BraveKnightè‚¯å®šè¦è°ƒç”¨Minstrelï¼Œå¹¶ä¸”åœ¨ä»–è‡ªå·±çš„æ–¹æ³•ä¸­ï¼Œä½†åŸæ¸¸è¯—äººåº”è¯¥åšä»–åˆ†å†…çš„äº‹æƒ…ï¼Œå¹¶ä¸éœ€è¦éª‘å£«æé†’ä»–è¿™ä¹ˆåšï¼Œå¹¶ä¸”è¿™æ ·åšä½¿BraveKnightçš„ä»£ç å˜å¾—å¤æ‚ã€‚==è§£å†³çš„æ–¹æ³•å°±æ˜¯å°†MinstrelæŠ½è±¡ä¸ºä¸€ä¸ªåˆ‡é¢ï¼Œåªéœ€åœ¨Springé…ç½®æ–‡ä»¶ä¸­å£°æ˜å³å¯ã€‚==</p>
<hr>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/14.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>æ³¨æ„å‡ ä¸ªæ ‡ç­¾ï¼š<br>&lt;aop:aspect ref=â€beanâ€&gt;å¼•ç”¨bean<br>&lt;aop:pointcut &gt;å®šä¹‰åˆ‡ç‚¹<br>&lt;aop:before &gt;å‰ç½®é€šçŸ¥<br>&lt;aop:after &gt;åç½®é€šçŸ¥<br>é€šè¿‡è¿™æ ·è°ƒç”¨ï¼ŒMinstrelå¯ä»¥è¢«åº”ç”¨åˆ°BraveKnightä¸­ï¼Œå¹¶ä¸”BraveKnightä¸éœ€è¦æ˜¾å¼åœ°è°ƒç”¨å®ƒï¼Œå³BraveKnightæ ¹æœ¬ä¸çŸ¥é“Minstrelçš„å­˜åœ¨ã€‚<br>1.3 ä½¿ç”¨æ¨¡æ¿æ¶ˆé™¤æ ·æ¿å¼ä»£ç   </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/15.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>å¦‚å›¾æ‰€ç¤ºçš„æ ·æ¿å¼ä»£ç ï¼Œæœ€æ ¸å¿ƒçš„æŸ¥è¯¢å‘˜å·¥æ•°æ®ä»£ç åªå å¾ˆå°ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºéƒ½ç”±åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼Œåˆ›å»ºè¯­å¥å¯¹è±¡ï¼Œæ•æ‰å¼‚å¸¸ï¼Œå…³é—­æ•°æ®åº“è¿æ¥ï¼Œå†æ•æ‰å¼‚å¸¸æ‰€å æ»¡ã€‚  </p>
<img src="/2020/01/27/Spring%E5%AE%9E%E6%88%98-%E7%AC%AC%E4%B8%80%E7%AB%A0-Spring%E4%B9%8B%E6%97%85/16.png" class="" title="[Springå®æˆ˜-ç¬¬ä¸€ç« -Springä¹‹æ—…]">   
<p>è€Œä½¿ç”¨Springçš„JdbcTemplateé‡å†™çš„getEmployeeById()åªå…³æ³¨æŸ¥è¯¢å‘˜å·¥æ•°æ®çš„é€»è¾‘ï¼Œè¿™æ ·å¤§å¤§å‡å°‘äº†æ ·æ¿å¼ä»£ç çš„å†—ä½™ã€‚</p>
<p>ç¬¬ä¸€ç« å‰©ä½™å†…å®¹ï¼š</p>
<p>2.å®¹çº³ä½ çš„Bean<br>3.ä¿¯ç°Springé£æ™¯çº¿<br>4.Springæ–°åŠŸèƒ½<br>5.å°ç»“  </p>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·»åŠ æ€»ç«™è®¿é—®é‡å’Œæ–‡ç« è®¿é—®é‡</title>
    <url>/2020/01/22/%E6%B7%BB%E5%8A%A0%E6%80%BB%E7%AB%99%E8%AE%BF%E9%97%AE%E9%87%8F%E5%92%8C%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F/</url>
    <content><![CDATA[<p>1ã€é…ç½®æ˜¯å¦å¼€å¯ä¸è’œå­è®¿é—®é‡ç»Ÿè®¡åŠŸèƒ½<br>åœ¨<strong>themes/yilia/_config.yml</strong>æ·»åŠ å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># æ˜¯å¦å¼€å¯è®¿é—®é‡ç»Ÿè®¡åŠŸèƒ½(ä¸è’œå­)</span><br><span class="line">busuanzi:</span><br><span class="line"> enable: true</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<img src="/2020/01/22/%E6%B7%BB%E5%8A%A0%E6%80%BB%E7%AB%99%E8%AE%BF%E9%97%AE%E9%87%8F%E5%92%8C%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F/1.png" class="" title="[æ·»åŠ æ€»ç«™è®¿é—®é‡å’Œæ–‡ç« è®¿é—®é‡]">
<p>2ã€å¼•å…¥ä¸è’œå­å¹¶æ·»åŠ ç«™ç‚¹è®¿é—®é‡<br><strong>åœ¨themes/yilia/layout/_partial/footer.ejs</strong>å¯¹åº”ä½ç½®(ä¸èƒ½è¶…è¿‡&lt;footer/)æ·»åŠ å¦‚ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.busuanzi &amp;&amp; theme.busuanzi.enable)&#123; %&gt;</span><br><span class="line">        &lt;!-- ä¸è’œå­ç»Ÿè®¡ --&gt;</span><br><span class="line">        &lt;span id&#x3D;&quot;busuanzi_container_site_pv&quot;&gt;</span><br><span class="line">                æœ¬ç«™æ€»è®¿é—®é‡&lt;span id&#x3D;&quot;busuanzi_value_site_pv&quot;&gt;&lt;&#x2F;span&gt;æ¬¡</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;post-meta-divider&quot;&gt;|&lt;&#x2F;span&gt;</span><br><span class="line">        &lt;span id&#x3D;&quot;busuanzi_container_site_uv&quot; style&#x3D;&#39;display:none&#39;&gt;</span><br><span class="line">                æœ¬ç«™è®¿å®¢æ•°&lt;span id&#x3D;&quot;busuanzi_value_site_uv&quot;&gt;&lt;&#x2F;span&gt;äºº</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;script async src&#x3D;&quot;&#x2F;&#x2F;busuanzi.ibruce.info&#x2F;busuanzi&#x2F;2.3&#x2F;busuanzi.pure.mini.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<img src="/2020/01/22/%E6%B7%BB%E5%8A%A0%E6%80%BB%E7%AB%99%E8%AE%BF%E9%97%AE%E9%87%8F%E5%92%8C%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F/2.png" class="" title="[æ·»åŠ æ€»ç«™è®¿é—®é‡å’Œæ–‡ç« è®¿é—®é‡]">
<p>3ã€æ·»åŠ æ–‡ç« è®¿é—®é‡<br>åœ¨<strong>themes/yilia/layout/_partial/post/date.ejs</strong>å¼€å¤´æ·»åŠ å¦‚ä¸‹ä»£ç </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;% if (theme.busuanzi.enable &amp;&amp; !index)&#123; %&gt;</span><br><span class="line">        &lt;!-- ä¸è’œå­ç»Ÿè®¡ --&gt;</span><br><span class="line">        &lt;span id&#x3D;&quot;busuanzi_container_page_pv&quot; style&#x3D;&#39;display:none&#39; class&#x3D;&quot;&lt;%&#x3D; class_name %&gt;&quot;&gt;</span><br><span class="line">              &lt;i class&#x3D;&quot;icon-smile icon&quot;&gt;&lt;&#x2F;i&gt; é˜…è¯»æ•°ï¼š&lt;span id&#x3D;&quot;busuanzi_value_page_pv&quot;&gt;&lt;&#x2F;span&gt;æ¬¡</span><br><span class="line">        &lt;&#x2F;span&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>
<img src="/2020/01/22/%E6%B7%BB%E5%8A%A0%E6%80%BB%E7%AB%99%E8%AE%BF%E9%97%AE%E9%87%8F%E5%92%8C%E6%96%87%E7%AB%A0%E8%AE%BF%E9%97%AE%E9%87%8F/3.png" class="" title="[æ·»åŠ æ€»ç«™è®¿é—®é‡å’Œæ–‡ç« è®¿é—®é‡]">

<p>é‡å¯å³å¯æŸ¥çœ‹æ•ˆæœå•¦~</p>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿®æ”¹hexoåšå®¢ä»£ç å—æ ·å¼</title>
    <url>/2020/01/22/%E4%BF%AE%E6%94%B9hexo%E5%8D%9A%E5%AE%A2%E4%BB%A3%E7%A0%81%E5%9D%97%E6%A0%B7%E5%BC%8F/</url>
    <content><![CDATA[<p>ç›´æ¥ä¿®æ”¹ç¼–è¯‘å¥½çš„æ–‡ä»¶ã€‚è·¯å¾„ä¸ºï¼š theme/yilia/source/main.0cf68a.css<br>ä¿®æ”¹ä»£ç èƒŒæ™¯è‰²ï¼Œæœç´¢ .article-entry .highlight, ä¿®æ”¹backgroundåé¢çš„é¢œè‰²</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pre&#123;background:#272822;</span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pre&#123;background:#1a0139;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹è¡Œå·é¢œè‰²ï¼Œæœç´¢ .article-entry .highlight .gutter pre .line<br>å°†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.article-entry .highlight .gutter pre .line&#123;</span><br><span class="line">    color:#666</span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.article-entry .highlight .gutter pre .line&#123;</span><br><span class="line">      color:#fc0000</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ä»£ç å­—ä½“é¢œè‰² .article-entry .highlight .line</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.article-entry .highlight .line&#123;</span><br><span class="line">color:#fff;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹ä¸º</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.article-entry .highlight .line&#123;</span><br><span class="line">color:#00ff0d;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†&amp;&amp;ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†</title>
    <url>/2020/01/22/%E7%94%B1%E6%A0%91%E7%9A%84%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%E5%92%8C%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E6%8E%A8%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86-%E7%94%B1%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%92%8C%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E6%8E%A8%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86/</url>
    <content><![CDATA[<p>å‡è®¾æ ‘æ˜¯é…±å©¶çš„  </p>
<img src="/2020/01/22/%E7%94%B1%E6%A0%91%E7%9A%84%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86%E5%92%8C%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E6%8E%A8%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86-%E7%94%B1%E6%A0%91%E7%9A%84%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%92%8C%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E6%8E%A8%E5%89%8D%E5%BA%8F%E9%81%8D%E5%8E%86/1.png" class="" title="[ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†&amp;&amp;ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†]">  
<p>é¦–å…ˆå‰åºéå†ä¸º 123456ï¼Œä¸­åºéå†ä¸º324165ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœä¸ä¼šæ±‚å‰åºæˆ–ä¸­åºç™¾åº¦ä¸€ä¸‹å°±å¥½</p>
<a id="more"></a>
<h2 id="1-ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†"><a href="#1-ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†" class="headerlink" title="1.ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†"></a>1.ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†</h2><p>å®šä¹‰å‡½æ•°åŸå‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">postorder(int root,int start,int end)</span><br></pre></td></tr></table></figure>

<p>rootæ˜¯å‰åºéå†ä¸­å½“å‰æ ‘çš„æ ¹èŠ‚ç‚¹ç´¢å¼•ï¼ˆå•çœ‹ä¸­åºéå†æ‰¾ä¸åˆ°æ ¹èŠ‚ç‚¹ï¼Œå‰åºéå†å°±å¯ä»¥ï¼‰<br>startä¸ºå½“å‰æ ‘åœ¨ä¸­åºéå†ä¸­çš„èµ·ç‚¹ç´¢å¼•<br>endä¸ºå½“å‰æ ‘åœ¨ä¸­åºéå†ä¸­çš„ç»ˆç‚¹ç´¢å¼•<br><strong>æ‰€ä»¥å‡½æ•°å…¥å£ä¸º(0,0,5)</strong><br><strong>å› ä¸ºæ•´ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹åœ¨å‰åºéå†çš„ç´¢å¼•ä¸º0ï¼Œæ•´ä¸ªæ ‘çš„èµ·ç‚¹åœ¨ä¸­åºéå†ä¸­çš„èµ·ç‚¹ä¸º0ï¼Œç»ˆç‚¹ä¸ºæœ€åä¸€ä¸ªç‚¹ä¸‹æ ‡å³5</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void postorder(int root, int start, int end)</span><br><span class="line">&#123;</span><br><span class="line">	if (start &gt; end)&#x2F;&#x2F;å¦‚æœå·¦åŒºé—´å¤§äºå³åŒºé—´ï¼Œç›´æ¥è¿”å›å‡½æ•°ï¼Œå½“è¿™ä¸ªåŒºé—´åªæœ‰ä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä¸‹ä¸€ä¸ªé€’å½’å‡½æ•°å°±æ˜¯åœ¨è¿™é‡Œå¼¹å‡º</span><br><span class="line">	&#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	int rot &#x3D; preorder[root];&#x2F;&#x2F;å½“å‰æ ¹èŠ‚ç‚¹</span><br><span class="line">	int index;&#x2F;&#x2F;indexæ‰¾åˆ°inorderä¸­å¯¹åº”æ ¹èŠ‚ç‚¹çš„ç´¢å¼•</span><br><span class="line">	for (int i &#x3D; 0; i &lt; inorder.size(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if (inorder[i] &#x3D;&#x3D; rot)</span><br><span class="line">		&#123;</span><br><span class="line">			index &#x3D; i;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	post(root + 1, start, index - 1);&#x2F;&#x2F;é€’å½’å·¦å­æ ‘ï¼Œroot+1å°±æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨preorderä¸­çš„ç´¢å¼•</span><br><span class="line">	post(root + 1 + index -  start, index + 1, end);&#x2F;&#x2F;é€’å½’å³å­æ ‘ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸­index-startæ˜¯æŒ‡å·¦å­æ ‘çš„ä¸ªæ•°ï¼Œroot+1+å·¦å­æ ‘çš„ä¸ªæ•°å°±æ˜¯å³å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨preorderä¸­çš„ç´¢å¼•</span><br><span class="line">	postorder.push_back(preorder[root]);&#x2F;&#x2F;å°†å½“å‰æ ¹èŠ‚ç‚¹æ”¾å…¥postorderä¸­ï¼ˆååºéå†æ˜¯å·¦å³æ ¹çš„é¡ºåºï¼‰</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>æ³¨æ„ï¼špreorderï¼Œinorderï¼Œpostorderåˆ†åˆ«æ˜¯å‰åºéå†ï¼Œä¸­åºéå†å’Œååºéå†çš„å‘é‡ã€‚</em></strong></p>
<h2 id="2-ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†"><a href="#2-ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†" class="headerlink" title="2.ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†"></a>2.ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†</h2><p>åŸºæœ¬æ€æƒ³è·Ÿä¸Šè¿°ä¸€æ ·ï¼Œåªä¸è¿‡æ ¹èŠ‚ç‚¹æ¯æ¬¡éƒ½æ˜¯ä»ååºéå†ä¸­ä»åå¾€å‰æ‰¾ï¼ˆ1ä¸­æ˜¯ä»å‰åºéå†ä¸­ä»å‰å¾€åæ‰¾ï¼Œæ‰€ä»¥æ€»çš„å‡½æ•°åŸºæœ¬ä¸€æ ·ï¼Œåªä¸è¿‡åé¢é€’å½’å‡½æ•°å‚æ•°ä»¥åŠå°†å½“å‰æ ¹èŠ‚ç‚¹æ”¾å…¥å‘é‡ä¸­çš„é¡ºåºä¸å¤ªä¸€æ ·ï¼‰<br><strong>å‡½æ•°å…¥å£ä¸º(5,0,5)</strong><br><strong>å› ä¸ºæ•´ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹åœ¨ååºéå†çš„ç´¢å¼•ä¸º5ï¼ˆååºéå†æœ€åä¸€ä¸ªå€¼ï¼‰ï¼Œæ•´ä¸ªæ ‘çš„èµ·ç‚¹åœ¨ä¸­åºéå†ä¸­çš„èµ·ç‚¹ä¸º0ï¼Œç»ˆç‚¹ä¸ºæœ€åä¸€ä¸ªç‚¹ä¸‹æ ‡å³5</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">void preorder(int root, int start, int end)</span><br><span class="line">&#123;</span><br><span class="line">	if (start &gt; end)&#x2F;&#x2F;å¦‚æœå·¦åŒºé—´å¤§äºå³åŒºé—´ï¼Œç›´æ¥è¿”å›å‡½æ•°ï¼Œå½“è¿™ä¸ªåŒºé—´åªæœ‰ä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä¸‹ä¸€ä¸ªé€’å½’å‡½æ•°å°±æ˜¯åœ¨è¿™é‡Œå¼¹å‡º</span><br><span class="line">	&#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	int rot &#x3D; postorder[root];&#x2F;&#x2F;å½“å‰æ ¹èŠ‚ç‚¹</span><br><span class="line">	int index;&#x2F;&#x2F;indexæ‰¾åˆ°inorderä¸­å¯¹åº”æ ¹èŠ‚ç‚¹çš„ç´¢å¼•</span><br><span class="line">	for (int i &#x3D; 0; i &lt; inorder.size(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if (inorder[i] &#x3D;&#x3D; rot)</span><br><span class="line">		&#123;</span><br><span class="line">			index &#x3D; i;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	preorder.push_back(postorder[root]);&#x2F;&#x2F;å°†å½“å‰æ ¹èŠ‚ç‚¹æ”¾å…¥preorderä¸­ï¼ˆååºéå†æ˜¯æ ¹å·¦å³çš„é¡ºåºï¼‰</span><br><span class="line">	post(root-(end-index)-1, start, index - 1);&#x2F;&#x2F;é€’å½’å·¦å­æ ‘ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸­end-indexæ˜¯æŒ‡å³å­æ ‘çš„ä¸ªæ•°ï¼Œroot-å³å­æ ‘çš„ä¸ªæ•°-1å°±æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨preorderä¸­çš„ç´¢å¼•	</span><br><span class="line">	post(root-1, index + 1, end);&#x2F;&#x2F;é€’å½’å³å­æ ‘ï¼Œroot-1å°±æ˜¯å³å­æ ‘çš„æ ¹èŠ‚ç‚¹åœ¨preorderä¸­çš„ç´¢å¼•</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><em>æ³¨æ„ï¼špreorderï¼Œinorderï¼Œpostorderä»ç„¶åˆ†åˆ«æ˜¯å‰åºéå†ï¼Œä¸­åºéå†å’Œååºéå†çš„å‘é‡ã€‚</em></strong><br>å…¶æ¬¡ï¼Œæœ€éš¾çš„éƒ¨åˆ†å°±æ˜¯å‡½æ•°ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåªè¦æ‰¾å‡†å·¦å­æ ‘è·Ÿå³å­æ ‘çš„æ ¹èŠ‚ç‚¹ç´¢å¼•å³å¯<br>å› ä¸ºå‰åºéå†æ˜¯æ ¹å·¦å³ï¼Œæ‰€ä»¥å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯root+sthï¼ˆè¿™é‡Œæ˜¯åŠ å·ï¼‰<br>å› ä¸ºååºéå†æ˜¯å·¦å³æ ¹ï¼Œæ‰€ä»¥å¾—å·¦å³å­æ ‘æ ¹èŠ‚ç‚¹æ—¶æ˜¯root-sthï¼ˆè¿™é‡Œæ˜¯å‡å·ï¼‰<br><strong>åŒæ—¶æ³¨æ„:å‰åºéå†ä¸­root+1å…ˆå¾—åˆ°çš„æ˜¯å·¦å­æ ‘æ ¹èŠ‚ç‚¹ï¼ˆå› ä¸ºæ˜¯æ ¹å·¦å³ï¼‰ï¼Œå…¶æ¬¡åŠ ä¸Šå³å­æ ‘çš„ä¸ªæ•°å°±æ˜¯å³å­æ ‘æ ¹èŠ‚ç‚¹ã€‚è€Œååºéå†ä¸­root-1å…ˆå¾—åˆ°çš„æ˜¯å³å­æ ‘æ ¹èŠ‚ç‚¹ï¼ˆå› ä¸ºæ˜¯å·¦å³æ ¹ï¼‰ï¼Œå…¶æ¬¡å‡ä¸Šå·¦å­æ ‘çš„ä¸ªæ•°å°±æ˜¯å·¦å­æ ‘æ ¹èŠ‚ç‚¹ã€‚</strong>  </p>
<p>æˆäº†ï¼Œä»¥ä¸Šå°±æ˜¯ç®€å•æ¨¡å¼ä¸‹çš„ç”±æ ‘çš„å‰åºéå†å’Œä¸­åºéå†æ¨ååºéå†&amp;&amp;ç”±æ ‘çš„ä¸­åºéå†å’Œååºéå†æ¨å‰åºéå†ï¼Œç®€å•æ¨¡å¼ä¸‹å‡å®šæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ä¸ç›¸åŒçš„ï¼Œæ‰€ä»¥å›°éš¾æ¨¡å¼ä¸‹è¿˜æœ‰æ ‘ä¸­æœ‰ç›¸ç­‰çš„å€¼ï¼Œæ­¤æ—¶ä¼šæœ‰ä¸€äº›å˜å¼ï¼Œæœ‰æ—¶é—´æˆ‘ä¼šåœ¨å†™ä¸‹æ¥ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>äºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œï¼ˆæ•°æ®ç»“æ„ï¼‰</title>
    <url>/2020/01/22/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%EF%BC%88%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%89/</url>
    <content><![CDATA[<p>çœ‹äº†å¾ˆå¤šåšå®¢è®¸å¤šå¤§ç‰›çš„æ–‡ç« ï¼Œå‘ç°ä»–ä»¬çš„æ–¹æ³•å³å·§å¦™åˆç®€ä¾¿ï¼Œæœæ–­å­¦ä¹ å¹¶ç†è§£ã€‚ç»“åˆæ‰€å­¦çš„çŸ¥è¯†ï¼ŒæŠŠäºŒå‰æ ‘çš„åŸºæœ¬æ“ä½œç½—åˆ—äº†ä¸‹æ¥ã€‚<br>åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šæºç ï¼Œä¸€äº›ä¸å®¹æ˜“ç†è§£çš„åœ°æ–¹ä¼šæœ‰æ³¨é‡Šï¼Œè¦æ˜¯æœ‰é—®é¢˜ä¹Ÿå¯ä»¥ç§ä¿¡æˆ‘QQ``:790567648äº¤ä¸ªæœ‹å‹äº’ç›¸å­¦ä¹ é¸­~</p>
<a id="more"></a>
<p><strong>â€”â€”â€”å¤´æ–‡ä»¶ï¼Œå®å®šä¹‰ä»¥åŠæ ‘ADTçš„å®ç°**</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;å¤´æ–‡ä»¶</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;stack&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">&#x2F;&#x2F;å®å®šä¹‰</span><br><span class="line">#define TRUE 1</span><br><span class="line">#define FALSE 0</span><br><span class="line">#define OK 1</span><br><span class="line">#define ERROR 0</span><br><span class="line">#define MAXSIZE 10</span><br><span class="line">&#x2F;&#x2F;ADT</span><br><span class="line">typedef int TElemType;</span><br><span class="line">typedef int Status;</span><br><span class="line">typedef struct BiTNode              &#x2F;&#x2F;å®šä¹‰äºŒå‰æ ‘èŠ‚ç‚¹æ•°æ®ç±»å‹ </span><br><span class="line">&#123;</span><br><span class="line">	TElemType data;</span><br><span class="line">	struct BiTNode *lchild, *rchild;</span><br><span class="line">&#125; BiTNode, *BiTree;           &#x2F;&#x2F;bitreeä¸ºæŒ‡å‘bitnodeè¿™ç§ç»“æ„çš„æŒ‡é’ˆ</span><br></pre></td></tr></table></figure>
<p><strong>â€”â€”â€”-åŸºæœ¬æ“ä½œçš„å£°æ˜</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BiTree CreateTree();&#x2F;&#x2F;æŒ‰å…ˆåºæ¬¡åºè¾“å…¥äºŒå‰æ ‘ä¸­ç»“ç‚¹çš„å€¼ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰ç©ºæ ¼å­—ç¬¦è¡¨ç¤ºç©ºæ•°</span><br><span class="line">Status PreOrderTraverse(BiTree T, Status(*Visit)(TElemType e));&#x2F;&#x2F;å…ˆåºéå†äºŒå‰æ ‘T,å¯¹æ¯ä¸ªç»“ç‚¹è°ƒç”¨å‡½æ•°VIsitä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡</span><br><span class="line">Status InOrderTraverse(BiTree T, Status(*Visit)(TElemType e));&#x2F;&#x2F;ä¸­åºã€‚ã€‚ã€‚</span><br><span class="line">Status PostOrderTraverse(BiTree T, Status(*Visit)(TElemType e));&#x2F;&#x2F;ååºã€‚ã€‚ã€‚</span><br><span class="line">Status LevelOrderTraverse(BiTree T, Status(*Visit)(TElemType e));&#x2F;&#x2F;å±‚åºã€‚ã€‚ã€‚</span><br><span class="line">Status Deepth(BiTree T);&#x2F;&#x2F;æ±‚æ ‘çš„é«˜åº¦</span><br><span class="line">Status PreorderPrintLeaves(BiTree BT);&#x2F;&#x2F;å…ˆåºè¾“å‡ºæ ‘çš„ç»“ç‚¹</span><br></pre></td></tr></table></figure>
<p><strong>â€”â€”â€”-å…·ä½“çš„å‡½æ•°çš„å®ç°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">BiTree CreateTree()&#x2F;&#x2F;äºŒå‰æ ‘çš„å»ºç«‹</span><br><span class="line">&#123;</span><br><span class="line">	BiTree T;</span><br><span class="line">	TElemType item;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;item);</span><br><span class="line">	if (item &#x3D;&#x3D; 0)              &#x2F;&#x2F;å¶èŠ‚ç‚¹æ•°æ®æ ‡å¿—ï¼šå…¶åæ ¹ä¸¤ä¸ª0 </span><br><span class="line">		T &#x3D; NULL;            &#x2F;&#x2F;è‹¥æŸä¸€èŠ‚ç‚¹ä¸ºå¶å­ç»“ç‚¹ï¼Œåˆ™å…¶å·¦å³å­æ ‘å‡ä¸ºNULLï¼Œ0è¡¨ç¤ºå»ºç©ºæ ‘</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		T &#x3D; (BiTree)malloc(sizeof(BiTNode));</span><br><span class="line">		T-&gt;data &#x3D; item;</span><br><span class="line">		T-&gt;lchild &#x3D; CreateTree();             &#x2F;&#x2F;é€’å½’åˆ›å»ºå…¶å·¦å­æ ‘ </span><br><span class="line">		T-&gt;rchild &#x3D; CreateTree();            &#x2F;&#x2F;é€’å½’åˆ›å»ºå…¶å³å­æ ‘ </span><br><span class="line">	&#125;</span><br><span class="line">	return T;                              &#x2F;&#x2F;è¿”å›æ ¹èŠ‚ç‚¹ </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status PrintElement(TElemType e)&#x2F;&#x2F;åº”ç”¨å‡½æ•°å…·ä½“å®ç°</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;%d &quot;, e);</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status PreOrderTraverse1(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;å…ˆåºéå†é€’å½’</span><br><span class="line">&#123;</span><br><span class="line">	if (T)</span><br><span class="line">	&#123;</span><br><span class="line">		if (Visit(T-&gt;data))</span><br><span class="line">			if (PreOrderTraverse1(T-&gt;lchild, Visit))</span><br><span class="line">				if (PreOrderTraverse1(T-&gt;rchild, Visit))</span><br><span class="line">					return OK;</span><br><span class="line">		return ERROR;</span><br><span class="line">	&#125;</span><br><span class="line">	else return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status InOrderTraverse1(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;ä¸­åºéå†é€’å½’</span><br><span class="line">&#123;</span><br><span class="line">	if (T)</span><br><span class="line">	&#123;</span><br><span class="line">		if (PreOrderTraverse1(T-&gt;lchild, Visit))</span><br><span class="line">			if (Visit(T-&gt;data))</span><br><span class="line">				if (PreOrderTraverse1(T-&gt;rchild, Visit))</span><br><span class="line">					return OK;</span><br><span class="line">		return ERROR;</span><br><span class="line">	&#125;</span><br><span class="line">	else return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status PostOrderTraverse1(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;ååºéå†é€’å½’</span><br><span class="line">&#123;</span><br><span class="line">	if (T)</span><br><span class="line">	&#123;</span><br><span class="line">		if (PreOrderTraverse1(T-&gt;lchild, Visit))</span><br><span class="line">			if (PreOrderTraverse1(T-&gt;rchild, Visit))</span><br><span class="line">				if (Visit(T-&gt;data))</span><br><span class="line">					return OK;</span><br><span class="line">		return ERROR;</span><br><span class="line">	&#125;</span><br><span class="line">	else return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Status PreOrderTraverse2(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;å…ˆåºéå†éé€’å½’</span><br><span class="line">&#123;	</span><br><span class="line">	BiTree P &#x3D; T;</span><br><span class="line">	stack&lt;BiTree&gt;S;</span><br><span class="line">	while (P!&#x3D;NULL||!S.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		while (P!&#x3D;NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			Visit(P-&gt;data);</span><br><span class="line">			S.push(P);</span><br><span class="line">			P &#x3D; P-&gt;lchild;</span><br><span class="line">		&#125;	</span><br><span class="line">	if (!S.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		P&#x3D;S.top();</span><br><span class="line">		S.pop();</span><br><span class="line">		P &#x3D; P-&gt;rchild;</span><br><span class="line">	&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status InOrderTraverse2(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;ä¸­åºéå†éé€’å½’</span><br><span class="line">&#123;</span><br><span class="line">	stack&lt;BiTree&gt;S;</span><br><span class="line">	BiTree P &#x3D; T;</span><br><span class="line">	while (P!&#x3D;NULL||!S.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		while (P!&#x3D;NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			S.push(P);</span><br><span class="line">			P &#x3D; P-&gt;lchild;			</span><br><span class="line">		&#125;</span><br><span class="line">		if (!S.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			P &#x3D; S.top();</span><br><span class="line">			S.pop();</span><br><span class="line">			Visit(P-&gt;data);		</span><br><span class="line">			P&#x3D;P-&gt;rchild;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status PostOrderTraverse2(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;ååºéå†éé€’å½’</span><br><span class="line">&#123;</span><br><span class="line">	stack&lt;BiTree&gt;S;</span><br><span class="line">	BiTNode *cur;&#x2F;&#x2F;å½“å‰ç»“ç‚¹</span><br><span class="line">	BiTNode *ptr&#x3D;NULL;&#x2F;&#x2F;ä¹‹å‰è®¿é—®çš„ç»“ç‚¹</span><br><span class="line">	S.push(T);</span><br><span class="line">	while (!S.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		cur &#x3D; S.top();</span><br><span class="line">		if ((cur-&gt;lchild&#x3D;&#x3D;NULL&amp;&amp;cur-&gt;rchild&#x3D;&#x3D;NULL)||(ptr!&#x3D;NULL&amp;&amp;(ptr&#x3D;&#x3D;cur-&gt;lchild||ptr&#x3D;&#x3D;cur-&gt;rchild)))</span><br><span class="line">		&#123;</span><br><span class="line">			Visit(cur-&gt;data);</span><br><span class="line">			S.pop();</span><br><span class="line">			ptr &#x3D; cur;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			if (cur-&gt;rchild!&#x3D;NULL)</span><br><span class="line">			&#123;</span><br><span class="line">				S.push(cur-&gt;rchild);</span><br><span class="line">			&#125;</span><br><span class="line">			if (cur-&gt;lchild!&#x3D;NULL)</span><br><span class="line">			&#123;</span><br><span class="line">				S.push(cur-&gt;lchild);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status LevelOrderTraverse(BiTree T, Status(*Visit)(TElemType e))&#x2F;&#x2F;å±‚åºéå†äºŒå‰æ ‘(å€ŸåŠ©äºé˜Ÿåˆ—)</span><br><span class="line">&#123;</span><br><span class="line">	queue&lt;BiTree&gt;Q;</span><br><span class="line">	BiTree P &#x3D; T;</span><br><span class="line">	Q.push(P);</span><br><span class="line">	while (!Q.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		BiTree temp &#x3D; Q.front();</span><br><span class="line">		Q.pop();</span><br><span class="line">		Visit(temp-&gt;data);		</span><br><span class="line">		if (temp-&gt;lchild!&#x3D;NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			Q.push(temp-&gt;lchild);</span><br><span class="line">		&#125;</span><br><span class="line">		if (temp-&gt;rchild!&#x3D;NULL)</span><br><span class="line">		&#123;</span><br><span class="line">			Q.push(temp-&gt;rchild);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status LevelOrderTraverse(BiTree T)&#x2F;&#x2F; äºŒå‰æ ‘çš„å±‚åºéå†(æ•°ç»„å®ç°)</span><br><span class="line">&#123;</span><br><span class="line">	if (T &#x3D;&#x3D; NULL) return ERROR;</span><br><span class="line"></span><br><span class="line">	BiTree q[MAXSIZE];&#x2F;&#x2F;æ ‘ä¸­æœ€å¤§çš„ç»“ç‚¹æ•°ä¸º10.</span><br><span class="line">	q[0] &#x3D; T;</span><br><span class="line"></span><br><span class="line">	int front &#x3D; 0;</span><br><span class="line">	int rear &#x3D; 1;</span><br><span class="line"></span><br><span class="line">	while (front&lt;rear)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d &quot;,q[front]-&gt;data);</span><br><span class="line">		if (q[front]-&gt;lchild)</span><br><span class="line">		&#123;</span><br><span class="line">			q[rear] &#x3D; q[front]-&gt;lchild;</span><br><span class="line">			rear++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (q[front]-&gt;rchild)</span><br><span class="line">		&#123;</span><br><span class="line">			q[rear] &#x3D; q[front]-&gt;rchild;</span><br><span class="line">			rear++;</span><br><span class="line">		&#125;</span><br><span class="line">		front++;&#x2F;&#x2F;æœ€åè·³å‡ºå¾ªç¯çš„æ¡ä»¶ä¸ºfront&#x3D;rear</span><br><span class="line">		&#x2F;&#x2F;rearä¸ºé™¤äº†æ ¹èŠ‚ç‚¹ä»¥å¤–æ‰€æœ‰ç»“ç‚¹çš„æ€»æ•°ï¼Œfrontä¸ºç®—ä¸Šæ ¹èŠ‚ç‚¹çš„æ‰€æœ‰ç»“ç‚¹æ€»æ•°ï¼Œéå†æ‰€æœ‰ç»“ç‚¹årear&#x3D;front</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status Deepth(BiTree T)&#x2F;&#x2F;æ±‚æ ‘çš„é«˜åº¦</span><br><span class="line">&#123;</span><br><span class="line">	int deepthLeft &#x3D; 0;</span><br><span class="line">	int deepthRight &#x3D; 0;</span><br><span class="line">	int deepCount &#x3D; 0;</span><br><span class="line">	if (T &#x3D;&#x3D; NULL) &#123;</span><br><span class="line">		deepCount &#x3D; 0;</span><br><span class="line">		return deepCount;</span><br><span class="line">	&#125;	</span><br><span class="line">	deepthLeft &#x3D; Deepth(T-&gt;lchild);</span><br><span class="line">	deepthRight &#x3D; Deepth(T-&gt;rchild);</span><br><span class="line">	deepCount &#x3D; 1 + ((deepthLeft &gt; deepthRight) ? deepthLeft : deepthRight);&#x2F;&#x2F;åœ¨å·¦å­æ ‘å’Œå³å­æ ‘ä¸­æ±‚æœ€é«˜çš„é‚£æ£µæ ‘ï¼Œæ€»æ ‘é«˜ä¸ºå…¶åŠ 1</span><br><span class="line">	return deepCount;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Status PreorderPrintLeaves(BiTree BT)&#x2F;&#x2F;å…ˆåºè¾“å‡ºæ ‘çš„ç»“ç‚¹</span><br><span class="line">&#123;</span><br><span class="line">	if (BT &#x3D;&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		return ERROR;</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		if (BT-&gt;lchild &#x3D;&#x3D; NULL&amp;&amp;BT-&gt;rchild &#x3D;&#x3D; NULL) printf(&quot;%d &quot;, BT-&gt;data);</span><br><span class="line">		PreorderPrintLeaves(BT-&gt;lchild);</span><br><span class="line">		PreorderPrintLeaves(BT-&gt;rchild);</span><br><span class="line">	&#125;</span><br><span class="line">	return OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>â€”â€”â€”â€“éšä¾¿å†™äº†ä¸€ä¸‹ä¸»å‡½æ•°ï¼Œï¼Œï¼Œéƒ½ç”¨çš„éé€’å½’çš„éå†ï¼Œï¼Œï¼Œè§‰å¾—é€’å½’çš„éå†æ—¶é—´å¤æ‚åº¦å¤ªé«˜äº†</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">	BiTree T;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥æ•°æ®å…ˆåºåˆ›å»ºä¸€æ£µäºŒå‰æ ‘:(ç»“ç‚¹ä¸ºç©ºæ—¶è¾“å…¥0)\n&quot;);</span><br><span class="line">	T &#x3D; CreateTree();               &#x2F;&#x2F;å…ˆåºåˆ›å»ºä¸€æ£µäºŒå‰æ ‘ </span><br><span class="line">	printf(&quot;å…ˆåºéå†ç»“æœä¸ºï¼š\n&quot;);</span><br><span class="line">	PreOrderTraverse2(T, PrintElement);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;ä¸­åºéå†ç»“æœä¸ºï¼š\n&quot;);</span><br><span class="line">	InOrderTraverse2(T, PrintElement);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;ååºéå†ç»“æœä¸ºï¼š\n&quot;);</span><br><span class="line">	PostOrderTraverse2(T, PrintElement);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;å±‚åºéå†ç»“æœä¸ºï¼š\n&quot;);</span><br><span class="line">	LevelOrderTraverse(T);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	LevelOrderTraverse(T, PrintElement);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;æ­¤æ ‘çš„é«˜åº¦ä¸º:\n&quot;);</span><br><span class="line">	printf(&quot;%d\n&quot;, Deepth(T));</span><br><span class="line">	printf(&quot;å…¶æ ‘ç»“ç‚¹ä¸º:(å…ˆåº)\n&quot;);</span><br><span class="line">	PreorderPrintLeaves(T);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ä¹Ÿç®—æ˜¯æˆ‘å¯¹æ•°æ®ç»“æ„äºŒå‰æ ‘è¿™ä¸€ç« çš„æ€»ç»“å§ï¼Œè®°å½•ä¸€ä¸‹è‡ªå·±çš„å­¦ä¹ å†ç¨‹ï¼å†²é¸­ï¼</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>å•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨åŸºæœ¬æ“ä½œçš„å®ç°ï¼ˆæ•°æ®ç»“æ„ Cè¯­è¨€å®ç°ç‰ˆ)</title>
    <url>/2020/01/22/%E5%8D%95%E5%90%91%E9%93%BE%E8%A1%A8%E5%92%8C%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E7%9A%84%E5%AE%9E%E7%8E%B0%EF%BC%88%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-C%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%89%88/</url>
    <content><![CDATA[<p>å¤§å®¶å¼æˆ‘åˆæ¥äº†ï¼Œä»Šå¤©æˆ‘ç»™å¤§å®¶å¸¦æ¥çš„æ˜¯å•å‘é“¾è¡¨å’ŒåŒå‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼ˆåŸºæœ¬ä¸ŠæŒºå…¨çš„ã€‚ã€‚ã€‚ï¼‰<br>    <strong>æ•°æ®ç»“æ„</strong>è¿™é—¨è¯¾ç¨‹æ˜¯å­¦è®¡ç®—æœºçš„å­¦ç”Ÿä»¬æ„Ÿè§‰å¾ˆé‡è¦å¾ˆå›°éš¾çš„å­¦ç§‘ã€‚è€Œé“¾è¡¨ä¹ŸåŸºæœ¬ä¸Šç®—æ˜¯æ•°æ®ç»“æ„åˆšå…¥é—¨æ—¶æ‰€å†™çš„äº†å§ã€‚<br>    æˆ‘æŠŠè‡ªå·±å­¦ä¹ æ•°æ®ç»“æ„çš„å†ç¨‹åˆ†äº«åˆ°è‡ªå·±çš„åšå®¢é‡Œï¼Œä¾›å¤§å®¶å­¦ä¹ ä¹Ÿä¾›æˆ‘è‡ªå·±æŸ¥é˜…è‡ªå·±çš„å­¦ä¹ å†ç¨‹ã€‚è‹¥æ˜¯æ„Ÿè§‰è¿˜ä¸é”™æˆ–è€…æœ‰ä»»ä½•é—®é¢˜çš„è¯ï¼Œæ¬¢è¿åŠ æˆ‘çš„qqï¼š790567648æ¥è·Ÿæˆ‘è¿›ä¸€æ­¥çš„äº¤æµã€‚hhh<br>    è¯ä¸å¤šè¯´ï¼Œæˆ‘å…ˆä¸Šä»£ç ä¸ºæ•¬ï¼Œï¼ˆåŸºæœ¬ä¸Šæ“ä½œå†…æˆ‘éƒ½å†™ä¸Šæ³¨é‡Šäº†ï¼Œå†æœ‰ä»€ä¹ˆçœ‹ä¸æ‡‚çš„åœ°æ–¹å¯ä»¥ç§ä¿¡æˆ‘èŠï¼‰</p>
<a id="more"></a>
<p><strong>å•å‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œå®ç°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-------è€è§„çŸ©ï¼Œå¤´æ–‡ä»¶ï¼Œå®å®šä¹‰ä»¥åŠADTå’ŒåŸºæœ¬æ•°æ®æ“ä½œçš„å£°æ˜</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line"></span><br><span class="line">typedef int ElemType;</span><br><span class="line"></span><br><span class="line">typedef struct Node</span><br><span class="line">&#123;</span><br><span class="line">	ElemType data;</span><br><span class="line">	struct Node *next;</span><br><span class="line">&#125;Node, *List;</span><br><span class="line"></span><br><span class="line">List InitList();&#x2F;&#x2F;å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨çš„å»ºç«‹</span><br><span class="line">int Listlength(List L);&#x2F;&#x2F;æ±‚é“¾è¡¨çš„é•¿åº¦</span><br><span class="line">void ListInsert(List L, int i, ElemType e);&#x2F;&#x2F;åœ¨Lä¸­ç¬¬iä¸ªä½ç½®ä¹‹åæ’å…¥ä¸€ä¸ªç»“ç‚¹çš„æ•°å€¼ä¸ºe</span><br><span class="line">void ListDelete(List L, int i);&#x2F;&#x2F;é“¾è¡¨ç¬¬iä¸ªç»“ç‚¹çš„åˆ é™¤</span><br><span class="line">int GetElemtype(List L, int i);&#x2F;&#x2F; è¿”å›Lä¸­ç¬¬iä¸ªä½ç½®çš„æ•°æ®å…ƒç´ çš„å€¼</span><br><span class="line">void GetElem(List L, ElemType e);&#x2F;&#x2F;æŸ¥æ‰¾åœ¨é“¾è¡¨ä¸­æ˜¯å¦æœ‰eè¿™ä¸ªå…ƒç´ ï¼Œæœ‰çš„è¯è¿”å›å®ƒåœ¨é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œæ²¡æœ‰çš„è¯æ˜¾ç¤ºæ— </span><br><span class="line">void ListCleaner(List L);&#x2F;&#x2F;é“¾è¡¨çš„æ¸…é™¤</span><br><span class="line">void print(List L);&#x2F;&#x2F;é“¾è¡¨çš„è¾“å‡º</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">List InitList()&#x2F;&#x2F;å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨çš„å»ºç«‹ï¼ˆéœ€è¦å‚æ•°å’Œä¸éœ€è¦å‚æ•°åŒç†ï¼‰</span><br><span class="line">&#123;</span><br><span class="line">	Node *last;&#x2F;&#x2F;pä¸ºæ’å…¥ç»“ç‚¹ï¼Œlastå§‹ç»ˆæŒ‡å‘æœ«èŠ‚ç‚¹;</span><br><span class="line">	List L;</span><br><span class="line">	L &#x3D; (Node *)malloc(sizeof(Node));</span><br><span class="line">	L-&gt;next &#x3D;&#x3D; NULL;</span><br><span class="line">	last &#x3D; L;</span><br><span class="line">	ElemType elem;</span><br><span class="line">	printf(&quot;å·²ä¸ºæ‚¨åˆ›å»ºé“¾è¡¨ï¼Œè¯·è¾“å…¥æ¯ä¸ªå…ƒç´ çš„å€¼ï¼ˆä»¥ç©ºæ ¼éš”å¼€å¹¶ä¸”ä»¥-1ä¸ºç»“å°¾ä¸”ä¸è®¡å…¥é“¾è¡¨ä¹‹ä¸­ï¼‰\n&quot;);</span><br><span class="line">	while (scanf(&quot;%d&quot;, &amp;elem) &amp;&amp; elem !&#x3D; -1)</span><br><span class="line">	&#123;</span><br><span class="line">		Node *p;</span><br><span class="line">		p &#x3D; (Node *)malloc(sizeof(Node));</span><br><span class="line">		p-&gt;data &#x3D; elem;</span><br><span class="line">		last-&gt;next &#x3D; p;</span><br><span class="line">		last &#x3D; p;</span><br><span class="line">	&#125;</span><br><span class="line">	last-&gt;next &#x3D; NULL;</span><br><span class="line">	printf(&quot;é“¾è¡¨ä»¥åˆ›å»ºæˆåŠŸï¼\n&quot;);</span><br><span class="line">	return L;</span><br><span class="line">&#125;</span><br><span class="line">int Listlength(L)&#x2F;&#x2F;æ±‚é“¾è¡¨çš„é•¿åº¦</span><br><span class="line">&#123;</span><br><span class="line">	Node *p;</span><br><span class="line">	p &#x3D; L;</span><br><span class="line">	int temp &#x3D; 0;</span><br><span class="line">	while (p-&gt;next !&#x3D; NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		temp++;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	return temp;</span><br><span class="line">&#125;</span><br><span class="line">void ListInsert(List L, int i, ElemType e)&#x2F;&#x2F;åœ¨Lä¸­ç¬¬iä¸ªä½ç½®ä¹‹åæ’å…¥ä¸€ä¸ªç»“ç‚¹çš„æ•°å€¼ä¸ºe</span><br><span class="line">&#123;</span><br><span class="line">	int j &#x3D; 0;</span><br><span class="line">	Node *p, *temp;</span><br><span class="line">	p &#x3D; L;</span><br><span class="line">	while (j&lt;i)</span><br><span class="line">	&#123;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		j++;</span><br><span class="line">	&#125;</span><br><span class="line">	temp &#x3D; (Node *)malloc(sizeof(Node));&#x2F;&#x2F;æ–°å»ºä¸€ä¸ªç»“ç‚¹</span><br><span class="line">	temp-&gt;data &#x3D; e;</span><br><span class="line">	temp-&gt;next &#x3D; p-&gt;next;</span><br><span class="line">	p-&gt;next &#x3D; temp;</span><br><span class="line">&#125;</span><br><span class="line">void print(List L)&#x2F;&#x2F;é“¾è¡¨çš„è¾“å‡º</span><br><span class="line">&#123;</span><br><span class="line">	List tempList;</span><br><span class="line">	tempList &#x3D; L-&gt;next;</span><br><span class="line">	while (tempList)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;%d &quot;, tempList-&gt;data);</span><br><span class="line">		tempList &#x3D; tempList-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void ListDelete(List L, int i)&#x2F;&#x2F;é“¾è¡¨ç¬¬iä¸ªç»“ç‚¹çš„åˆ é™¤</span><br><span class="line">&#123;</span><br><span class="line">	if (i&lt;1 || i&gt;Listlength(L) + 1)</span><br><span class="line">	&#123;</span><br><span class="line">		exit(0);</span><br><span class="line">	&#125;</span><br><span class="line">	int j &#x3D; 0;</span><br><span class="line">	Node *p;</span><br><span class="line">	p &#x3D; L;</span><br><span class="line">	while (p&amp;&amp;j &lt; i - 1)&#x2F;&#x2F;æ‰¾åˆ°ç¬¬iä¸ªä½ç½®å‰çš„ç»“ç‚¹</span><br><span class="line">	&#123;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		j++;</span><br><span class="line">	&#125;</span><br><span class="line">	p-&gt;next &#x3D; p-&gt;next-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line">int GetElemtype(List L, int Position)&#x2F;&#x2F; è¿”å›Lä¸­ç¬¬iä¸ªæ•°æ®å…ƒç´ çš„å€¼</span><br><span class="line">&#123;</span><br><span class="line">	Node *p;</span><br><span class="line">	p &#x3D; L;</span><br><span class="line">	for (int j &#x3D; 0; j &lt; Position; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	return p-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ListCleaner(List L)&#x2F;&#x2F;é“¾è¡¨çš„æ¸…é™¤</span><br><span class="line">&#123;</span><br><span class="line">	List p &#x3D; NULL, q &#x3D; NULL;&#x2F;&#x2F;è®©pæŒ‡å‘å½“å‰è¦åˆ é™¤çš„ç»“ç‚¹ï¼ŒqæŒ‡å‘pä¹‹åçš„ç»“ç‚¹ï¼Œç­‰pé‡Šæ”¾ç©ºé—´åå†é‡å¤ä¸Šè¿°æ“ä½œ</span><br><span class="line">	p &#x3D; L-&gt;next;</span><br><span class="line">	while (p)</span><br><span class="line">	&#123;</span><br><span class="line">		q &#x3D; p-&gt;next;</span><br><span class="line">		free(p);</span><br><span class="line">		p &#x3D; q;</span><br><span class="line">	&#125;</span><br><span class="line">	L-&gt;next &#x3D; NULL;</span><br><span class="line">	printf(&quot;é“¾è¡¨å·²ç»æ¸…é™¤ï¼\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">void GetElem(List L, ElemType e)&#x2F;&#x2F;æŸ¥æ‰¾åœ¨é“¾è¡¨ä¸­æ˜¯å¦æœ‰eè¿™ä¸ªå…ƒç´ ï¼Œæœ‰çš„è¯è¿”å›å®ƒåœ¨é“¾è¡¨ä¸­çš„ä½ç½®</span><br><span class="line">&#123;</span><br><span class="line">	Node *p;</span><br><span class="line">	int temp &#x3D; 0;</span><br><span class="line">	p &#x3D; L-&gt;next;</span><br><span class="line">	while (p)</span><br><span class="line">	&#123;</span><br><span class="line">		temp++;</span><br><span class="line">		if (p-&gt;data &#x3D;&#x3D; e)</span><br><span class="line">		&#123;</span><br><span class="line">			printf(&quot;ç»“æœï¼šè¯¥å…ƒç´ åœ¨ç¬¬%dä¸ªä½ç½®\n&quot;, temp);</span><br><span class="line">			exit(0);</span><br><span class="line">		&#125;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;ç»“æœï¼šæœªæ‰¾åˆ°ç›¸å…³å…ƒç´ ï¼\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡ªå·±å†™çš„mainå‡½æ•°ï¼Œå¤§å®¶çœ‹çœ‹å°±å¥½ï¼Œï¼Œï¼Œï¼Œä¸å¿…å½“çœŸï¼ˆQAQæˆ‘çŸ¥é“çœ‹åˆ°è¿™é‡Œå¤§ä½¬è¦å¼€å§‹åæ§½æˆ‘äº†ï¼Œæ‰‹ä¸‹ç•™æƒ…ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">	int n, i, e;</span><br><span class="line">	List L;</span><br><span class="line">	L &#x3D; InitList();</span><br><span class="line">	printf(&quot;é“¾è¡¨çš„é•¿åº¦ä¸ºï¼š%d\n&quot;, Listlength(L));</span><br><span class="line">	printf(&quot;æ­¤æ—¶ï¼Œé“¾è¡¨çš„å…ƒç´ ä¸ºï¼š&quot;);</span><br><span class="line">	print(L);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line"></span><br><span class="line">	printf(&quot;è¯·è¾“å…¥éœ€è¦æ’å…¥çš„ä½ç½®ä»¥åŠå…ƒç´ ï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d %d&quot;, &amp;i, &amp;e);</span><br><span class="line">	ListInsert(L, i, e);</span><br><span class="line">	printf(&quot;æ­¤æ—¶ï¼Œé“¾è¡¨çš„å…ƒç´ ä¸ºï¼š&quot;);</span><br><span class="line">	print(L);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;æ­¤æ—¶é“¾è¡¨çš„é•¿åº¦ä¸ºï¼š%d\n&quot;, Listlength(L));</span><br><span class="line"></span><br><span class="line">	int deletenum;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥è¦åˆ é™¤çš„å…ƒç´ çš„ä½ç½®ä¸ºï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;deletenum);</span><br><span class="line">	ListDelete(L, deletenum);</span><br><span class="line">	printf(&quot;æ­¤æ—¶ï¼Œé“¾è¡¨çš„å…ƒç´ ä¸ºï¼š&quot;);</span><br><span class="line">	print(L);</span><br><span class="line">	printf(&quot;\n&quot;);</span><br><span class="line">	printf(&quot;æ­¤æ—¶ï¼Œé“¾è¡¨çš„é•¿åº¦ä¸ºï¼š%d\n&quot;, Listlength(L));</span><br><span class="line"></span><br><span class="line">	int test;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥è¦æŸ¥è¯¢ç¬¬å‡ ä¸ªä½ç½®çš„å…ƒç´ ï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;test);</span><br><span class="line">	printf(&quot;è¯¥ä½ç½®çš„å…ƒç´ ä¸ºï¼š%d\n&quot;, GetElemtype(L, test));</span><br><span class="line"></span><br><span class="line">	int temp;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥æ­¤å…ƒç´ æ¥æŸ¥è¯¢è¯¥é“¾è¡¨ä¸­æ˜¯å¦æœ‰è¯¥å…ƒç´ ï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;temp);</span><br><span class="line">	GetElem(L, temp);</span><br><span class="line"></span><br><span class="line">	printf(&quot;æ­£åœ¨è¿›è¡Œæ¸…ç©ºæ“ä½œï¼Œè¯·ç¨å€™ã€‚ã€‚ã€‚\n&quot;);</span><br><span class="line">	ListCleaner(L);</span><br><span class="line">	printf(&quot;æ­¤æ—¶ï¼Œé“¾è¡¨çš„é•¿åº¦ä¸ºï¼š%d\n&quot;, Listlength(L));</span><br><span class="line">	</span><br><span class="line">	printf(&quot;æ­å–œæ‚¨ä»¥å®Œæˆå…¨éƒ¨æ“ä½œï¼\n&quot;);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åŒå‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œå®ç°</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">typedef int ElemType;</span><br><span class="line"></span><br><span class="line">typedef struct DuLNode &#123;</span><br><span class="line">	ElemType data;</span><br><span class="line">	struct DuLNode *prior;</span><br><span class="line">	struct DuLNode *next;</span><br><span class="line">&#125;DuLNode,*DuLinkList;</span><br><span class="line"></span><br><span class="line">DuLinkList InitList();&#x2F;&#x2F;å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨çš„å»ºç«‹</span><br><span class="line">int Listlength(DuLinkList L);&#x2F;&#x2F;æ±‚é“¾è¡¨çš„é•¿åº¦</span><br><span class="line">void ListInsert(DuLinkList L, int i, ElemType e);&#x2F;&#x2F;åœ¨Lä¸­ç¬¬iä¸ªä½ç½®ä¹‹åæ’å…¥ä¸€ä¸ªç»“ç‚¹çš„æ•°å€¼ä¸ºe</span><br><span class="line">void ListDelete(DuLinkList L, int i);&#x2F;&#x2F;é“¾è¡¨ç¬¬iä¸ªç»“ç‚¹çš„åˆ é™¤</span><br><span class="line">int GetElemtype(DuLinkList L, int i);&#x2F;&#x2F; è¿”å›Lä¸­ç¬¬iä¸ªä½ç½®çš„æ•°æ®å…ƒç´ çš„å€¼</span><br><span class="line">void GetElem(DuLinkList L, ElemType e);&#x2F;&#x2F;æŸ¥æ‰¾åœ¨é“¾è¡¨ä¸­æ˜¯å¦æœ‰eè¿™ä¸ªå…ƒç´ ï¼Œæœ‰çš„è¯è¿”å›å®ƒåœ¨é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œæ²¡æœ‰çš„è¯æ˜¾ç¤ºæ— </span><br><span class="line">void ListCleaner(DuLinkList L);&#x2F;&#x2F;é“¾è¡¨çš„æ¸…é™¤</span><br><span class="line">void print(DuLinkList L);&#x2F;&#x2F;é“¾è¡¨çš„è¾“å‡º</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DuLinkList InitList()</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList L,Last;</span><br><span class="line">	L &#x3D; (DuLinkList)malloc(sizeof(DuLinkList));</span><br><span class="line">	L-&gt;prior &#x3D; NULL;</span><br><span class="line">	L-&gt;next &#x3D; NULL;</span><br><span class="line">	Last &#x3D; L;&#x2F;&#x2F;lastä¸€ç›´æŒ‡å‘é“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¾¿äºå¾ªç¯å†…éƒ¨çš„åˆå§‹åŒ–é“¾è¡¨çš„å€¼</span><br><span class="line">	int data;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥åŒå‘é“¾è¡¨çš„å€¼:(ä»¥ç©ºæ ¼ä¸ºé—´éš”ï¼Œç»“å°¾ä¸º-1ä¸”ä¸ç®—åœ¨é“¾è¡¨ä¸­)&quot;);</span><br><span class="line">	while (scanf(&quot;%d&quot;,&amp;data)&amp;&amp;data!&#x3D;-1)&#x2F;&#x2F;å‡ºç°-1åˆ™è·³å‡ºå¾ªç¯ï¼Œ-1ä¸åœ¨é“¾è¡¨ä¹‹å†…</span><br><span class="line">	&#123;</span><br><span class="line">		DuLNode *p &#x3D; (DuLNode *)malloc(sizeof(DuLNode));</span><br><span class="line">		p-&gt;data &#x3D; data;</span><br><span class="line">		Last-&gt;next&#x3D;p;</span><br><span class="line">		p-&gt;prior &#x3D; Last;</span><br><span class="line">		p-&gt;next &#x3D; NULL;</span><br><span class="line">		Last &#x3D; p;</span><br><span class="line">	&#125;</span><br><span class="line">	Last-&gt;next &#x3D; NULL;&#x2F;&#x2F;æœ€ålastæŒ‡å‘æœ€åä¸€ä¸ªæœ‰æ•ˆçš„ç»“ç‚¹pï¼Œä½¿å…¶çš„nextæŒ‡å‘NULL</span><br><span class="line">	return L;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int Listlength(DuLinkList L)</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList p;</span><br><span class="line">	p &#x3D; L;</span><br><span class="line">	int length &#x3D; 0;</span><br><span class="line">	while (p-&gt;next)&#x2F;&#x2F;è‹¥p-&gt;nextä¸ç©ºï¼Œåˆ™temp++ï¼Œtempå³ä¸ºé“¾è¡¨çš„é•¿åº¦</span><br><span class="line">	&#123;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		length++;</span><br><span class="line">	&#125;</span><br><span class="line">	return length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int GetElemtype(DuLinkList L, int i)</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList p &#x3D; L;</span><br><span class="line">	int j &#x3D; 0;</span><br><span class="line">	if (L&#x3D;NULL)</span><br><span class="line">	&#123;</span><br><span class="line">		return;</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		while (p-&gt;next&amp;&amp;j &lt; i)&#x2F;&#x2F;æ‰¾åˆ°ç¬¬iä¸ªå…ƒç´ æ‰€åœ¨çš„ä½ç½®</span><br><span class="line">		&#123;</span><br><span class="line">			p &#x3D; p-&gt;next;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;&#x2F;&#x2F;è·³å‡ºå¾ªç¯æ—¶på½“å‰çš„ä½ç½®å³ä¸ºç¬¬iä¸ªå…ƒç´ æ‰€åœ¨çš„ä½ç½®(åˆ¤æ–­å¹¶è¾“å‡ºçš„æ¡ä»¶æ˜¯j&#x3D;&#x3D;i)</span><br><span class="line">		if (j&#x3D;&#x3D;i)</span><br><span class="line">		&#123;</span><br><span class="line">			return p-&gt;data;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void GetElem(DuLinkList L, ElemType e)</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList p &#x3D; L;</span><br><span class="line">	int temp &#x3D; 0;</span><br><span class="line">	while (p-&gt;next)&#x2F;&#x2F;p-&gt;nextè‹¥ä¸ç©ºï¼Œåˆ™ç»§ç»­è¿›è¡Œéå†ï¼ŒçŸ¥é“æ‰¾åˆ°p</span><br><span class="line">	&#123;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">		temp++;</span><br><span class="line">		if (p-&gt;data&#x3D;&#x3D;e)</span><br><span class="line">		&#123;</span><br><span class="line">			printf(&quot;å­˜åœ¨è¯¥å…ƒç´ ï¼Œä¸”å®ƒçš„ä½ç½®åœ¨é“¾è¡¨çš„ç¬¬%dä¸ªä½ç½®ä¸Š\n&quot;, temp);</span><br><span class="line">			temp &#x3D; -1;&#x2F;&#x2F;è‹¥å…ƒç´ åœ¨æœ€åä¸€ä¸ªä½ç½®ä¸Šï¼Œåˆ™ä¸‹é¢çš„è¯ä¹Ÿä¼šè¾“å‡ºï¼Œæ‰€ä»¥æ”¹å˜tempçš„å€¼ï¼Œä½¿å…¶è·³å‡ºå¾ªç¯æ—¶ä¸ä¼šè¢«ä¸‹é¢çš„åˆ¤æ–­å¥æ‰€æ¥æ”¶</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if (temp&gt;0)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;è¯¥é“¾è¡¨ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ListCleaner(DuLinkList L)</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList p;</span><br><span class="line">	p &#x3D; L-&gt;next;&#x2F;&#x2F;Lä¸ºå¤´ç»“ç‚¹ï¼Œæ‰€ä»¥pè¦æŒ‡å‘é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„ç»“ç‚¹å³å¤´ç»“ç‚¹çš„next</span><br><span class="line">	while (p)</span><br><span class="line">	&#123;</span><br><span class="line">		L-&gt;next &#x3D; p-&gt;next;&#x2F;&#x2F;å°†L-&gt;nextæŒ‡å‘p-&gt;nextï¼Œä¾¿äºåˆ é™¤pæ—¶å½±å“é“¾è¡¨çš„ç»“æ„</span><br><span class="line">		free(p);</span><br><span class="line">		p &#x3D; L-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;é“¾è¡¨å·²æ¸…é™¤å®Œæ¯•ï¼\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print(DuLinkList L)</span><br><span class="line">&#123;</span><br><span class="line">	int i &#x3D; 1;</span><br><span class="line">	DuLinkList p &#x3D; L-&gt;next;</span><br><span class="line">	while (p)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;é“¾è¡¨çš„ç¬¬%dä¸ªå…ƒç´ ä¸ºï¼š%d\n&quot;, i, p-&gt;data);</span><br><span class="line">		i++;</span><br><span class="line">		p &#x3D; p-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ListInsert(DuLinkList L, int i, ElemType e)</span><br><span class="line">&#123;</span><br><span class="line">	DuLinkList p &#x3D; L-&gt;next;</span><br><span class="line">	int j &#x3D; 0;</span><br><span class="line">	if (i&lt;0||i&gt;Listlength(L))</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;æ‰€æ’å…¥çš„ä½ç½®ä¸å­˜åœ¨ï¼\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		while (p&amp;&amp;j &lt; i - 1)&#x2F;&#x2F;æ‰¾åˆ°pä¸ºæ‰€è¦æ’å…¥çš„ä½ç½®(å³iä¹‹åçš„ä½ç½®)</span><br><span class="line">		&#123;</span><br><span class="line">			p &#x3D; p-&gt;next;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		if (i&#x3D;&#x3D;0)&#x2F;&#x2F;æƒ³åœ¨å¤´ç»“ç‚¹ä¹‹åæ’å…¥å…ƒç´ æ—¶</span><br><span class="line">		&#123;</span><br><span class="line">			DuLinkList inserted;</span><br><span class="line">			inserted &#x3D; (DuLinkList)malloc(sizeof(DuLinkList));</span><br><span class="line">			&#x2F;&#x2F;å››æ­¥èµ°ï¼ŒæŠŠå››ä¸ªçº¿è¿èµ·æ¥</span><br><span class="line">			inserted-&gt;data &#x3D; e;</span><br><span class="line">			L-&gt;next &#x3D; inserted;</span><br><span class="line">			inserted-&gt;prior &#x3D; L;</span><br><span class="line">			inserted-&gt;next &#x3D; p;</span><br><span class="line">			p-&gt;prior &#x3D; inserted;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (p-&gt;next)&#x2F;&#x2F;i&gt;0&amp;&amp;pä¹‹åè¿˜æœ‰ç»“ç‚¹æ—¶</span><br><span class="line">		&#123;</span><br><span class="line">			DuLinkList inserted;</span><br><span class="line">			inserted &#x3D; (DuLinkList)malloc(sizeof(DuLinkList));</span><br><span class="line">			inserted-&gt;data &#x3D; e;</span><br><span class="line">			&#x2F;&#x2F;å››æ­¥èµ°ï¼ŒæŠŠå››ä¸ªçº¿è¿èµ·æ¥</span><br><span class="line">			inserted-&gt;next &#x3D; p-&gt;next;</span><br><span class="line">			p-&gt;next-&gt;prior &#x3D; inserted;</span><br><span class="line">			p-&gt;next &#x3D; inserted;</span><br><span class="line">			inserted-&gt;prior &#x3D; p;</span><br><span class="line">			printf(&quot;æ’å…¥æˆåŠŸï¼\n&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;&#x2F;&#x2F;i&gt;0&amp;&amp;pä¸ºé“¾è¡¨æœ€åä¸€ä¸ªç»“ç‚¹æ—¶</span><br><span class="line">			DuLinkList inserted;</span><br><span class="line">			inserted &#x3D; (DuLinkList)malloc(sizeof(DuLinkList));</span><br><span class="line">			inserted-&gt;data &#x3D; e;</span><br><span class="line">			&#x2F;&#x2F;ä¸‰æ­¥èµ°</span><br><span class="line">			p-&gt;next &#x3D; inserted;</span><br><span class="line">			inserted-&gt;prior &#x3D; p;</span><br><span class="line">			inserted-&gt;next &#x3D; NULL;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ListDelete(DuLinkList L, int i)</span><br><span class="line">&#123;</span><br><span class="line">	if (i&lt;0||i&gt;Listlength(L))</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;ä½ç½®ä¸å­˜åœ¨ï¼\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		int j &#x3D; 0;</span><br><span class="line">		DuLinkList p &#x3D; L-&gt;next;&#x2F;&#x2F;Lä¸ºå¤´ç»“ç‚¹ï¼Œæ‰€ä»¥pè¦æŒ‡å‘é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªæœ‰æ•ˆçš„ç»“ç‚¹å³å¤´ç»“ç‚¹çš„next</span><br><span class="line">		&#x2F;&#x2F;å…ˆæ‰¾åˆ°è¢«åˆ é™¤ç»“ç‚¹çš„ä½ç½®</span><br><span class="line">		while (p&amp;&amp;j &lt; i - 1)</span><br><span class="line">		&#123;</span><br><span class="line">			p &#x3D; p-&gt;next;</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		if (p-&gt;next)&#x2F;&#x2F;pçš„nextåè¿˜æœ‰ç»“ç‚¹æ—¶</span><br><span class="line">		&#123;&#x2F;&#x2F;ä¸¤æ­¥èµ°</span><br><span class="line">			p-&gt;next-&gt;prior &#x3D; p-&gt;prior;</span><br><span class="line">			p-&gt;prior-&gt;next &#x3D; p-&gt;next;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;&#x2F;&#x2F;pä¸ºé“¾è¡¨æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="line">			p-&gt;prior-&gt;next &#x3D; NULL;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">	&#x2F;&#x2F;åŒå‘é“¾è¡¨çš„å®šä¹‰åŠåˆå§‹åŒ–</span><br><span class="line">	DuLinkList L;</span><br><span class="line">	L &#x3D; InitList();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;æ±‚é“¾è¡¨çš„é•¿åº¦</span><br><span class="line">	printf(&quot;è¯¥é“¾è¡¨çš„é•¿åº¦ä¸º;%d\n&quot;, Listlength(L));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;&#x2F;&#x2F;æ±‚é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®ä¸Šçš„å…ƒç´ </span><br><span class="line">	int temp;</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥æƒ³è¦çŸ¥é“çš„ç¬¬å‡ ä¸ªä½ç½®ï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;temp);</span><br><span class="line">	printf(&quot;è¯¥ä½ç½®ä¸Šçš„æ•°ä¸º:%d\n&quot;, GetElemtype(L, temp));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;æ±‚é“¾è¡¨æ˜¯å¦å­˜åœ¨å…ƒç´ çš„æŸä¸ªå€¼</span><br><span class="line">	printf(&quot;è¯·è¾“å…¥æƒ³çŸ¥é“é“¾è¡¨ä¸­æ˜¯å¦å­˜åœ¨è¯¥å…ƒç´ çš„å€¼ï¼š&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;temp);</span><br><span class="line">	GetElem(L, temp);</span><br><span class="line">	&#x2F;&#x2F;éå†è¾“å‡ºé“¾è¡¨çš„å…ƒç´ </span><br><span class="line">	print(L);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;åœ¨é“¾è¡¨ä¸­æŒ‡å®šä½ç½®åæ’å…¥å…ƒç´ </span><br><span class="line">	printf(&quot;è¾“å…¥ä½ æƒ³åœ¨ç¬¬å‡ ä¸ªä½ç½®ä¹‹åæ’å…¥å…ƒç´ :&quot;);</span><br><span class="line">	int yuansu, weizhi;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;weizhi);</span><br><span class="line">	printf(&quot;è¾“å…¥ä½ æƒ³æ’å…¥å…ƒç´ çš„å€¼:&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;yuansu);</span><br><span class="line">	ListInsert(L, weizhi, yuansu);</span><br><span class="line">	&#x2F;&#x2F;éå†</span><br><span class="line">	print(L);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;åœ¨é“¾è¡¨ä¸­æŒ‡å®šä½ç½®åˆ é™¤å…ƒç´ </span><br><span class="line">	printf(&quot;è¾“å…¥ä½ æƒ³åˆ é™¤çš„ç»“ç‚¹åœ¨é“¾è¡¨ä¸­çš„ä½ç½®:&quot;);</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;weizhi);</span><br><span class="line">	ListDelete(L, weizhi);</span><br><span class="line">	&#x2F;&#x2F;éå†</span><br><span class="line">	print(L);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;é€‰æ‹©æ˜¯å¦è¿›è¡Œæ‘§æ¯é“¾è¡¨æ“ä½œ</span><br><span class="line">	printf(&quot;æ˜¯å¦é€‰æ‹©è¿›è¡Œæ‘§æ¯é“¾è¡¨æ“ä½œï¼Œ1æ˜¯ç¡®å®šï¼Œ2æ˜¯ä¸è¿›è¡Œï¼š&quot;);</span><br><span class="line">	int boolean;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;boolean);	</span><br><span class="line">	if (boolean&#x3D;&#x3D;1)</span><br><span class="line">	&#123;</span><br><span class="line">		printf(&quot;é“¾è¡¨æ­£åœ¨åˆ é™¤å½“ä¸­ã€‚ã€‚ã€‚\n&quot;);</span><br><span class="line">		ListCleaner(L);</span><br><span class="line">		printf(&quot;è¯¥é“¾è¡¨çš„é•¿åº¦ä¸º:%d\n&quot;, Listlength(L));</span><br><span class="line">	&#125;</span><br><span class="line">	else&#123;</span><br><span class="line">		printf(&quot;æ­å–œä½ å®ŒæˆåŒå‘é“¾è¡¨çš„å…¨éƒ¨åŸºæœ¬æ“ä½œ!\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒå‘é“¾è¡¨ä»£ç é‡Œé¢çš„åŸºæœ¬å†…å®¹ä¹Ÿéƒ½æ˜¯å‚ç…§å•å‘é“¾è¡¨é‡Œé¢å†™çš„ï¼Œåªä¸è¿‡æ›´è¿›ä¸€æ­¥è€Œå·²ã€‚è€Œå¾ªç¯é“¾è¡¨æˆ‘æ²¡å†å†™æ˜¯å› ä¸ºåªè¦æŠŠæœ€ålast-nextä»æŒ‡å‘NULLæ”¹ä¸ºæŒ‡å‘å¤´ç»“ç‚¹å³å¯ã€‚å…·ä½“æ“ä½œè·Ÿå•å‘é“¾è¡¨å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼ˆå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä»åŒå‘é“¾è¡¨çš„åŸºç¡€ä¸Šåšä¹Ÿå°±æ˜¯åŒå‘å¾ªç¯é“¾è¡¨hhhï¼‰</p>
<p>è¿˜æœ‰å°±æ˜¯ï¼Œemmmmâ€¦æˆ‘å†™çš„ä¸¤ä¸ªåŸºæœ¬æ“ä½œé›†é‡Œé¢çš„é“¾è¡¨éƒ½æ˜¯å¸¦å¤´ç»“ç‚¹çš„ï¼Œè€Œä¸”Ctrl A+Crtl C+Ctrl Væ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨Cè¯­è¨€ç¼–è¯‘å™¨é€šè¿‡çš„ã€‚ã€‚ã€‚åˆšæƒ³èµ·æ¥è¡¥å……ä¸Šï¼Œè¿˜æœ‰ä¸€äº›å¯èƒ½æƒ³ä¸èµ·æ¥äº†æƒ³èµ·æ¥çš„æ—¶å€™ä¼šæ›´æ–°å“¦ï¼</p>
<p>å¤§å®¶ä¹Ÿè¦åŠ æ²¹é¸­ï¼</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>android å³ä¸Šè§’3ä¸ªç‚¹çš„menuèœå•çš„åˆ›å»º</title>
    <url>/2020/01/22/android-%E5%8F%B3%E4%B8%8A%E8%A7%923%E4%B8%AA%E7%82%B9%E7%9A%84menu%E8%8F%9C%E5%8D%95%E7%9A%84%E5%88%9B%E5%BB%BA/</url>
    <content><![CDATA[<p>ç›´æ¥åœ¨resæ–‡ä»¶ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å«menuï¼Œå¾€é‡Œé¢æ”¾menuæ–‡ä»¶ï¼Œåœ¨éœ€è¦çš„xmlä¸Šé¢å»ºç«‹,<br>æ¯”å¦‚æˆ‘åœ¨layoutæ–‡ä»¶å¤¹ä¸‹æœ‰activity_catalogï¼Œé‚£ä¹ˆæˆ‘æƒ³åœ¨è¿™ä¸ªå¸ƒå±€ä¸Šé¢å»ºç«‹ä¸€ä¸ªä¸‰ä¸ªç‚¹çš„èœå•ï¼Œåˆ™æˆ‘åœ¨menuä¸‹å»ºç«‹ä¸€ä¸ªmenu_catalog,ç„¶åä¸‹åˆ—ä»£ç å°±æ˜¯ä¸€ä¸ªä¾‹å­<br>å…¶ä¸­</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tools:context&#x3D;&quot;.CatalogActivity&quot;</span><br></pre></td></tr></table></figure>
<p>ç”¨æ¥æŒ‡å®šä½ è¦åœ¨å“ªä¸ªå¸ƒå±€ä¸Šå»ºç«‹ä¸‰ä¸ªç‚¹çš„èœå•æ ï¼Œç„¶å<br>itemç”¨æ¥æ·»åŠ èœå•é¡¹ï¼Œå¯¹åº”çš„å±æ€§å°±ä¸å¤šè¯´äº†å¯ä»¥ç½‘ä¸Šæœåˆ°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- Options menu for the CatalogActivity --&gt;</span><br><span class="line">    &lt;menu xmlns:android&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res&#x2F;android&quot;</span><br><span class="line">        xmlns:app&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;apk&#x2F;res-auto&quot;</span><br><span class="line">        xmlns:tools&#x3D;&quot;http:&#x2F;&#x2F;schemas.android.com&#x2F;tools&quot;</span><br><span class="line">        tools:context&#x3D;&quot;.CatalogActivity&quot;&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;item</span><br><span class="line">            android:id&#x3D;&quot;@+id&#x2F;action_insert_dummy_data&quot;</span><br><span class="line">            android:title&#x3D;&quot;@string&#x2F;action_insert_dummy_data&quot;</span><br><span class="line">            app:showAsAction&#x3D;&quot;never&quot; &#x2F;&gt;</span><br><span class="line">    </span><br><span class="line">        &lt;item</span><br><span class="line">            android:id&#x3D;&quot;@+id&#x2F;action_delete_all_entries&quot;</span><br><span class="line">            android:title&#x3D;&quot;@string&#x2F;action_delete_all_entries&quot;</span><br><span class="line">            app:showAsAction&#x3D;&quot;never&quot; &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;menu&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>android studio FloatingActionButton åœ¨ç°ç‰ˆæœ¬çš„æ·»åŠ æ–¹å¼ï¼ˆ3.4.2ï¼‰</title>
    <url>/2020/01/22/android-studio-FloatingActionButton-%E5%9C%A8%E7%8E%B0%E7%89%88%E6%9C%AC%E7%9A%84%E6%B7%BB%E5%8A%A0%E6%96%B9%E5%BC%8F%EF%BC%883-4-2%EF%BC%89/</url>
    <content><![CDATA[<p>ä¹‹å‰æˆ‘åœ¨çœ‹ä¼˜è¾¾å­¦åŸçš„androidåŸºç¡€å¼€å‘ï¼ˆ<a href="https://classroom.udacity.com/courses/ud845/lessons/f5bb088f-6cc0-4e7d-9985-1418654bb141/concepts/e6620651-469b-4754-9ac9-dc34f6f0b781/">https://classroom.udacity.com/courses/ud845/lessons/f5bb088f-6cc0-4e7d-9985-1418654bb141/concepts/e6620651-469b-4754-9ac9-dc34f6f0b781/</a>ï¼‰<br>æ—¶é‡åˆ°äº†é—®é¢˜ï¼ˆ<a href="https://github.com/udacity/ud845-Pets/">https://github.com/udacity/ud845-Pets/</a>ï¼‰ï¼Œå°±æ˜¯å®ƒåˆ›å»ºçš„ä¸»ç•Œé¢æœ‰ä¸€ä¸ªfloatingActionButton,ä½†æ˜¯éœ€è¦ç‰¹æ®Šçš„æ”¯æŒã€‚<br>ç™¾åº¦åå¾ˆå¤šäººè¯´è¦å¼•ç”¨è¿™ä¸ªï¼š</p>
<a id="more"></a>
<p><strong>åœ¨build.gradleä¸­åŠ å…¥ï¼š<br>ã€€compile â€˜com.android.support:design:26.0.0â€™</strong><br>å®é™…ä¸Šæˆ‘çš„IDEä¸­è¿˜æ˜¯ä¸å¯ä»¥ï¼Œä½†æ˜¯æˆ‘ä½¿ç”¨äº†é»˜è®¤çš„æ–¹æ³•ï¼ŒaltåŠ enterï¼Œè¿™æ ·IDEè‡ªåŠ¨åŠ ä¸Šäº†å¼•ç”¨<br><strong>import com.google.android.material.floatingactionbutton.FloatingActionButton;</strong><br>åŸå› å¯èƒ½æ˜¯å› ä¸ºå®‰å“ç‰ˆæœ¬çš„æ›´æ–°å¯¼è‡´å¼•ç”¨å‘ç”Ÿäº†å˜åŒ–ï¼Œç‰¹è®°å½•ä¸‹æ¥æ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚<br>å¼•ç”¨æ—¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;com.google.android.material.floatingactionbutton.FloatingActionButton</span><br><span class="line">        android:id&#x3D;&quot;@+id&#x2F;fab&quot;</span><br><span class="line">        android:layout_width&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height&#x3D;&quot;wrap_content&quot;</span><br><span class="line">        android:layout_alignParentRight&#x3D;&quot;true&quot;</span><br><span class="line">        android:layout_alignParentBottom&#x3D;&quot;true&quot;</span><br><span class="line">        android:layout_margin&#x3D;&quot;@dimen&#x2F;fab_margin&quot;</span><br><span class="line">        android:src&#x3D;&quot;@drawable&#x2F;ic_add_pet&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Android</tag>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨gitå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸Š(åŒ…æ‹¬readme.md)</title>
    <url>/2020/01/22/%E4%BD%BF%E7%94%A8git%E5%B0%86%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%8A-%E5%8C%85%E6%8B%ACreadme-md/</url>
    <content><![CDATA[<p>1.åœ¨æœ¬åœ°é¡¹ç›®ç›®å½•æ–‡ä»¶ä¸‹å³é”®é¼ æ ‡ç‚¹å‡»git bash hereï¼Œä½¿ç”¨git initå‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ä»“åº“<br>2.åœ¨githubä¸Šé¢æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼ˆä¸åˆå§‹åŒ–readme.mdï¼Œæœ€åæˆ‘ä»¬ä¼šå¤„ç†å®ƒï¼‰<br>3.git remote add origin + è¿œç¨‹ä»“åº“url</p>
<a id="more"></a>
<p>4.git add .<br>   git commit -m â€œè¯´æ˜â€<br>   git push -u origin master<br>5.æ­¤æ—¶ï¼Œåˆ·æ–°githubä¸Šé¢çš„å†…å®¹ï¼Œå‘ç°å·²ç»æäº¤åˆ°è¿œç¨‹ä»“åº“ä¸Šé¢äº†ã€‚<br>6.åœ¨githubä¸‹é¢æœ‰ä¸€ä¸ªcreate readme.mdé€‰é¡¹ï¼ˆå¦‚æœä½ é¡¹ç›®ä¸­æ²¡æœ‰readme.mdçš„è¯ï¼‰ï¼Œåˆ›å»ºå¹¶ç¼–è¾‘ã€‚<br>7.ä½¿ç”¨git pull origin master:masterå‘½ä»¤ï¼Œå°†è¿œç¨‹ä»“åº“ä¸Šé¢çš„å†…å®¹pullåˆ°æœ¬åœ°ä»“åº“ï¼ˆå› ä¸ºæ­¤æ—¶è¿œç¨‹ä»“åº“æ¯”æœ¬åœ°ä»“åº“å¤šä¸€ä¸ªreadmd.mdï¼‰<br>8.å¤§åŠŸå‘Šæˆï¼Œç»™è‡ªå·±é¼“æŒï¼Œåˆ‡è®°ä»¥åå°½é‡ä¸è¦å†githubä¸Šé¢ç›´æ¥ç¼–è¾‘æ–‡ä»¶ï¼Œéœ€è¦åœ¨æœ¬åœ°ä»“åº“æ”¹å˜æ–‡ä»¶åè¿›è¡Œç¬¬4æ­¥å³å¯ã€‚<br>9.è‹¥ä¸å°å¿ƒåœ¨githubä¸Šé¢åŠ¨äº†ä»£ç ä¹Ÿä¸è¦ç´§ï¼Œä½¿ç”¨ç¬¬7æ­¥å³å¯ã€‚</p>
<img src="/2020/01/22/%E4%BD%BF%E7%94%A8git%E5%B0%86%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%8A-%E5%8C%85%E6%8B%ACreadme-md/1.jpg" class="" title="[ä½¿ç”¨gitå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸Š(åŒ…æ‹¬readme.md)]">  

<hr>
<img src="/2020/01/22/%E4%BD%BF%E7%94%A8git%E5%B0%86%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%8A-%E5%8C%85%E6%8B%ACreadme-md/2.png" class="" title="[ä½¿ç”¨gitå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸Š(åŒ…æ‹¬readme.md)]">  

<hr>
<img src="/2020/01/22/%E4%BD%BF%E7%94%A8git%E5%B0%86%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%8A-%E5%8C%85%E6%8B%ACreadme-md/3.jpg" class="" title="[ä½¿ç”¨gitå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸Š(åŒ…æ‹¬readme.md)]"> 

<hr>
<img src="/2020/01/22/%E4%BD%BF%E7%94%A8git%E5%B0%86%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%B8%8A-%E5%8C%85%E6%8B%ACreadme-md/4.png" class="" title="[ä½¿ç”¨gitå°†æœ¬åœ°ä»“åº“pushåˆ°è¿œç¨‹ä»“åº“ä¸Š(åŒ…æ‹¬readme.md)]">  
]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>leetcodeåˆ·é¢˜</title>
    <url>/2020/01/22/leetcode%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<p>ä¸Šç¯‡åšå®¢æåˆ°è¿‡ï¼Œæˆ‘åœ¨å¤‡æˆ˜PATæ—¶ä¹Ÿæ˜¯è¾¹çœ‹ã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹è¾¹åšPATå’Œleetcodeä¸¤ä¸ªå¹³å°ä¸Šé¢çš„é¢˜ï¼Œè€Œleetcodeå¹³å°çš„é¢˜åªéœ€è¦å†™å‡½æ•°å³å¯ï¼Œä¸éœ€è¦å¤§å±€è§‚çš„ç»†èŠ‚è®©ä½ å®ç°ï¼Œæ‰€ä»¥å¯¹äºç»ƒä¹ ç®—æ³•è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œ<a id="more"></a>  æˆ‘å¤§ä½“å°±æ˜¯æŒ‰çº¿æ€§è¡¨-æ ˆé˜Ÿåˆ—-æ ‘-å›¾ç­‰é¡ºåºå’Œä¸“é¢˜åˆ·çš„ï¼Œè¿™æ˜¯æˆ‘çš„é“¾æ¥ï¼š<a href="https://leetcode-cn.com/u/user4002g/">https://leetcode-cn.com/u/user4002g/</a></p>
<img src="/2020/01/22/leetcode%E5%88%B7%E9%A2%98/1.png" class="" title="[leetcodeåˆ·é¢˜]">  ]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>leetcode</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>2019å¹´å†¬å­£PATè€ƒè¯•</title>
    <url>/2020/01/21/2019%E5%B9%B4%E5%86%AC%E5%AD%A3PAT%E8%80%83%E8%AF%95/</url>
    <content><![CDATA[<p>2019å¹´12æœˆ7æ—¥ï¼Œå»å‚åŠ äº†2019å¹´å†¬å­£PATè€ƒè¯•ï¼Œä¹‹å‰å¾ˆæ—©å°±çŸ¥é“PATè€ƒè¯•ï¼Œè€ŒçœŸæ­£æƒ³å¼€å§‹è€ƒç”²çº§è¿˜æ˜¯2019å¹´æš‘å‡ï¼Œæ‰€ä»¥ä»8æœˆ5æ—¥ï¼Œæˆ‘å°±ç›´æ¥å›å­¦æ ¡ï¼Œå¼€å§‹å‡†å¤‡åˆ·é¢˜ï¼Œå­¦æ•°æ®ç»“æ„äº†ã€‚</p>
<p>è¿™ç¯‡åšå®¢è™½ç„¶æ˜¯å†™2019å¹´å†¬å­£PATè€ƒè¯•çš„åšå®¢ï¼Œä½†è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹è‡ªå·±å¤‡è€ƒé‚£æ®µç»å†ï¼Œåˆ°ç°åœ¨ä¸€æƒ³ç¡®å®è§‰å¾—å¾ˆæ„Ÿè°¢å½“æ—¶çš„è‡ªå·±ã€‚</p>
<a id="more"></a>

<hr>
<p>1.2019-8-5~2019-10-1ï¼š<br>è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨å…¨èº«å¿ƒå¤‡è€ƒï¼Œå¤§æ¦‚çš„æ—¶é—´æ®µå°±æ˜¯æ¯å¤©ä¸Šåˆ8-11ï¼š30å’Œä¸‹åˆ2-5ç‚¹ï¼Œç„¶å5ç‚¹è¿‡åå°±å¼€å§‹å»å¥èº«æˆ¿å¥èº«(æ¯å‘¨1,3,5,7),æ™šä¸Šå°±æ”¾æ¾ç©ä¸€ä¼šï¼Œå¤§æ¦‚æ¯å¤©éƒ½æ˜¯è¿™ä¹ˆåº¦è¿‡ï¼Œå½“æœ‰è¯¾çš„è¯è¿˜æ˜¯å»ä¸Šè¯¾çš„ã€‚å­¦ä¹ çš„æ—¶é—´å‘¢ï¼Œå°±åœ¨PATå’Œleetcodeä¸¤ä¸ªå¹³å°ä¸Šé¢åˆ·é¢˜ï¼Œåˆ†åˆ«ç”¨çš„IDEæ˜¯VS2017å’ŒVS codeï¼ŒåŒæ—¶åœ¨ipadä¸Šä¸‹è½½äº†å¤§è¯æ•°æ®ç»“æ„å¹¶è·Ÿç€çœ‹ï¼ŒåŸºæœ¬ä¸Šè€ƒè¯•ä¹‹å‰éƒ½çœ‹å®Œäº†ã€‚è¿™æ®µæ—¶é—´ä¹Ÿæ˜¯æˆ‘æ„Ÿè§‰æå‡éå¸¸å¿«çš„ä¸€æ®µæ—¶é—´ã€‚</p>
<hr>
<p>2.2019-10-7~2019-12-7ï¼š<br>è‡ªä»å›½åº†è·Ÿå¥³æœ‹å‹å»é’å²›ç©ä¹‹åä¸€ç›´åˆ°å›æ¥ï¼Œå› ä¸ºç©çš„ç¡®å®æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥æ„Ÿè§‰ä»è¿™åæ²¡æœ‰ä¹‹å‰èˆ¬åŠªåŠ›äº†ã€‚ä¸è¿‡å³ä½¿è¿™æ ·ï¼Œæˆ‘è¿˜ä»æ˜¯åšæŒæ¯å¤©ä¸€é“PATç”²çº§é¢˜åº“çš„é¢˜ï¼Œleetcodeçš„é¢˜åè€Œä¸åšäº†ï¼Œå› ä¸ºç¡®å®ä¸¤ä¸ªé¢˜åº“ä¾§é‡ç‚¹ä¸ä¸€æ ·ï¼Œæˆ‘ä¸ºäº†è€ƒPATè¿˜æ˜¯ç€é‡åˆ·PATçš„é¢˜ã€‚</p>
<p>soï¼Œæœ€ç»ˆè€ƒè¯•è€ƒäº†98åˆ†ï¼Œé—®é¢˜å‡ºåœ¨ç¬¬ä¸€é¢˜ï¼Œä¹Ÿå°±æ˜¯20åˆ†çš„é¢˜ï¼Œå…¶å®ä¸´æœ€åä¸€åˆ†é’Ÿçš„æ—¶å€™çŸ¥é“é‚£ä¸ªæµ‹è¯•ç‚¹é—®é¢˜å‡ºåœ¨å“ªé‡Œäº†ï¼Œä½†æˆ‘æ”¹å®Œæƒ³æäº¤ä¸Šå»æ—¶é—´ä¹Ÿç»“æŸäº†ã€‚æ€ä¹ˆè¯´å‘¢ï¼Œç¡®å®æœ‰ç‚¹å¯æƒœï¼Œä¸è¿‡è¿™ä¹Ÿè¯´æ˜æˆ‘å¹³æ—¶è¸©çš„å‘æ¯”è¾ƒå°‘å§ã€‚ä¸è¿‡ç¬¬ä¸€æ¬¡è€ƒäº†98åˆ†æˆ‘è¿˜æ˜¯æ¯”è¾ƒæ»¡æ„(è™½ç„¶åæ¥å¾—çŸ¥ç¡®å®é¢˜ç›®å¾ˆç®€å•),ä½†å¯èƒ½ä»¥åè¿˜ä¼šå†ç»§ç»­å¤‡è€ƒå§ï¼Œä¸è¿‡ä¹Ÿè¯´ä¸å‡†ã€‚</p>
<p>æˆ‘ä»Šå¤©ä»PATç”²çº§å¹³å°ä¸Šçœ‹äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯155é“é¢˜ï¼Œè€ƒè¯•çš„å››é“é¢˜å¹¶æ²¡æœ‰ä¼ åˆ°é¢˜åº“ä¸­ï¼Œä¸è¿‡å¤§ä½“ä¾ç¨€è®°å¾—ï¼š<br>1.HelloWorldï¼Œè¾“å…¥è¾“å‡ºé¢˜ï¼Œä½†è¸©å‘ç‚¹åœ¨è¾“å…¥çš„å­—ç¬¦ä¸­#ä½ç½®ä¸ä¸€å®šåœ¨å“ªï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æœ€åæ‰åˆ†çš„åœ°æ–¹ã€‚<br>2.é“¾è¡¨é¢˜ï¼Œå› ä¸ºä¹‹å‰æ€»ç»“äº†é“¾è¡¨é¢˜æ‰€ä»¥è§‰å¾—ä¸æ˜¯å¾ˆéš¾ï¼Œå¤§æ¦‚åŠå°æ—¶å†™å®Œäº†å¾—äº†25(å…¶å®5åˆ†é’Ÿå°±å†™å®Œäº†ï¼Œä½†æœ‰ä¸ªæµ‹è¯•ç‚¹é”™è¯¯ï¼Œdebugäº†25åˆ†é’Ÿ)<br>3.éå¸¸ç®€å•çš„å›¾è®ºï¼Œæˆ‘è®°å¾—æ˜¯ä¸€é“ç»™åˆ†é…ä½ç½®çš„DFSé¢˜ï¼Œè€ƒå‰å¥½åƒæ­£å¥½åšåˆ°äº†<a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805343979159552/">ç±»ä¼¼çš„é¢˜</a>ã€‚<br>4.ä¸€é“å»ºæ ‘é¢˜ï¼Œåº”è¯¥æ˜¯ç”¨çš„é€’å½’å§ï¼Œæˆ‘å¿˜è®°äº†ã€‚å½“æ—¶ä¸€çœ¼æ²¡çœ‹å‡ºæ¥ä»¥ä¸ºå’Œæ ¹æ®å‰åºéå†ä¸­åºéå†æ¨ååºéå†ç±»ä¼¼ï¼Œæœ€åå‘ç°æ˜¯ç”¨é€’å½’å°±å¯ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘çš„è€ƒè¯•ç»å†ï¼Œæˆ‘å¤§äºŒä¸ŠåŠå­¦æœŸå­¦çš„æ•°æ®ç»“æ„ï¼Œå½“æ—¶å­¦åˆ°åé¢è§‰å¾—å¾ˆéš¾å°±æ”¾æ¾äº†å¯¹å®ƒçš„åŠªåŠ›ï¼Œå…¶å®ç°åœ¨è§‰å¾—ï¼Œè½¯ä»¶çš„æœ€åŸºæœ¬çš„å†…å®¹å°±æ˜¯æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸‹å®šäº†å†³å¿ƒè¦å¥½å¥½æŠŠå®ƒå­¦å¥½ã€‚æˆ‘ä¸æ˜¯æœ€èªæ˜çš„å­¦ç”Ÿï¼Œåªæƒ³åšæœ€åŠªåŠ›çš„ï¼Œå¤§ä¸‰ä¸‹åŠå­¦æœŸï¼Œè€ƒç ”åŠ æ²¹ï¼</p>
<p>æˆ‘çš„ä¸ªäººåšå®¢å‹æƒ…é“¾æ¥é‡Œé¢æœ‰PATæˆ‘å°±ä¸è´´äº†ï¼Œæˆ‘æ¯åˆ·å®Œä¸€é“é¢˜éƒ½ä¼šæŠŠå®ƒæ”¾åˆ°githubä¸Š, é“¾æ¥:<a href="https://github.com/MrSunCodes/PAT_AdvanceLevel/">https://github.com/MrSunCodes/PAT_AdvanceLevel</a></p>
]]></content>
      <categories>
        <category>PAT</category>
      </categories>
      <tags>
        <tag>PAT</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ç¯‡åšå®¢-Hexoåšå®¢çš„å»ºç«‹ä¸éƒ¨ç½²</title>
    <url>/2020/01/20/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2-Hexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[<ol>
<li>é¦–å…ˆä¸‹è½½node.jsä»¥åŠgit(è¿™ä¸¤ä¸ªéƒ½æ˜¯hexoåšå®¢æ¡†æ¶æ‰€éœ€è¦çš„)<br>node.js:<a href="https://nodejs.org/en/">å®˜ç½‘</a><br>git<a href="https://git-scm.com/downloads/">å®˜ç½‘</a>  </li>
<li>å®‰è£…Hexo<br>2.1é¦–å…ˆï¼Œnode.jsä¸‹è½½å¹¶å®‰è£…åæ˜¯é»˜è®¤å®‰è£…npm(é¡¹ç›®ç®¡ç†å·¥å…·)<br>2.2 å› ä¸ºnpmæ˜¯ä½¿ç”¨å›½å¤–é•œåƒï¼Œæ‰€ä»¥æˆ‘ä»¬ä¿®æ”¹å¹¶ä½¿ç”¨æ·˜å®çš„é•œåƒï¼Œè¿™æ ·ä¹‹åçš„å‘½ä»¤æ‰§è¡Œé€Ÿåº¦ä¼šå˜å¿«ï¼Œ å…¶ä¸‹è½½å‘½ä»¤æ˜¯:  </li>
</ol>
<a id="more"></a>  

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>åˆ«å¿˜æµ‹è¯•hhï¼Œä¹‹å‰æµ‹è¯•çš„å‘½ä»¤åˆ†åˆ«ä¸ºï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">cnpm</span><br></pre></td></tr></table></figure>
<p>å®Œæˆä¹‹åå®‰è£…Hexoï¼š  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<p>æ£€éªŒHexoæ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<p>3.åˆ›å»ºä¸€ä¸ªç›®å½•ï¼š(æˆ‘çš„æ˜¯æ”¾åœ¨äº†F:/MyBlog)<br>ä½¿ç”¨å‘½ä»¤:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p>è¿™æ­¥æ˜¯å°†æ¡†æ¶åˆå§‹åŒ–çš„å†…å®¹æ·»åŠ åˆ°ä½ åˆšæ‰åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­<br>4.è¿è¡Œæµ‹è¯•ï¼š<br>å¸¸ä½¿ç”¨çš„å››ä¸ªå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean #ç”¨æ¥æ¸…ç†ç¼“å­˜æ–‡ä»¶</span><br><span class="line">hexo g      #ç”Ÿæˆæ–‡ä»¶</span><br><span class="line">hexo  s     #è¿è¡Œæœ¬åœ°æœåŠ¡å™¨</span><br><span class="line">hexo  d   #ä¸Šä¼ åˆ°æœåŠ¡å™¨</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œæ—¶ï¼Œå…ˆä½¿ç”¨å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>æ‰“å¼€æµè§ˆå™¨çš„<strong>localhost:4000</strong>ï¼Œå³å¯å‘ç°æœ¬åœ°ç™»å½•æˆåŠŸã€‚<br>æˆ‘æ˜¯éƒ¨ç½²åˆ°githubä¸Šï¼Œä¸éœ€è¦å…³å¿ƒæœåŠ¡å™¨ç§Ÿèµè´¹ä»¥åŠåŸŸåç­‰ç­‰é—®é¢˜ï¼Œ<br>é¦–å…ˆåœ¨githubä¸Šé¢åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œåå­—å°±å«åš[githubç”¨æˆ·å].github.io,ç„¶ååœ¨è‡ªå·±æ‰€åˆ›å»ºçš„ç›®å½•ä¸­[æˆ‘çš„æ˜¯F:/MyBlog]æ‰“å¼€<strong>_config.ymlæ–‡ä»¶</strong>ï¼Œå°†å…¶ä¸­çš„  </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br></pre></td></tr></table></figure>
<p>å­—æ®µå¡«è¡¥å®Œæ•´ä¸ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https:&#x2F;&#x2F;github.com&#x2F;MrSunCodes&#x2F;MrSunCodes.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p>repoä¸­çš„åœ°å€åŠä½ åœ¨githubä¸Šé¢åˆ›å»ºçš„ä»“åº“åœ°å€ã€‚<br>æœ€åï¼Œåªéœ€æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p>å³å¯å°†æœ¬åœ°çš„æ‰€æœ‰æ–‡ä»¶pushåˆ°githubä»“åº“ä¸­ï¼Œæ­¤æ—¶è®¿é—®<br><a href="https://mrsuncodes.github.io/">blog</a>å³ä½ çš„ç”¨æˆ·å.github.ioå³å¯(å¯èƒ½éœ€è¦å¤šåˆ·æ–°å‡ ä¸‹)</p>
<img src="/2020/01/20/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2-Hexo%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%B8%8E%E9%83%A8%E7%BD%B2/1.png" class="" title="[ç¬¬ä¸€ç¯‡åšå®¢-Hexoåšå®¢çš„å»ºç«‹ä¸éƒ¨ç½²]">  

<p>å¤§åŠŸå‘Šæˆï¼ä¸ªäººåšå®¢å·²ç»æèµ·æ¥äº†ï¼å‰©ä¸‹çš„å°±æ˜¯ç¼–å†™åšå®¢ä»¥åŠä¿®æ”¹ä¸»é¢˜ç­‰æ ·å¼äº†ï¼Œå…·ä½“å¯çœ‹æˆ‘çš„ä¸‹ä¸€ç¯‡åšå®¢ã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€æ ·åœ¨Hexoä¸Šå†™åšå®¢</title>
    <url>/2020/01/20/%E6%80%8E%E6%A0%B7%E5%9C%A8Hexo%E4%B8%8A%E5%86%99%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>ç¼–å†™åšå®¢çš„å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;title&quot;</span><br></pre></td></tr></table></figure>
<p>titleæ˜¯åšå®¢çš„åç§°ï¼Œå³æ˜¾ç¤ºåˆ°ä¸»é¡µçš„title<br>æ­¤æ¡å‘½ä»¤ä¼šåœ¨source/postsæ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªä»¥titleå‘½åçš„mdæ–‡ä»¶ï¼Œåªéœ€ä¿®æ”¹å…¶mdæ–‡ä»¶åå†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<a id="more"></a>  

<p>æ‰§è¡Œä¸Šé¢ä¸¤æ¡å‘½ä»¤å³å¯å°†ä¿®æ”¹çš„mdæ–‡ä»¶pushåˆ°githubä¸Šï¼Œå³å¯é€šè¿‡ç½‘ç«™è®¿é—®ï¼Œä¸è¿‡æ¨èå…ˆä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>åœ¨æœ¬åœ°è¿›è¡Œæµ‹è¯•ï¼Œè¿™æ ·æ›´å¿«è€Œä¸”åªè¦æœ¬åœ°æœåŠ¡å™¨å¼€ç€ï¼Œå°±ä¸éœ€è¦å†ä¸Šä¼ ä¸€éæ‰èƒ½çœ‹æ•ˆæœäº†ï¼Œå¯ä»¥è¾¹çœ‹æ•ˆæœè¾¹ä¿®æ”¹ï¼Œä¹‹åä¸€å¹¶å°†ä¿®æ”¹çš„æœ€ç»ˆå†…å®¹pushåˆ°githubã€‚  </p>
<p>ç¼–å†™åšå®¢æ—¶ï¼Œæ¨èä½¿ç”¨æœ‰é“äº‘ç¬”è®°(æˆ‘ä½¿ç”¨çš„å°±æ˜¯æœ‰é“äº‘ç¬”è®°)ï¼š<a href="http://note.youdao.com/download.html">å®˜ç½‘ä¸‹è½½</a>  </p>
<p>ä½¿ç”¨æœ‰é“äº‘ç¬”è®°ç¼–å†™Markdownæ–‡ä»¶åå¯ä»¥è¾¹ç¼–å†™è¾¹é¢„è§ˆæ•ˆæœï¼Œæœ€åç¼–å†™å®Œæˆååªéœ€å¤åˆ¶ç²˜è´´åˆ°ä¹‹å‰çš„mdæ–‡ä»¶ä¸­(ä½¿ç”¨è®°å½•æœ¬å¤åˆ¶ç²˜è´´å³å¯)</p>
<p>å¦‚æœåšå®¢ä¸­æœ‰å›¾ç‰‡éœ€è¦ä¸Šä¼ ï¼Œé¦–å…ˆæ‰¾åˆ°é¡¹ç›®æ ¹ç›®å½•çš„_config.ymlæ–‡ä»¶,ä¿®æ”¹post_asset_folderå±æ€§ä¸ºtrue</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>
<p>åˆ«å¿˜å†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶å†ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;title&quot;</span><br></pre></td></tr></table></figure>
<p>åˆ›å»ºæ–°åšå®¢æ—¶ï¼Œåœ¨source/postsä¸­ä¼šç”ŸæˆtitleåŒåæ–‡ä»¶å¤¹,åªéœ€å°†æ‰€æœ‰è¯¥åšå®¢éœ€è¦çš„å›¾ç‰‡æ”¾å…¥å…¶ä¸­ï¼Œç„¶ååœ¨å›¾ç‰‡å¼•ç”¨ä½ç½®åŠ ä¸Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#123;% asset_img å›¾ç‰‡å.å›¾ç‰‡åç¼€ [title] %&#125;</span><br></pre></td></tr></table></figure>
<p><strong>titleç›´æ¥å°±æ˜¯è¯¥åšå®¢çš„titleï¼Œä¸éœ€è¦å†åŠ å¼•å·</strong></p>
<p>è‡³äºä¿®æ”¹åšå®¢çš„æ ·å¼ï¼Œéœ€è¦ä¿®æ”¹ä¸»ç›®å½•ä¸‹çš„ _config.ymlæ–‡ä»¶ï¼Œä»¥åŠthemes/ä½ çš„ä¸»é¢˜ä¸‹çš„ _config.ymlæ–‡ä»¶ï¼Œ<br>è¿™ä¸¤ä¸ªæ–‡ä»¶ä¿®æ”¹çš„éƒ¨åˆ†è¯·è§ç¤ºä¾‹ï¼š<br><a href="https://github.com/litten/hexo-theme-yilia/blob/master/_config.yml">ä¸»ç›®å½•çš„_config.ymlæ–‡ä»¶</a><br><a href="https://github.com/litten/BlogBackup/blob/master/_config.yml">ä¸»é¢˜ä¸‹çš„ _config.ymlæ–‡ä»¶</a></p>
<p>æœ€åéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸»é¡µä¼šæ˜¾ç¤ºåšå®¢çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚æœæƒ³è®©å…¶ç²¾ç®€ï¼ŒåŠ å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure>
<p>å³å¯<br>æ­¤æ—¶ï¼Œè¯¥ä½ç½®ä¼šæ˜¾ç¤ºmoreï¼Œç‚¹å‡»å°±æ˜¯è¯¥åšå®¢å‰©ä¸‹çš„å†…å®¹ï¼Œè€Œå‰©ä¸‹çš„å†…å®¹åœ¨ä¸»é¡µä¸­ä¸ä¼šæ˜¾ç¤ºã€‚</p>
]]></content>
      <categories>
        <category>åšå®¢æ­å»º</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
</search>
